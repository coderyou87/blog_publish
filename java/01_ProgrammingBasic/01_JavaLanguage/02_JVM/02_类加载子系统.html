<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>类加载子系统 | 小游</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon1" href="http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-02-18/d687f535b564447e82a3178a4e9b2f8c.jpg">
    <link rel="icon2" href="https://you-blog.oss-cn-shenzhen.aliyuncs.com/typora/2021-02-18/icon.jpg">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    <meta name="description" content="知行合一">
    <link rel="preload" href="/blog_publish/assets/css/0.styles.9a82886c.css" as="style"><link rel="preload" href="/blog_publish/assets/js/app.d3ef854b.js" as="script"><link rel="preload" href="/blog_publish/assets/js/2.bedb11a8.js" as="script"><link rel="preload" href="/blog_publish/assets/js/29.f7af61a1.js" as="script"><link rel="prefetch" href="/blog_publish/assets/js/10.5e1ee216.js"><link rel="prefetch" href="/blog_publish/assets/js/100.0529ec99.js"><link rel="prefetch" href="/blog_publish/assets/js/101.fc1a8c2d.js"><link rel="prefetch" href="/blog_publish/assets/js/102.7a8fedd9.js"><link rel="prefetch" href="/blog_publish/assets/js/103.2d636a15.js"><link rel="prefetch" href="/blog_publish/assets/js/104.5e4c1480.js"><link rel="prefetch" href="/blog_publish/assets/js/105.2ac713af.js"><link rel="prefetch" href="/blog_publish/assets/js/106.19d4cba0.js"><link rel="prefetch" href="/blog_publish/assets/js/107.79aab3cf.js"><link rel="prefetch" href="/blog_publish/assets/js/108.3e740a12.js"><link rel="prefetch" href="/blog_publish/assets/js/109.32ae5765.js"><link rel="prefetch" href="/blog_publish/assets/js/11.e4c3bdbc.js"><link rel="prefetch" href="/blog_publish/assets/js/110.2104c868.js"><link rel="prefetch" href="/blog_publish/assets/js/111.5c50ec9c.js"><link rel="prefetch" href="/blog_publish/assets/js/112.785c84fc.js"><link rel="prefetch" href="/blog_publish/assets/js/113.7eff94a1.js"><link rel="prefetch" href="/blog_publish/assets/js/114.08136c58.js"><link rel="prefetch" href="/blog_publish/assets/js/115.39178b08.js"><link rel="prefetch" href="/blog_publish/assets/js/116.5644090c.js"><link rel="prefetch" href="/blog_publish/assets/js/117.2e3fa409.js"><link rel="prefetch" href="/blog_publish/assets/js/118.c614f6d8.js"><link rel="prefetch" href="/blog_publish/assets/js/119.e2a74a7a.js"><link rel="prefetch" href="/blog_publish/assets/js/12.eb1f7f33.js"><link rel="prefetch" href="/blog_publish/assets/js/120.584ff3b1.js"><link rel="prefetch" href="/blog_publish/assets/js/121.4deeba0b.js"><link rel="prefetch" href="/blog_publish/assets/js/122.f43094ba.js"><link rel="prefetch" href="/blog_publish/assets/js/123.c239fcd9.js"><link rel="prefetch" href="/blog_publish/assets/js/124.c106d794.js"><link rel="prefetch" href="/blog_publish/assets/js/125.a513a3d4.js"><link rel="prefetch" href="/blog_publish/assets/js/126.3232ba5c.js"><link rel="prefetch" href="/blog_publish/assets/js/127.75129b1c.js"><link rel="prefetch" href="/blog_publish/assets/js/128.66dfd5e3.js"><link rel="prefetch" href="/blog_publish/assets/js/129.dd1bfdbb.js"><link rel="prefetch" href="/blog_publish/assets/js/13.cb2b8dac.js"><link rel="prefetch" href="/blog_publish/assets/js/130.891d7e1f.js"><link rel="prefetch" href="/blog_publish/assets/js/131.bc866370.js"><link rel="prefetch" href="/blog_publish/assets/js/132.4ac176db.js"><link rel="prefetch" href="/blog_publish/assets/js/133.476831d7.js"><link rel="prefetch" href="/blog_publish/assets/js/134.01417963.js"><link rel="prefetch" href="/blog_publish/assets/js/135.073ed824.js"><link rel="prefetch" href="/blog_publish/assets/js/136.429c9e0f.js"><link rel="prefetch" href="/blog_publish/assets/js/137.7c97fbf7.js"><link rel="prefetch" href="/blog_publish/assets/js/138.4536402a.js"><link rel="prefetch" href="/blog_publish/assets/js/139.9886cdc9.js"><link rel="prefetch" href="/blog_publish/assets/js/14.aa39544a.js"><link rel="prefetch" href="/blog_publish/assets/js/140.13d6148f.js"><link rel="prefetch" href="/blog_publish/assets/js/141.52b47cd1.js"><link rel="prefetch" href="/blog_publish/assets/js/142.db8a79df.js"><link rel="prefetch" href="/blog_publish/assets/js/143.bb3e1f34.js"><link rel="prefetch" href="/blog_publish/assets/js/144.144a5c98.js"><link rel="prefetch" href="/blog_publish/assets/js/145.624b72e7.js"><link rel="prefetch" href="/blog_publish/assets/js/146.5338fbc3.js"><link rel="prefetch" href="/blog_publish/assets/js/147.094c4a6e.js"><link rel="prefetch" href="/blog_publish/assets/js/148.c1d30d47.js"><link rel="prefetch" href="/blog_publish/assets/js/149.1dcbea4e.js"><link rel="prefetch" href="/blog_publish/assets/js/15.3a03ca9e.js"><link rel="prefetch" href="/blog_publish/assets/js/150.fb662127.js"><link rel="prefetch" href="/blog_publish/assets/js/151.18d1092b.js"><link rel="prefetch" href="/blog_publish/assets/js/152.fe3ae4b4.js"><link rel="prefetch" href="/blog_publish/assets/js/153.6b0560ea.js"><link rel="prefetch" href="/blog_publish/assets/js/154.2910bc05.js"><link rel="prefetch" href="/blog_publish/assets/js/155.e7aa4793.js"><link rel="prefetch" href="/blog_publish/assets/js/156.3e442f57.js"><link rel="prefetch" href="/blog_publish/assets/js/157.ebce07b5.js"><link rel="prefetch" href="/blog_publish/assets/js/158.70c4defa.js"><link rel="prefetch" href="/blog_publish/assets/js/159.d7fe05e3.js"><link rel="prefetch" href="/blog_publish/assets/js/16.b4a31adf.js"><link rel="prefetch" href="/blog_publish/assets/js/160.fe7dc1e3.js"><link rel="prefetch" href="/blog_publish/assets/js/161.70b87fa3.js"><link rel="prefetch" href="/blog_publish/assets/js/162.222a818d.js"><link rel="prefetch" href="/blog_publish/assets/js/163.caba2f3f.js"><link rel="prefetch" href="/blog_publish/assets/js/164.e901e4f7.js"><link rel="prefetch" href="/blog_publish/assets/js/165.01a9ac4a.js"><link rel="prefetch" href="/blog_publish/assets/js/166.1036b6a2.js"><link rel="prefetch" href="/blog_publish/assets/js/167.e286d718.js"><link rel="prefetch" href="/blog_publish/assets/js/168.e5073341.js"><link rel="prefetch" href="/blog_publish/assets/js/169.dbfb0e51.js"><link rel="prefetch" href="/blog_publish/assets/js/17.3d9ada17.js"><link rel="prefetch" href="/blog_publish/assets/js/170.62de1ff4.js"><link rel="prefetch" href="/blog_publish/assets/js/171.56d5df33.js"><link rel="prefetch" href="/blog_publish/assets/js/172.0541ac95.js"><link rel="prefetch" href="/blog_publish/assets/js/173.97a30649.js"><link rel="prefetch" href="/blog_publish/assets/js/174.18853958.js"><link rel="prefetch" href="/blog_publish/assets/js/175.1c434dac.js"><link rel="prefetch" href="/blog_publish/assets/js/176.22167fd4.js"><link rel="prefetch" href="/blog_publish/assets/js/177.f28008f1.js"><link rel="prefetch" href="/blog_publish/assets/js/178.bd8d6b32.js"><link rel="prefetch" href="/blog_publish/assets/js/179.cbcec94e.js"><link rel="prefetch" href="/blog_publish/assets/js/18.a55e2fbc.js"><link rel="prefetch" href="/blog_publish/assets/js/180.b84178b9.js"><link rel="prefetch" href="/blog_publish/assets/js/181.44bed56f.js"><link rel="prefetch" href="/blog_publish/assets/js/182.f5825c92.js"><link rel="prefetch" href="/blog_publish/assets/js/183.a68ffa04.js"><link rel="prefetch" href="/blog_publish/assets/js/184.8fde1ec0.js"><link rel="prefetch" href="/blog_publish/assets/js/185.5d59d54a.js"><link rel="prefetch" href="/blog_publish/assets/js/186.c4d12632.js"><link rel="prefetch" href="/blog_publish/assets/js/187.12bafdb3.js"><link rel="prefetch" href="/blog_publish/assets/js/188.1f8c080a.js"><link rel="prefetch" href="/blog_publish/assets/js/189.8ad81226.js"><link rel="prefetch" href="/blog_publish/assets/js/19.5f335684.js"><link rel="prefetch" href="/blog_publish/assets/js/190.49a860e5.js"><link rel="prefetch" href="/blog_publish/assets/js/191.3e55dbf4.js"><link rel="prefetch" href="/blog_publish/assets/js/192.585c609c.js"><link rel="prefetch" href="/blog_publish/assets/js/193.e28eec8b.js"><link rel="prefetch" href="/blog_publish/assets/js/194.60664b1c.js"><link rel="prefetch" href="/blog_publish/assets/js/195.81ce6d39.js"><link rel="prefetch" href="/blog_publish/assets/js/196.9090b20e.js"><link rel="prefetch" href="/blog_publish/assets/js/197.8eeb514c.js"><link rel="prefetch" href="/blog_publish/assets/js/198.813a6e10.js"><link rel="prefetch" href="/blog_publish/assets/js/199.173d4fd6.js"><link rel="prefetch" href="/blog_publish/assets/js/20.dba9cc15.js"><link rel="prefetch" href="/blog_publish/assets/js/200.4e8e4670.js"><link rel="prefetch" href="/blog_publish/assets/js/201.35d5b5d6.js"><link rel="prefetch" href="/blog_publish/assets/js/202.8e054298.js"><link rel="prefetch" href="/blog_publish/assets/js/203.9554d087.js"><link rel="prefetch" href="/blog_publish/assets/js/204.c876b45b.js"><link rel="prefetch" href="/blog_publish/assets/js/205.87bf2983.js"><link rel="prefetch" href="/blog_publish/assets/js/206.7f55952b.js"><link rel="prefetch" href="/blog_publish/assets/js/207.e7df2f44.js"><link rel="prefetch" href="/blog_publish/assets/js/208.33cda066.js"><link rel="prefetch" href="/blog_publish/assets/js/209.35534342.js"><link rel="prefetch" href="/blog_publish/assets/js/21.1eac8da7.js"><link rel="prefetch" href="/blog_publish/assets/js/210.108f781d.js"><link rel="prefetch" href="/blog_publish/assets/js/211.cd94f034.js"><link rel="prefetch" href="/blog_publish/assets/js/212.d7733fc5.js"><link rel="prefetch" href="/blog_publish/assets/js/213.2dcd43ba.js"><link rel="prefetch" href="/blog_publish/assets/js/214.ad68538d.js"><link rel="prefetch" href="/blog_publish/assets/js/215.eecb4b8a.js"><link rel="prefetch" href="/blog_publish/assets/js/216.1ea0d539.js"><link rel="prefetch" href="/blog_publish/assets/js/217.207d050b.js"><link rel="prefetch" href="/blog_publish/assets/js/218.0e11c4a9.js"><link rel="prefetch" href="/blog_publish/assets/js/219.5201be6b.js"><link rel="prefetch" href="/blog_publish/assets/js/22.14a3959f.js"><link rel="prefetch" href="/blog_publish/assets/js/220.20ed8d41.js"><link rel="prefetch" href="/blog_publish/assets/js/221.093d78d1.js"><link rel="prefetch" href="/blog_publish/assets/js/222.c5d7a440.js"><link rel="prefetch" href="/blog_publish/assets/js/223.fe8aecac.js"><link rel="prefetch" href="/blog_publish/assets/js/224.a3269dae.js"><link rel="prefetch" href="/blog_publish/assets/js/225.4266bae4.js"><link rel="prefetch" href="/blog_publish/assets/js/226.97f1a5fa.js"><link rel="prefetch" href="/blog_publish/assets/js/227.3f915435.js"><link rel="prefetch" href="/blog_publish/assets/js/228.720262f1.js"><link rel="prefetch" href="/blog_publish/assets/js/229.2a710c91.js"><link rel="prefetch" href="/blog_publish/assets/js/23.c3c41b16.js"><link rel="prefetch" href="/blog_publish/assets/js/230.8d2e8a55.js"><link rel="prefetch" href="/blog_publish/assets/js/231.6ee7551c.js"><link rel="prefetch" href="/blog_publish/assets/js/232.6b4413b2.js"><link rel="prefetch" href="/blog_publish/assets/js/233.24bdc42d.js"><link rel="prefetch" href="/blog_publish/assets/js/234.2645492d.js"><link rel="prefetch" href="/blog_publish/assets/js/235.9cf90537.js"><link rel="prefetch" href="/blog_publish/assets/js/236.22d5cc6f.js"><link rel="prefetch" href="/blog_publish/assets/js/237.330ff60e.js"><link rel="prefetch" href="/blog_publish/assets/js/238.2bbaf7b2.js"><link rel="prefetch" href="/blog_publish/assets/js/239.2971d724.js"><link rel="prefetch" href="/blog_publish/assets/js/24.0984172a.js"><link rel="prefetch" href="/blog_publish/assets/js/240.5a1946de.js"><link rel="prefetch" href="/blog_publish/assets/js/241.aa68e398.js"><link rel="prefetch" href="/blog_publish/assets/js/242.c8edab1b.js"><link rel="prefetch" href="/blog_publish/assets/js/243.7a64904f.js"><link rel="prefetch" href="/blog_publish/assets/js/244.b45a0151.js"><link rel="prefetch" href="/blog_publish/assets/js/245.f2ac2856.js"><link rel="prefetch" href="/blog_publish/assets/js/246.064b9fe6.js"><link rel="prefetch" href="/blog_publish/assets/js/247.e75d8e50.js"><link rel="prefetch" href="/blog_publish/assets/js/248.998c067d.js"><link rel="prefetch" href="/blog_publish/assets/js/249.34c413b6.js"><link rel="prefetch" href="/blog_publish/assets/js/25.28ea8a34.js"><link rel="prefetch" href="/blog_publish/assets/js/250.1b09aa47.js"><link rel="prefetch" href="/blog_publish/assets/js/251.33baed19.js"><link rel="prefetch" href="/blog_publish/assets/js/252.3b4900f8.js"><link rel="prefetch" href="/blog_publish/assets/js/253.e1c487b9.js"><link rel="prefetch" href="/blog_publish/assets/js/254.c5a68050.js"><link rel="prefetch" href="/blog_publish/assets/js/255.302865a5.js"><link rel="prefetch" href="/blog_publish/assets/js/256.652cd826.js"><link rel="prefetch" href="/blog_publish/assets/js/257.1e5a4668.js"><link rel="prefetch" href="/blog_publish/assets/js/258.ae66709a.js"><link rel="prefetch" href="/blog_publish/assets/js/259.d10f9fff.js"><link rel="prefetch" href="/blog_publish/assets/js/26.85931289.js"><link rel="prefetch" href="/blog_publish/assets/js/260.aeb1ed90.js"><link rel="prefetch" href="/blog_publish/assets/js/261.cd9ac460.js"><link rel="prefetch" href="/blog_publish/assets/js/262.2829068d.js"><link rel="prefetch" href="/blog_publish/assets/js/263.83ff96dd.js"><link rel="prefetch" href="/blog_publish/assets/js/264.5a95f9ba.js"><link rel="prefetch" href="/blog_publish/assets/js/265.a6b179b0.js"><link rel="prefetch" href="/blog_publish/assets/js/266.50635f98.js"><link rel="prefetch" href="/blog_publish/assets/js/267.9a49d75b.js"><link rel="prefetch" href="/blog_publish/assets/js/268.022fd064.js"><link rel="prefetch" href="/blog_publish/assets/js/269.c3e0fcec.js"><link rel="prefetch" href="/blog_publish/assets/js/27.6c890ab1.js"><link rel="prefetch" href="/blog_publish/assets/js/270.58c84e26.js"><link rel="prefetch" href="/blog_publish/assets/js/271.92dc7019.js"><link rel="prefetch" href="/blog_publish/assets/js/272.c9e6608e.js"><link rel="prefetch" href="/blog_publish/assets/js/273.5fd7105b.js"><link rel="prefetch" href="/blog_publish/assets/js/274.48db2ef9.js"><link rel="prefetch" href="/blog_publish/assets/js/275.7b074fbf.js"><link rel="prefetch" href="/blog_publish/assets/js/276.385894b0.js"><link rel="prefetch" href="/blog_publish/assets/js/277.d7ad6fdf.js"><link rel="prefetch" href="/blog_publish/assets/js/278.8f924a80.js"><link rel="prefetch" href="/blog_publish/assets/js/279.34c0f48f.js"><link rel="prefetch" href="/blog_publish/assets/js/28.7b955b47.js"><link rel="prefetch" href="/blog_publish/assets/js/280.2f736100.js"><link rel="prefetch" href="/blog_publish/assets/js/281.23da08bb.js"><link rel="prefetch" href="/blog_publish/assets/js/282.f42b1642.js"><link rel="prefetch" href="/blog_publish/assets/js/283.4de901b9.js"><link rel="prefetch" href="/blog_publish/assets/js/284.060b8f33.js"><link rel="prefetch" href="/blog_publish/assets/js/285.b394de72.js"><link rel="prefetch" href="/blog_publish/assets/js/286.da12ed7f.js"><link rel="prefetch" href="/blog_publish/assets/js/287.ff597a6d.js"><link rel="prefetch" href="/blog_publish/assets/js/288.85f52ce0.js"><link rel="prefetch" href="/blog_publish/assets/js/289.bf7c6643.js"><link rel="prefetch" href="/blog_publish/assets/js/290.db964608.js"><link rel="prefetch" href="/blog_publish/assets/js/291.24d2cb03.js"><link rel="prefetch" href="/blog_publish/assets/js/292.26dd5170.js"><link rel="prefetch" href="/blog_publish/assets/js/293.dd31dd76.js"><link rel="prefetch" href="/blog_publish/assets/js/294.64182e81.js"><link rel="prefetch" href="/blog_publish/assets/js/295.c6e2e090.js"><link rel="prefetch" href="/blog_publish/assets/js/296.1f0db399.js"><link rel="prefetch" href="/blog_publish/assets/js/297.9ce484c8.js"><link rel="prefetch" href="/blog_publish/assets/js/298.663bc1bc.js"><link rel="prefetch" href="/blog_publish/assets/js/299.378b8643.js"><link rel="prefetch" href="/blog_publish/assets/js/3.dd3944a0.js"><link rel="prefetch" href="/blog_publish/assets/js/30.496f39d2.js"><link rel="prefetch" href="/blog_publish/assets/js/300.a58897b9.js"><link rel="prefetch" href="/blog_publish/assets/js/301.ce85f4c2.js"><link rel="prefetch" href="/blog_publish/assets/js/302.9313c645.js"><link rel="prefetch" href="/blog_publish/assets/js/303.63de4a38.js"><link rel="prefetch" href="/blog_publish/assets/js/304.b19b4fb4.js"><link rel="prefetch" href="/blog_publish/assets/js/305.2869e824.js"><link rel="prefetch" href="/blog_publish/assets/js/306.b8dd16a0.js"><link rel="prefetch" href="/blog_publish/assets/js/307.b6644951.js"><link rel="prefetch" href="/blog_publish/assets/js/308.05eb541d.js"><link rel="prefetch" href="/blog_publish/assets/js/309.8f76f636.js"><link rel="prefetch" href="/blog_publish/assets/js/31.0dff3efc.js"><link rel="prefetch" href="/blog_publish/assets/js/310.5df5f343.js"><link rel="prefetch" href="/blog_publish/assets/js/311.c086d5a8.js"><link rel="prefetch" href="/blog_publish/assets/js/312.9b254a0c.js"><link rel="prefetch" href="/blog_publish/assets/js/313.cf351f10.js"><link rel="prefetch" href="/blog_publish/assets/js/314.f6f1b8a2.js"><link rel="prefetch" href="/blog_publish/assets/js/315.a94f2971.js"><link rel="prefetch" href="/blog_publish/assets/js/316.a7631e6b.js"><link rel="prefetch" href="/blog_publish/assets/js/317.6f3c70a7.js"><link rel="prefetch" href="/blog_publish/assets/js/318.2c727b9a.js"><link rel="prefetch" href="/blog_publish/assets/js/319.c082d6a9.js"><link rel="prefetch" href="/blog_publish/assets/js/32.8b5f28a8.js"><link rel="prefetch" href="/blog_publish/assets/js/320.3b537648.js"><link rel="prefetch" href="/blog_publish/assets/js/321.c1a5db67.js"><link rel="prefetch" href="/blog_publish/assets/js/322.7a231649.js"><link rel="prefetch" href="/blog_publish/assets/js/323.db6a9ad3.js"><link rel="prefetch" href="/blog_publish/assets/js/324.804611b2.js"><link rel="prefetch" href="/blog_publish/assets/js/325.7f394da4.js"><link rel="prefetch" href="/blog_publish/assets/js/326.12908bb3.js"><link rel="prefetch" href="/blog_publish/assets/js/327.93b83985.js"><link rel="prefetch" href="/blog_publish/assets/js/328.8f8b9d61.js"><link rel="prefetch" href="/blog_publish/assets/js/329.56893d0b.js"><link rel="prefetch" href="/blog_publish/assets/js/33.3327523a.js"><link rel="prefetch" href="/blog_publish/assets/js/330.95d79a42.js"><link rel="prefetch" href="/blog_publish/assets/js/331.d3c70407.js"><link rel="prefetch" href="/blog_publish/assets/js/332.2a47f09f.js"><link rel="prefetch" href="/blog_publish/assets/js/333.64ff9d02.js"><link rel="prefetch" href="/blog_publish/assets/js/334.44aab855.js"><link rel="prefetch" href="/blog_publish/assets/js/335.c18a24b9.js"><link rel="prefetch" href="/blog_publish/assets/js/336.502094ce.js"><link rel="prefetch" href="/blog_publish/assets/js/337.b9127a80.js"><link rel="prefetch" href="/blog_publish/assets/js/338.77412af3.js"><link rel="prefetch" href="/blog_publish/assets/js/339.731e542c.js"><link rel="prefetch" href="/blog_publish/assets/js/34.e7249c71.js"><link rel="prefetch" href="/blog_publish/assets/js/35.f9c70e6f.js"><link rel="prefetch" href="/blog_publish/assets/js/36.99165e3c.js"><link rel="prefetch" href="/blog_publish/assets/js/37.2aa5f9a8.js"><link rel="prefetch" href="/blog_publish/assets/js/38.21d824f7.js"><link rel="prefetch" href="/blog_publish/assets/js/39.99bbb8bb.js"><link rel="prefetch" href="/blog_publish/assets/js/4.b0cb765d.js"><link rel="prefetch" href="/blog_publish/assets/js/40.70bed410.js"><link rel="prefetch" href="/blog_publish/assets/js/41.aefb75f1.js"><link rel="prefetch" href="/blog_publish/assets/js/42.c251595a.js"><link rel="prefetch" href="/blog_publish/assets/js/43.5ed01f18.js"><link rel="prefetch" href="/blog_publish/assets/js/44.2b60d8a0.js"><link rel="prefetch" href="/blog_publish/assets/js/45.2b53626c.js"><link rel="prefetch" href="/blog_publish/assets/js/46.c3c88ed7.js"><link rel="prefetch" href="/blog_publish/assets/js/47.c4cb82c4.js"><link rel="prefetch" href="/blog_publish/assets/js/48.29a4f46b.js"><link rel="prefetch" href="/blog_publish/assets/js/49.5dc2df96.js"><link rel="prefetch" href="/blog_publish/assets/js/5.e723c1a9.js"><link rel="prefetch" href="/blog_publish/assets/js/50.f3437d52.js"><link rel="prefetch" href="/blog_publish/assets/js/51.55a94303.js"><link rel="prefetch" href="/blog_publish/assets/js/52.2683a4d8.js"><link rel="prefetch" href="/blog_publish/assets/js/53.6d16209f.js"><link rel="prefetch" href="/blog_publish/assets/js/54.9b27a82b.js"><link rel="prefetch" href="/blog_publish/assets/js/55.e4720c2e.js"><link rel="prefetch" href="/blog_publish/assets/js/56.e47e4d4f.js"><link rel="prefetch" href="/blog_publish/assets/js/57.cb826db3.js"><link rel="prefetch" href="/blog_publish/assets/js/58.377285e4.js"><link rel="prefetch" href="/blog_publish/assets/js/59.cad27dcf.js"><link rel="prefetch" href="/blog_publish/assets/js/6.43debd78.js"><link rel="prefetch" href="/blog_publish/assets/js/60.13030282.js"><link rel="prefetch" href="/blog_publish/assets/js/61.68aa5ce0.js"><link rel="prefetch" href="/blog_publish/assets/js/62.9436b206.js"><link rel="prefetch" href="/blog_publish/assets/js/63.492af10f.js"><link rel="prefetch" href="/blog_publish/assets/js/64.7629b134.js"><link rel="prefetch" href="/blog_publish/assets/js/65.d88dc80e.js"><link rel="prefetch" href="/blog_publish/assets/js/66.33c55a07.js"><link rel="prefetch" href="/blog_publish/assets/js/67.268beeef.js"><link rel="prefetch" href="/blog_publish/assets/js/68.4d26cd0d.js"><link rel="prefetch" href="/blog_publish/assets/js/69.28ade1f2.js"><link rel="prefetch" href="/blog_publish/assets/js/7.23b88edf.js"><link rel="prefetch" href="/blog_publish/assets/js/70.65e10afe.js"><link rel="prefetch" href="/blog_publish/assets/js/71.75e65c82.js"><link rel="prefetch" href="/blog_publish/assets/js/72.bd8a435f.js"><link rel="prefetch" href="/blog_publish/assets/js/73.d2737dd7.js"><link rel="prefetch" href="/blog_publish/assets/js/74.2f0fa78f.js"><link rel="prefetch" href="/blog_publish/assets/js/75.20e844f3.js"><link rel="prefetch" href="/blog_publish/assets/js/76.4babec62.js"><link rel="prefetch" href="/blog_publish/assets/js/77.f7df9af8.js"><link rel="prefetch" href="/blog_publish/assets/js/78.caa2734c.js"><link rel="prefetch" href="/blog_publish/assets/js/79.cd59dfed.js"><link rel="prefetch" href="/blog_publish/assets/js/8.895cf70f.js"><link rel="prefetch" href="/blog_publish/assets/js/80.281517e5.js"><link rel="prefetch" href="/blog_publish/assets/js/81.a10f59e8.js"><link rel="prefetch" href="/blog_publish/assets/js/82.27978bea.js"><link rel="prefetch" href="/blog_publish/assets/js/83.6a5168b3.js"><link rel="prefetch" href="/blog_publish/assets/js/84.8530321e.js"><link rel="prefetch" href="/blog_publish/assets/js/85.0618449a.js"><link rel="prefetch" href="/blog_publish/assets/js/86.2b72f12f.js"><link rel="prefetch" href="/blog_publish/assets/js/87.3bd33c66.js"><link rel="prefetch" href="/blog_publish/assets/js/88.00e0271c.js"><link rel="prefetch" href="/blog_publish/assets/js/89.5ee5ca87.js"><link rel="prefetch" href="/blog_publish/assets/js/9.06c64803.js"><link rel="prefetch" href="/blog_publish/assets/js/90.8c36e10a.js"><link rel="prefetch" href="/blog_publish/assets/js/91.ff6457e0.js"><link rel="prefetch" href="/blog_publish/assets/js/92.29ab2649.js"><link rel="prefetch" href="/blog_publish/assets/js/93.a953131b.js"><link rel="prefetch" href="/blog_publish/assets/js/94.8d791177.js"><link rel="prefetch" href="/blog_publish/assets/js/95.9bc4b97d.js"><link rel="prefetch" href="/blog_publish/assets/js/96.c9ca42bd.js"><link rel="prefetch" href="/blog_publish/assets/js/97.9ab6b05d.js"><link rel="prefetch" href="/blog_publish/assets/js/98.4b785706.js"><link rel="prefetch" href="/blog_publish/assets/js/99.be00bca4.js">
    <link rel="stylesheet" href="/blog_publish/assets/css/0.styles.9a82886c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog_publish/" class="home-link router-link-active"><!----> <span class="site-name">小游</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog_publish/interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog_publish/java/01_ProgrammingBasic/link.html" class="nav-link">
  编程基础
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/02_DevelopmentTools/link.html" class="nav-link">
  开发工具
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/03_ApplicationFramework/link.html" class="nav-link">
  应用框架
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/04_OperationAndMaintenance/" class="nav-link">
  运维
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/05_SourceCode/" class="nav-link">
  源码
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog_publish/web/01_vue/使用webpack打包一个简单的前端程序.html" class="nav-link">
  vue
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具箱" class="dropdown-title"><span class="title">工具箱</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具箱" class="mobile-dropdown-title"><span class="title">工具箱</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog_publish/tools/essay/04_SpringBoot中处理跨域的几种方式.html" class="nav-link">
  随笔
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/tools/installSoftware/01_jdk_linux.html" class="nav-link">
  软件安装
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/tools/bugRepository/03_MySQL主从复制Bug.html" class="nav-link">
  bug库
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/tools/other/07_打包插件maven-assembly-plugin.html" class="nav-link">
  其他
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog_publish/interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog_publish/java/01_ProgrammingBasic/link.html" class="nav-link">
  编程基础
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/02_DevelopmentTools/link.html" class="nav-link">
  开发工具
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/03_ApplicationFramework/link.html" class="nav-link">
  应用框架
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/04_OperationAndMaintenance/" class="nav-link">
  运维
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/05_SourceCode/" class="nav-link">
  源码
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog_publish/web/01_vue/使用webpack打包一个简单的前端程序.html" class="nav-link">
  vue
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具箱" class="dropdown-title"><span class="title">工具箱</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具箱" class="mobile-dropdown-title"><span class="title">工具箱</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog_publish/tools/essay/04_SpringBoot中处理跨域的几种方式.html" class="nav-link">
  随笔
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/tools/installSoftware/01_jdk_linux.html" class="nav-link">
  软件安装
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/tools/bugRepository/03_MySQL主从复制Bug.html" class="nav-link">
  bug库
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/tools/other/07_打包插件maven-assembly-plugin.html" class="nav-link">
  其他
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>编程基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JVM</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog_publish/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/01_jvm.html" class="sidebar-link">JVM</a></li><li><a href="/blog_publish/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/01_JVM与Java体系结构.html" class="sidebar-link">JVM与Java体系结构</a></li><li><a href="/blog_publish/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/02_类加载子系统.html" class="active sidebar-link">类加载子系统</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog_publish/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/02_类加载子系统.html#一、内存结构概述" class="sidebar-link">一、内存结构概述</a></li><li class="sidebar-sub-header"><a href="/blog_publish/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/02_类加载子系统.html#二、类加载子系统" class="sidebar-link">二、类加载子系统</a></li><li class="sidebar-sub-header"><a href="/blog_publish/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/02_类加载子系统.html#三、类加载器的分类" class="sidebar-link">三、类加载器的分类</a></li><li class="sidebar-sub-header"><a href="/blog_publish/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/02_类加载子系统.html#四、双亲委派机制" class="sidebar-link">四、双亲委派机制</a></li><li class="sidebar-sub-header"><a href="/blog_publish/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/02_类加载子系统.html#五、沙箱安全机制" class="sidebar-link">五、沙箱安全机制</a></li><li class="sidebar-sub-header"><a href="/blog_publish/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/02_类加载子系统.html#六、其他" class="sidebar-link">六、其他</a></li></ul></li><li><a href="/blog_publish/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/03_运行时数据区概述及线程.html" class="sidebar-link">/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/03_运行时数据区概述及线程.html</a></li><li><a href="/blog_publish/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/04_程序计数器.html" class="sidebar-link">/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/04_程序计数器.html</a></li><li><a href="/blog_publish/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/05_虚拟机栈.html" class="sidebar-link">/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/05_虚拟机栈.html</a></li><li><a href="/blog_publish/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/06_本地方法接口.html" class="sidebar-link">/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/06_本地方法接口.html</a></li><li><a href="/blog_publish/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/07_本地方法栈.html" class="sidebar-link">/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/07_本地方法栈.html</a></li><li><a href="/blog_publish/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/08_堆.html" class="sidebar-link">/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/08_堆.html</a></li><li><a href="/blog_publish/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/09_方法区.html" class="sidebar-link">/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/09_方法区.html</a></li><li><a href="/blog_publish/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/10_直接内存.html" class="sidebar-link">/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/10_直接内存.html</a></li><li><a href="/blog_publish/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/11_执行引擎.html" class="sidebar-link">/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/11_执行引擎.html</a></li><li><a href="/blog_publish/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/12_StringTable.html" class="sidebar-link">/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/12_StringTable.html</a></li><li><a href="/blog_publish/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/13_垃圾回收概述.html" class="sidebar-link">/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/13_垃圾回收概述.html</a></li><li><a href="/blog_publish/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/14_垃圾回收相关算法.html" class="sidebar-link">/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/14_垃圾回收相关算法.html</a></li><li><a href="/blog_publish/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/15_垃圾回收相关概念.html" class="sidebar-link">/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/15_垃圾回收相关概念.html</a></li><li><a href="/blog_publish/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/16_垃圾回收器.html" class="sidebar-link">/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/16_垃圾回收器.html</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>多线程&amp;高并发</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JDK_Tools</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="类加载子系统"><a href="#类加载子系统" class="header-anchor">#</a> 类加载子系统</h1> <h2 id="一、内存结构概述"><a href="#一、内存结构概述" class="header-anchor">#</a> 一、内存结构概述</h2> <p><a data-fancybox="" title="05e32da21f7e001e26951a21a6393db5" href="http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-02-28/b0009e46a3ab4f7187fb927d60b572ca.jpg"><img src="http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-02-28/b0009e46a3ab4f7187fb927d60b572ca.jpg" alt="05e32da21f7e001e26951a21a6393db5"></a></p> <p><a data-fancybox="" title="94f3ef5322aa4dd32f2478f49c98a7af" href="http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-02-28/ed3673b37d4f4bf28007922efc8a5681.png"><img src="http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-02-28/ed3673b37d4f4bf28007922efc8a5681.png" alt="94f3ef5322aa4dd32f2478f49c98a7af"></a></p> <p>如果需要自己实现一个类加载器，需要考虑的部分有：</p> <ul><li>类加载器</li> <li>执行引擎</li></ul> <h2 id="二、类加载子系统"><a href="#二、类加载子系统" class="header-anchor">#</a> 二、类加载子系统</h2> <h3 id="_2-1-类加载器子系统的作用"><a href="#_2-1-类加载器子系统的作用" class="header-anchor">#</a> 2.1 类加载器子系统的作用</h3> <ul><li><code>类加载器子系统负责从文件系统或者网络中加载Class文件</code>，class 文件在文件开头有特定的文件标识。</li> <li>ClassLoader 只负责 class 文件的加载，至于它是否可以运行，则由 Execution Engine 决定。</li> <li><code>加载的类信息存放于一块称为方法区的内存空间</code>。除了类的信息外，方法区中还会存放运行时常量池信息，可能还包括字符串字面量和数字常量（这部分常量信息是 Class 文件中常量池部分的内存映射）</li> <li><a data-fancybox="" title="20201118111616" href="http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-02-28/fe1f9cf1caf9476b8f77862a4d7e770c.png"><img src="http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-02-28/fe1f9cf1caf9476b8f77862a4d7e770c.png" alt="20201118111616"></a></li></ul> <h3 id="_2-2-类加载器-classloader-角色"><a href="#_2-2-类加载器-classloader-角色" class="header-anchor">#</a> 2.2 类加载器 ClassLoader 角色</h3> <p><a data-fancybox="" title="20201118115336" href="http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-02-28/2d1e1e82d7d542218d4c91c650adb78e.png"><img src="http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-02-28/2d1e1e82d7d542218d4c91c650adb78e.png" alt="20201118115336"></a></p> <ul><li>class file 存在于本地硬盘上，可以理解为设计师画在纸上的模板，而最终这个模板在执行的时候是要加载到 JVM 当中来根据这个文件实例化出 n 个一模一样的实例。</li> <li>class file 加载到 JVM 中，被称为<code>DNA元数据模板</code>，放在方法区。</li> <li>在<code>.class文件</code> –&gt; JVM –&gt; 最终成为元数据模板，此过程就要一个运输工具（类装载器 Class Loader），扮演一个快递员的角色。</li></ul> <h3 id="_2-3-类的加载过程"><a href="#_2-3-类的加载过程" class="header-anchor">#</a> 2.3 类的加载过程</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>it</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ClassLoaderDemo</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;hello class loader&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>加载过程：</p> <ul><li>执行 <code>main( )</code> 方法（静态方法）就需要先加载承载类 <code>ClassLoaderDemo</code></li> <li>加载成功，则进行链接、初始化等操作，完成后调用 <code>ClassLoaderDemo</code> 类中的静态方法 <code>main( )</code></li> <li>加载失败则抛出异常</li> <li><a data-fancybox="" title="20201118115656" href="http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-02-28/e4802149780749a18f96ac56f33e5c07.jpg"><img src="http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-02-28/e4802149780749a18f96ac56f33e5c07.jpg" alt="20201118115656"></a></li> <li>完整的流程图如下所示：<code>加载 --&gt; 链接（验证 --&gt; 准备 --&gt; 解析） --&gt; 初始化</code></li> <li><a data-fancybox="" title="20201118120201" href="http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-02-28/7f38c4a283c94d80860efb7429a53de3.png"><img src="http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-02-28/7f38c4a283c94d80860efb7429a53de3.png" alt="20201118120201"></a></li></ul> <h4 id="_2-3-1-加载阶段"><a href="#_2-3-1-加载阶段" class="header-anchor">#</a> 2.3.1 加载阶段</h4> <p>加载（Loading）：</p> <ol><li>通过一个类的全限定名获取定义此类的二进制字节流</li> <li>将这个字节流所代表的静态存储结构转化为方法区的运行时数据结构</li> <li><code>在内存中生成一个代表这个类的java.lang.Class对象</code>，作为方法区中关于这个类的各种数据的访问入口</li></ol> <p>加载.class 文件的方式：</p> <ul><li>从本地系统中直接加载</li> <li>通过网络获取，典型场景：Web Applet</li> <li>从 zip 压缩包中读取，成为日后 jar、war 格式的基础</li> <li>运行时计算生成，使用最多的是：动态代理技术</li> <li>由其他文件生成，典型场景：JSP 应用从专有数据库中提取.class 文件，比较少见</li> <li>从加密文件中获取，典型的防 Class 文件被反编译的保护措施</li></ul> <h4 id="_2-3-2-链接阶段"><a href="#_2-3-2-链接阶段" class="header-anchor">#</a> 2.3.2 链接阶段</h4> <p>链接分为三个阶段：验证 --&gt; 准备 --&gt; 解析</p> <ol><li><p>验证（Verify）</p> <ul><li><p>目的在于确保 Class 文件的字节流中包含信息符合当前虚拟机要求，保证被加载类的正确性，不会危害虚拟机自身安全</p></li> <li><p>主要包括四种验证，文件格式验证，元数据验证，字节码验证，符号引用验证。</p></li> <li><p>使用 BinaryViewer 查看字节码文件，其开头均为 CAFE BABE ，如果出现不合法的字节码文件，那么将会验证不通过</p> <p><a data-fancybox="" title="d6915f36e33aa15cff784ef4d2092a97" href="http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-02-28/7390cc6cfe4842038875715386e0c7a1.png"><img src="http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-02-28/7390cc6cfe4842038875715386e0c7a1.png" alt="d6915f36e33aa15cff784ef4d2092a97"></a></p></li></ul></li> <li><p>准备（Prepare）</p> <ul><li>为类变量（静态变量）分配内存并且设置该类变量的<code>默认初始值</code>，即<code>零值</code></li> <li><code>这里不包含用final修饰的static，因为final在编译的时候就会分配好了默认值，准备阶段会显式初始化</code></li> <li>注意：<code>这里不会为实例变量分配初始化</code>，类变量会分配在方法区中，而实例变量是会随着对象一起分配到 Java 堆中</li></ul> <p>举例</p> <p>​ 变量 a 在准备阶段会赋初始化值（0），在初始化阶段，会被赋为 1</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>it</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloPrepare</span> <span class="token punctuation">{</span>

    <span class="token comment">// 在准备（prepare）阶段，将a的值设置为 0</span>
    <span class="token comment">// 在初始化（init）阶段，将a的值设置为 1</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <ol start="3"><li><p>解析（Resolve）</p> <ul><li>将常量池内的符号引用转换为直接引用的过程</li> <li>事实上，解析操作往往会伴随着 JVM 在执行完初始化之后再执行</li> <li>符号引用就是一组符号来描述所引用的目标。符号引用的字面量形式明确定义在《java 虚拟机规范》的 class 文件格式中。直接引用就是直接指向目标的指针、相对偏移量或一个间接定位到目标的句柄</li> <li>解析动作主要针对类或接口、字段、类方法、接口方法、方法类型等。对应常量池中的 CONSTANT Class info、CONSTANT Fieldref info、CONSTANT Methodref info 等</li></ul> <p>对 class 文件进行反编译，可以看到符号引用</p> <p><a data-fancybox="" title="df32a22e07108b9318c3a020d304c783" href="http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-02-28/e68fe6545484411580729fbc84ae2692.png"><img src="http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-02-28/e68fe6545484411580729fbc84ae2692.png" alt="df32a22e07108b9318c3a020d304c783"></a></p></li></ol> <h4 id="_2-3-3-初始化阶段"><a href="#_2-3-3-初始化阶段" class="header-anchor">#</a> 2.3.3 初始化阶段</h4> <ul><li>初始化阶段就是执行类构造器方法<clinit>()的过程</clinit></li> <li>此方法不需定义，是 javac 编译器自动收集类中的所有类变量（静态变量）的赋值动作和静态代码块中的语句合并而来。也就是说，当我们代码中包含 static 变量的时候，就会有<clinit>( )方法；如果当前类不存在 static 变量，那么它的字节码文件是不会存在<clinit>( )</clinit></clinit></li> <li><clinit>()方法中的指令按语句在源文件中出现的顺序执行</clinit></li> <li><clinit>()不同于类的构造器。（关联：构造器是虚拟机视角下的<init>()）</init></clinit></li> <li>若该类具有父类，JVM 会保证子类的<clinit>()执行前，父类的<clinit>()已经执行完毕</clinit></clinit></li> <li>虚拟机必须保证一个类的<clinit>()方法在多线程下被同步加锁</clinit></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>it</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ClassInitTest</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">ClassInitTest</span><span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a data-fancybox="" title="image-20210228225612365" href="http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-02-28/8861988306e641908109b7898346b255.png"><img src="http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-02-28/8861988306e641908109b7898346b255.png" alt="image-20210228225612365"></a></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>it</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ClassInitTest</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        num <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">ClassInitTest</span><span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>​ <a data-fancybox="" title="image-20210228225748424" href="http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-02-28/af8d355fc68646ea8d81a8fa36961c5a.png"><img src="http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-02-28/af8d355fc68646ea8d81a8fa36961c5a.png" alt="image-20210228225748424"></a></p> <p>​</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>it</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 在linking的prepare阶段，已经将num赋值为0
 * 所以在静态代码块中才能重新为num赋值
 * num的赋值过程：
 * linking.prepare: num = 0
 * initial: num = 20
 * initial: num = 10
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ClassInitTest</span> <span class="token punctuation">{</span>

    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        num <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
        <span class="token comment">// 以下语句会报错（非法的前向引用）</span>
        <span class="token comment">// 系统在编译期间已经为变量 num 分配了内存空间，但是赋值为初始值 0</span>
        <span class="token comment">// 但是此时并没有执行 clinit() 方法，即没有运行初始化语句</span>
        <span class="token comment">// 此时访问变量 num 就会出现错误：非法的前向引用</span>
        <span class="token comment">//System.out.println(num);</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">ClassInitTest</span><span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a data-fancybox="" title="image-20210228225856234" href="http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-02-28/fc5c47cf21f2492d8805e1290bf2fdb7.png"><img src="http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-02-28/fc5c47cf21f2492d8805e1290bf2fdb7.png" alt="image-20210228225856234"></a></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>it</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ClassInitTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> number <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a data-fancybox="" title="image-20210228232557995" href="http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-02-28/b70ca2daa96d4f7085f7926a919e3f11.png"><img src="http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-02-28/b70ca2daa96d4f7085f7926a919e3f11.png" alt="image-20210228232557995"></a></p> <p>​</p> <h2 id="三、类加载器的分类"><a href="#三、类加载器的分类" class="header-anchor">#</a> 三、类加载器的分类</h2> <h3 id="_3-1-虚拟机自带的加载器"><a href="#_3-1-虚拟机自带的加载器" class="header-anchor">#</a> 3.1 虚拟机自带的加载器</h3> <ol><li>启动类加载器（引导类加载器）</li> <li>扩展类加载器</li> <li>系统类加载器</li></ol> <h3 id="_3-2-用户自定义类加载器"><a href="#_3-2-用户自定义类加载器" class="header-anchor">#</a> 3.2 用户自定义类加载器</h3> <h3 id="_3-3-关于-classloader"><a href="#_3-3-关于-classloader" class="header-anchor">#</a> 3.3 关于 ClassLoader</h3> <ol><li>获取 ClassLoader 的途径</li></ol> <h2 id="四、双亲委派机制"><a href="#四、双亲委派机制" class="header-anchor">#</a> 四、双亲委派机制</h2> <h3 id="_4-1-双亲委派机制原理"><a href="#_4-1-双亲委派机制原理" class="header-anchor">#</a> 4.1 双亲委派机制原理</h3> <h3 id="_4-2-双亲委派机制示例"><a href="#_4-2-双亲委派机制示例" class="header-anchor">#</a> 4.2 双亲委派机制示例</h3> <h3 id="_4-3-双亲委派机制的优势"><a href="#_4-3-双亲委派机制的优势" class="header-anchor">#</a> 4.3 双亲委派机制的优势</h3> <h2 id="五、沙箱安全机制"><a href="#五、沙箱安全机制" class="header-anchor">#</a> 五、沙箱安全机制</h2> <h2 id="六、其他"><a href="#六、其他" class="header-anchor">#</a> 六、其他</h2></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog_publish/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/01_JVM与Java体系结构.html" class="prev">
        JVM与Java体系结构
      </a></span> <span class="next"><a href="/blog_publish/java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/03_运行时数据区概述及线程.html">
        /java/01_ProgrammingBasic/01_JavaLanguage/02_JVM/03_运行时数据区概述及线程.html
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog_publish/assets/js/app.d3ef854b.js" defer></script><script src="/blog_publish/assets/js/2.bedb11a8.js" defer></script><script src="/blog_publish/assets/js/29.f7af61a1.js" defer></script>
  </body>
</html>
