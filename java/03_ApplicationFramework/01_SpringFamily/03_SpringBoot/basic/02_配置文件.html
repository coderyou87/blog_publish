<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>二、配置文件 | 小游</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon1" href="http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-02-18/d687f535b564447e82a3178a4e9b2f8c.jpg">
    <link rel="icon2" href="https://you-blog.oss-cn-shenzhen.aliyuncs.com/typora/2021-02-18/icon.jpg">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    <meta name="description" content="知行合一">
    <link rel="preload" href="/blog_publish/assets/css/0.styles.25399173.css" as="style"><link rel="preload" href="/blog_publish/assets/js/app.54d8e255.js" as="script"><link rel="preload" href="/blog_publish/assets/js/2.92f2819f.js" as="script"><link rel="preload" href="/blog_publish/assets/js/170.113ad882.js" as="script"><link rel="prefetch" href="/blog_publish/assets/js/10.4a802d54.js"><link rel="prefetch" href="/blog_publish/assets/js/100.8fdeb02d.js"><link rel="prefetch" href="/blog_publish/assets/js/101.37a90625.js"><link rel="prefetch" href="/blog_publish/assets/js/102.758b8ae8.js"><link rel="prefetch" href="/blog_publish/assets/js/103.df65087b.js"><link rel="prefetch" href="/blog_publish/assets/js/104.cbde01c4.js"><link rel="prefetch" href="/blog_publish/assets/js/105.d880dd5e.js"><link rel="prefetch" href="/blog_publish/assets/js/106.2929e6a4.js"><link rel="prefetch" href="/blog_publish/assets/js/107.997fc415.js"><link rel="prefetch" href="/blog_publish/assets/js/108.7b77a45d.js"><link rel="prefetch" href="/blog_publish/assets/js/109.bfbdd9e8.js"><link rel="prefetch" href="/blog_publish/assets/js/11.76dc0c9f.js"><link rel="prefetch" href="/blog_publish/assets/js/110.edae7a44.js"><link rel="prefetch" href="/blog_publish/assets/js/111.62889806.js"><link rel="prefetch" href="/blog_publish/assets/js/112.503a7cae.js"><link rel="prefetch" href="/blog_publish/assets/js/113.313f6e22.js"><link rel="prefetch" href="/blog_publish/assets/js/114.e036a727.js"><link rel="prefetch" href="/blog_publish/assets/js/115.19ac15b1.js"><link rel="prefetch" href="/blog_publish/assets/js/116.02abe8c7.js"><link rel="prefetch" href="/blog_publish/assets/js/117.187b0fb7.js"><link rel="prefetch" href="/blog_publish/assets/js/118.d5d90886.js"><link rel="prefetch" href="/blog_publish/assets/js/119.75110fa6.js"><link rel="prefetch" href="/blog_publish/assets/js/12.c44a85a5.js"><link rel="prefetch" href="/blog_publish/assets/js/120.067a0791.js"><link rel="prefetch" href="/blog_publish/assets/js/121.e4674069.js"><link rel="prefetch" href="/blog_publish/assets/js/122.e4e94758.js"><link rel="prefetch" href="/blog_publish/assets/js/123.a48edbdb.js"><link rel="prefetch" href="/blog_publish/assets/js/124.750f7e27.js"><link rel="prefetch" href="/blog_publish/assets/js/125.75ccd598.js"><link rel="prefetch" href="/blog_publish/assets/js/126.35022a52.js"><link rel="prefetch" href="/blog_publish/assets/js/127.7f691cdf.js"><link rel="prefetch" href="/blog_publish/assets/js/128.7bc251db.js"><link rel="prefetch" href="/blog_publish/assets/js/129.6000c34f.js"><link rel="prefetch" href="/blog_publish/assets/js/13.486825cb.js"><link rel="prefetch" href="/blog_publish/assets/js/130.7bd0a838.js"><link rel="prefetch" href="/blog_publish/assets/js/131.b76df573.js"><link rel="prefetch" href="/blog_publish/assets/js/132.ac848b29.js"><link rel="prefetch" href="/blog_publish/assets/js/133.90928881.js"><link rel="prefetch" href="/blog_publish/assets/js/134.b6bd0624.js"><link rel="prefetch" href="/blog_publish/assets/js/135.f6726abf.js"><link rel="prefetch" href="/blog_publish/assets/js/136.f9fc77c7.js"><link rel="prefetch" href="/blog_publish/assets/js/137.64b39d46.js"><link rel="prefetch" href="/blog_publish/assets/js/138.74b391e0.js"><link rel="prefetch" href="/blog_publish/assets/js/139.535e52fd.js"><link rel="prefetch" href="/blog_publish/assets/js/14.ef5784b3.js"><link rel="prefetch" href="/blog_publish/assets/js/140.2b110daf.js"><link rel="prefetch" href="/blog_publish/assets/js/141.58947111.js"><link rel="prefetch" href="/blog_publish/assets/js/142.ed48ef6d.js"><link rel="prefetch" href="/blog_publish/assets/js/143.16ef36e4.js"><link rel="prefetch" href="/blog_publish/assets/js/144.fd8ee712.js"><link rel="prefetch" href="/blog_publish/assets/js/145.b35a1655.js"><link rel="prefetch" href="/blog_publish/assets/js/146.99e39cfb.js"><link rel="prefetch" href="/blog_publish/assets/js/147.eb5187eb.js"><link rel="prefetch" href="/blog_publish/assets/js/148.0c66e305.js"><link rel="prefetch" href="/blog_publish/assets/js/149.6ec3ac8a.js"><link rel="prefetch" href="/blog_publish/assets/js/15.1f73a57e.js"><link rel="prefetch" href="/blog_publish/assets/js/150.e8d8e628.js"><link rel="prefetch" href="/blog_publish/assets/js/151.a74960ce.js"><link rel="prefetch" href="/blog_publish/assets/js/152.2b5b3101.js"><link rel="prefetch" href="/blog_publish/assets/js/153.d31b3b58.js"><link rel="prefetch" href="/blog_publish/assets/js/154.d0d5003f.js"><link rel="prefetch" href="/blog_publish/assets/js/155.6df865a0.js"><link rel="prefetch" href="/blog_publish/assets/js/156.10a16367.js"><link rel="prefetch" href="/blog_publish/assets/js/157.07b89c10.js"><link rel="prefetch" href="/blog_publish/assets/js/158.1d2a301f.js"><link rel="prefetch" href="/blog_publish/assets/js/159.c8273bd1.js"><link rel="prefetch" href="/blog_publish/assets/js/16.767d5035.js"><link rel="prefetch" href="/blog_publish/assets/js/160.65e25e4e.js"><link rel="prefetch" href="/blog_publish/assets/js/161.0b0b00fe.js"><link rel="prefetch" href="/blog_publish/assets/js/162.8b1358b8.js"><link rel="prefetch" href="/blog_publish/assets/js/163.af1cce37.js"><link rel="prefetch" href="/blog_publish/assets/js/164.ee2043b8.js"><link rel="prefetch" href="/blog_publish/assets/js/165.4c825297.js"><link rel="prefetch" href="/blog_publish/assets/js/166.9fc86728.js"><link rel="prefetch" href="/blog_publish/assets/js/167.55b9db69.js"><link rel="prefetch" href="/blog_publish/assets/js/168.61df258c.js"><link rel="prefetch" href="/blog_publish/assets/js/169.7f31a2ac.js"><link rel="prefetch" href="/blog_publish/assets/js/17.0f9777af.js"><link rel="prefetch" href="/blog_publish/assets/js/171.3c4b4cf8.js"><link rel="prefetch" href="/blog_publish/assets/js/172.b26b3e0b.js"><link rel="prefetch" href="/blog_publish/assets/js/173.3a7fff5f.js"><link rel="prefetch" href="/blog_publish/assets/js/174.19af7b09.js"><link rel="prefetch" href="/blog_publish/assets/js/175.3fc1f117.js"><link rel="prefetch" href="/blog_publish/assets/js/176.6ae7b19a.js"><link rel="prefetch" href="/blog_publish/assets/js/177.69fb7463.js"><link rel="prefetch" href="/blog_publish/assets/js/178.7de81768.js"><link rel="prefetch" href="/blog_publish/assets/js/179.1761831d.js"><link rel="prefetch" href="/blog_publish/assets/js/18.2e968951.js"><link rel="prefetch" href="/blog_publish/assets/js/180.c6f07c67.js"><link rel="prefetch" href="/blog_publish/assets/js/181.d162b1a1.js"><link rel="prefetch" href="/blog_publish/assets/js/182.4456d0be.js"><link rel="prefetch" href="/blog_publish/assets/js/183.f93c723d.js"><link rel="prefetch" href="/blog_publish/assets/js/184.ef521d2e.js"><link rel="prefetch" href="/blog_publish/assets/js/185.83a8c9fe.js"><link rel="prefetch" href="/blog_publish/assets/js/186.e81d6cba.js"><link rel="prefetch" href="/blog_publish/assets/js/187.8692e337.js"><link rel="prefetch" href="/blog_publish/assets/js/188.ba2fb20c.js"><link rel="prefetch" href="/blog_publish/assets/js/189.ab821ba0.js"><link rel="prefetch" href="/blog_publish/assets/js/19.7c2f973d.js"><link rel="prefetch" href="/blog_publish/assets/js/190.dab36943.js"><link rel="prefetch" href="/blog_publish/assets/js/191.4843d7d4.js"><link rel="prefetch" href="/blog_publish/assets/js/192.c22fadad.js"><link rel="prefetch" href="/blog_publish/assets/js/193.4eb2b867.js"><link rel="prefetch" href="/blog_publish/assets/js/194.8875e11c.js"><link rel="prefetch" href="/blog_publish/assets/js/195.95f4d09a.js"><link rel="prefetch" href="/blog_publish/assets/js/196.cd2f3ae8.js"><link rel="prefetch" href="/blog_publish/assets/js/197.70211940.js"><link rel="prefetch" href="/blog_publish/assets/js/198.26164f3c.js"><link rel="prefetch" href="/blog_publish/assets/js/199.fd976f25.js"><link rel="prefetch" href="/blog_publish/assets/js/20.908900ef.js"><link rel="prefetch" href="/blog_publish/assets/js/200.5f1602fe.js"><link rel="prefetch" href="/blog_publish/assets/js/201.d7a758a7.js"><link rel="prefetch" href="/blog_publish/assets/js/202.19c164c3.js"><link rel="prefetch" href="/blog_publish/assets/js/203.c1f03e21.js"><link rel="prefetch" href="/blog_publish/assets/js/204.35968c57.js"><link rel="prefetch" href="/blog_publish/assets/js/205.005d6d8f.js"><link rel="prefetch" href="/blog_publish/assets/js/206.3c0dbec0.js"><link rel="prefetch" href="/blog_publish/assets/js/207.c4830c12.js"><link rel="prefetch" href="/blog_publish/assets/js/208.b97022cb.js"><link rel="prefetch" href="/blog_publish/assets/js/209.677b6369.js"><link rel="prefetch" href="/blog_publish/assets/js/21.7044d241.js"><link rel="prefetch" href="/blog_publish/assets/js/210.d44ac924.js"><link rel="prefetch" href="/blog_publish/assets/js/211.2dbd9ded.js"><link rel="prefetch" href="/blog_publish/assets/js/212.47f477ba.js"><link rel="prefetch" href="/blog_publish/assets/js/213.9c35a448.js"><link rel="prefetch" href="/blog_publish/assets/js/214.ac8f2798.js"><link rel="prefetch" href="/blog_publish/assets/js/215.63d65718.js"><link rel="prefetch" href="/blog_publish/assets/js/216.cc3e1582.js"><link rel="prefetch" href="/blog_publish/assets/js/217.2c04d787.js"><link rel="prefetch" href="/blog_publish/assets/js/218.c7f3f5b9.js"><link rel="prefetch" href="/blog_publish/assets/js/219.8d9c6555.js"><link rel="prefetch" href="/blog_publish/assets/js/22.d784ed62.js"><link rel="prefetch" href="/blog_publish/assets/js/220.de270cf3.js"><link rel="prefetch" href="/blog_publish/assets/js/221.9f10966c.js"><link rel="prefetch" href="/blog_publish/assets/js/222.446afc8d.js"><link rel="prefetch" href="/blog_publish/assets/js/223.a19d1f56.js"><link rel="prefetch" href="/blog_publish/assets/js/224.2c65baec.js"><link rel="prefetch" href="/blog_publish/assets/js/225.a9739529.js"><link rel="prefetch" href="/blog_publish/assets/js/226.a3cbe1a6.js"><link rel="prefetch" href="/blog_publish/assets/js/227.c0cc9df0.js"><link rel="prefetch" href="/blog_publish/assets/js/228.aa24efc1.js"><link rel="prefetch" href="/blog_publish/assets/js/229.9e2bfd4b.js"><link rel="prefetch" href="/blog_publish/assets/js/23.e53a62a3.js"><link rel="prefetch" href="/blog_publish/assets/js/230.716ceb69.js"><link rel="prefetch" href="/blog_publish/assets/js/231.63398555.js"><link rel="prefetch" href="/blog_publish/assets/js/232.2012b9ab.js"><link rel="prefetch" href="/blog_publish/assets/js/233.d8a2c89e.js"><link rel="prefetch" href="/blog_publish/assets/js/234.cabd9c56.js"><link rel="prefetch" href="/blog_publish/assets/js/235.accaf234.js"><link rel="prefetch" href="/blog_publish/assets/js/236.3e561aaf.js"><link rel="prefetch" href="/blog_publish/assets/js/237.f696b538.js"><link rel="prefetch" href="/blog_publish/assets/js/238.82e878d4.js"><link rel="prefetch" href="/blog_publish/assets/js/239.336f4961.js"><link rel="prefetch" href="/blog_publish/assets/js/24.dc57cddd.js"><link rel="prefetch" href="/blog_publish/assets/js/240.2caf2ca3.js"><link rel="prefetch" href="/blog_publish/assets/js/241.9aa7a030.js"><link rel="prefetch" href="/blog_publish/assets/js/242.92000d29.js"><link rel="prefetch" href="/blog_publish/assets/js/243.8271865e.js"><link rel="prefetch" href="/blog_publish/assets/js/244.c049f72c.js"><link rel="prefetch" href="/blog_publish/assets/js/245.e16531eb.js"><link rel="prefetch" href="/blog_publish/assets/js/246.e3251e21.js"><link rel="prefetch" href="/blog_publish/assets/js/247.ffdef603.js"><link rel="prefetch" href="/blog_publish/assets/js/248.65bc78fb.js"><link rel="prefetch" href="/blog_publish/assets/js/249.6b2aadd3.js"><link rel="prefetch" href="/blog_publish/assets/js/25.e6f63652.js"><link rel="prefetch" href="/blog_publish/assets/js/250.524341d0.js"><link rel="prefetch" href="/blog_publish/assets/js/251.220d9918.js"><link rel="prefetch" href="/blog_publish/assets/js/252.ad2399b9.js"><link rel="prefetch" href="/blog_publish/assets/js/253.1605fb82.js"><link rel="prefetch" href="/blog_publish/assets/js/254.ced00ff0.js"><link rel="prefetch" href="/blog_publish/assets/js/255.03e3e8a2.js"><link rel="prefetch" href="/blog_publish/assets/js/256.6de29e9e.js"><link rel="prefetch" href="/blog_publish/assets/js/257.08ec8fd3.js"><link rel="prefetch" href="/blog_publish/assets/js/258.898d85b6.js"><link rel="prefetch" href="/blog_publish/assets/js/259.bdf6024a.js"><link rel="prefetch" href="/blog_publish/assets/js/26.fcdec65f.js"><link rel="prefetch" href="/blog_publish/assets/js/260.49953b63.js"><link rel="prefetch" href="/blog_publish/assets/js/261.5ab2a044.js"><link rel="prefetch" href="/blog_publish/assets/js/262.032b7b75.js"><link rel="prefetch" href="/blog_publish/assets/js/263.cf67a37e.js"><link rel="prefetch" href="/blog_publish/assets/js/264.34f4e7c8.js"><link rel="prefetch" href="/blog_publish/assets/js/265.1f87b340.js"><link rel="prefetch" href="/blog_publish/assets/js/266.5d1c16e7.js"><link rel="prefetch" href="/blog_publish/assets/js/267.768ef992.js"><link rel="prefetch" href="/blog_publish/assets/js/268.5f76e835.js"><link rel="prefetch" href="/blog_publish/assets/js/269.aa90bb4e.js"><link rel="prefetch" href="/blog_publish/assets/js/27.e14043b3.js"><link rel="prefetch" href="/blog_publish/assets/js/270.a4f0128d.js"><link rel="prefetch" href="/blog_publish/assets/js/271.1605998a.js"><link rel="prefetch" href="/blog_publish/assets/js/272.8135b602.js"><link rel="prefetch" href="/blog_publish/assets/js/273.c859ad93.js"><link rel="prefetch" href="/blog_publish/assets/js/274.d3243fc2.js"><link rel="prefetch" href="/blog_publish/assets/js/275.8cb2f5e9.js"><link rel="prefetch" href="/blog_publish/assets/js/276.2a28fa58.js"><link rel="prefetch" href="/blog_publish/assets/js/277.b55ba875.js"><link rel="prefetch" href="/blog_publish/assets/js/278.687665c0.js"><link rel="prefetch" href="/blog_publish/assets/js/279.e6430a1a.js"><link rel="prefetch" href="/blog_publish/assets/js/28.e327bf8f.js"><link rel="prefetch" href="/blog_publish/assets/js/280.bf7c7ea8.js"><link rel="prefetch" href="/blog_publish/assets/js/281.843a5c84.js"><link rel="prefetch" href="/blog_publish/assets/js/282.ceba81c1.js"><link rel="prefetch" href="/blog_publish/assets/js/283.06f2b117.js"><link rel="prefetch" href="/blog_publish/assets/js/284.4a90d5d9.js"><link rel="prefetch" href="/blog_publish/assets/js/285.b71da742.js"><link rel="prefetch" href="/blog_publish/assets/js/286.7d990630.js"><link rel="prefetch" href="/blog_publish/assets/js/287.7b353d78.js"><link rel="prefetch" href="/blog_publish/assets/js/288.8e95e291.js"><link rel="prefetch" href="/blog_publish/assets/js/289.11147327.js"><link rel="prefetch" href="/blog_publish/assets/js/29.227736d1.js"><link rel="prefetch" href="/blog_publish/assets/js/290.01df1038.js"><link rel="prefetch" href="/blog_publish/assets/js/291.d95521ae.js"><link rel="prefetch" href="/blog_publish/assets/js/292.2c268013.js"><link rel="prefetch" href="/blog_publish/assets/js/293.0a155736.js"><link rel="prefetch" href="/blog_publish/assets/js/294.ff54db5d.js"><link rel="prefetch" href="/blog_publish/assets/js/295.e32a182b.js"><link rel="prefetch" href="/blog_publish/assets/js/296.a1bacbfd.js"><link rel="prefetch" href="/blog_publish/assets/js/297.efc0169c.js"><link rel="prefetch" href="/blog_publish/assets/js/298.7f752353.js"><link rel="prefetch" href="/blog_publish/assets/js/299.3a51adf9.js"><link rel="prefetch" href="/blog_publish/assets/js/3.da89ce85.js"><link rel="prefetch" href="/blog_publish/assets/js/30.5416b421.js"><link rel="prefetch" href="/blog_publish/assets/js/300.629b960a.js"><link rel="prefetch" href="/blog_publish/assets/js/301.9763ba06.js"><link rel="prefetch" href="/blog_publish/assets/js/302.d05ec1ed.js"><link rel="prefetch" href="/blog_publish/assets/js/303.04787836.js"><link rel="prefetch" href="/blog_publish/assets/js/304.9cb73328.js"><link rel="prefetch" href="/blog_publish/assets/js/305.7620d4e2.js"><link rel="prefetch" href="/blog_publish/assets/js/306.61cfe44f.js"><link rel="prefetch" href="/blog_publish/assets/js/307.73a5fdad.js"><link rel="prefetch" href="/blog_publish/assets/js/308.fe6100d3.js"><link rel="prefetch" href="/blog_publish/assets/js/309.952684a8.js"><link rel="prefetch" href="/blog_publish/assets/js/31.e9faecc1.js"><link rel="prefetch" href="/blog_publish/assets/js/310.b64e04b2.js"><link rel="prefetch" href="/blog_publish/assets/js/311.7cc75dab.js"><link rel="prefetch" href="/blog_publish/assets/js/312.f75e5d27.js"><link rel="prefetch" href="/blog_publish/assets/js/313.7e083a21.js"><link rel="prefetch" href="/blog_publish/assets/js/314.3975555e.js"><link rel="prefetch" href="/blog_publish/assets/js/315.ae2384cc.js"><link rel="prefetch" href="/blog_publish/assets/js/316.d66b707a.js"><link rel="prefetch" href="/blog_publish/assets/js/317.ce87ba01.js"><link rel="prefetch" href="/blog_publish/assets/js/318.451f304b.js"><link rel="prefetch" href="/blog_publish/assets/js/319.6f183824.js"><link rel="prefetch" href="/blog_publish/assets/js/32.3eface6e.js"><link rel="prefetch" href="/blog_publish/assets/js/320.061caa12.js"><link rel="prefetch" href="/blog_publish/assets/js/321.0ba868e2.js"><link rel="prefetch" href="/blog_publish/assets/js/322.5088f492.js"><link rel="prefetch" href="/blog_publish/assets/js/323.4b75d4ed.js"><link rel="prefetch" href="/blog_publish/assets/js/324.a7b921a6.js"><link rel="prefetch" href="/blog_publish/assets/js/325.622a2988.js"><link rel="prefetch" href="/blog_publish/assets/js/326.1ccac22a.js"><link rel="prefetch" href="/blog_publish/assets/js/327.7f2f6d5d.js"><link rel="prefetch" href="/blog_publish/assets/js/328.f074c555.js"><link rel="prefetch" href="/blog_publish/assets/js/329.a05a5b5d.js"><link rel="prefetch" href="/blog_publish/assets/js/33.06798da1.js"><link rel="prefetch" href="/blog_publish/assets/js/330.04b711cd.js"><link rel="prefetch" href="/blog_publish/assets/js/331.088f318c.js"><link rel="prefetch" href="/blog_publish/assets/js/332.83c76807.js"><link rel="prefetch" href="/blog_publish/assets/js/333.d36e3285.js"><link rel="prefetch" href="/blog_publish/assets/js/334.fb66aa81.js"><link rel="prefetch" href="/blog_publish/assets/js/335.83068ab5.js"><link rel="prefetch" href="/blog_publish/assets/js/336.82bdef61.js"><link rel="prefetch" href="/blog_publish/assets/js/337.b24ea577.js"><link rel="prefetch" href="/blog_publish/assets/js/338.12d5c1f1.js"><link rel="prefetch" href="/blog_publish/assets/js/339.d963892d.js"><link rel="prefetch" href="/blog_publish/assets/js/34.ced6ec5b.js"><link rel="prefetch" href="/blog_publish/assets/js/340.16972842.js"><link rel="prefetch" href="/blog_publish/assets/js/341.587cd90e.js"><link rel="prefetch" href="/blog_publish/assets/js/342.7a79e612.js"><link rel="prefetch" href="/blog_publish/assets/js/343.2c458691.js"><link rel="prefetch" href="/blog_publish/assets/js/344.549ecc8c.js"><link rel="prefetch" href="/blog_publish/assets/js/345.a7c8d887.js"><link rel="prefetch" href="/blog_publish/assets/js/346.5af944f2.js"><link rel="prefetch" href="/blog_publish/assets/js/347.9d4fb053.js"><link rel="prefetch" href="/blog_publish/assets/js/348.4af730fa.js"><link rel="prefetch" href="/blog_publish/assets/js/349.524b788a.js"><link rel="prefetch" href="/blog_publish/assets/js/35.1ba49fd3.js"><link rel="prefetch" href="/blog_publish/assets/js/350.c63bf9b1.js"><link rel="prefetch" href="/blog_publish/assets/js/351.2d4281cd.js"><link rel="prefetch" href="/blog_publish/assets/js/352.6cd1ddd6.js"><link rel="prefetch" href="/blog_publish/assets/js/353.9628c4d9.js"><link rel="prefetch" href="/blog_publish/assets/js/36.580469d8.js"><link rel="prefetch" href="/blog_publish/assets/js/37.917a8428.js"><link rel="prefetch" href="/blog_publish/assets/js/38.31be1e72.js"><link rel="prefetch" href="/blog_publish/assets/js/39.a977c893.js"><link rel="prefetch" href="/blog_publish/assets/js/4.159ec737.js"><link rel="prefetch" href="/blog_publish/assets/js/40.19444665.js"><link rel="prefetch" href="/blog_publish/assets/js/41.939cbb09.js"><link rel="prefetch" href="/blog_publish/assets/js/42.0996f629.js"><link rel="prefetch" href="/blog_publish/assets/js/43.8d6727a5.js"><link rel="prefetch" href="/blog_publish/assets/js/44.024ab020.js"><link rel="prefetch" href="/blog_publish/assets/js/45.512b716b.js"><link rel="prefetch" href="/blog_publish/assets/js/46.f5c0e64e.js"><link rel="prefetch" href="/blog_publish/assets/js/47.20b79c97.js"><link rel="prefetch" href="/blog_publish/assets/js/48.8153aa01.js"><link rel="prefetch" href="/blog_publish/assets/js/49.99f7771f.js"><link rel="prefetch" href="/blog_publish/assets/js/5.3fe60cf9.js"><link rel="prefetch" href="/blog_publish/assets/js/50.4fd2102f.js"><link rel="prefetch" href="/blog_publish/assets/js/51.7f5eac82.js"><link rel="prefetch" href="/blog_publish/assets/js/52.275e35dd.js"><link rel="prefetch" href="/blog_publish/assets/js/53.9b88d4ef.js"><link rel="prefetch" href="/blog_publish/assets/js/54.67f27b37.js"><link rel="prefetch" href="/blog_publish/assets/js/55.5dfee2e1.js"><link rel="prefetch" href="/blog_publish/assets/js/56.7a467fe4.js"><link rel="prefetch" href="/blog_publish/assets/js/57.38006bdf.js"><link rel="prefetch" href="/blog_publish/assets/js/58.faf541ff.js"><link rel="prefetch" href="/blog_publish/assets/js/59.f3e3e4f6.js"><link rel="prefetch" href="/blog_publish/assets/js/6.6ba0b3b7.js"><link rel="prefetch" href="/blog_publish/assets/js/60.07b79eba.js"><link rel="prefetch" href="/blog_publish/assets/js/61.d4421120.js"><link rel="prefetch" href="/blog_publish/assets/js/62.8c76b656.js"><link rel="prefetch" href="/blog_publish/assets/js/63.105baa1c.js"><link rel="prefetch" href="/blog_publish/assets/js/64.ff0297c4.js"><link rel="prefetch" href="/blog_publish/assets/js/65.d99eeb8a.js"><link rel="prefetch" href="/blog_publish/assets/js/66.a109abfb.js"><link rel="prefetch" href="/blog_publish/assets/js/67.8c88fe45.js"><link rel="prefetch" href="/blog_publish/assets/js/68.b17e4279.js"><link rel="prefetch" href="/blog_publish/assets/js/69.50092b13.js"><link rel="prefetch" href="/blog_publish/assets/js/7.d29987d1.js"><link rel="prefetch" href="/blog_publish/assets/js/70.a3ea8158.js"><link rel="prefetch" href="/blog_publish/assets/js/71.ca043987.js"><link rel="prefetch" href="/blog_publish/assets/js/72.06d379df.js"><link rel="prefetch" href="/blog_publish/assets/js/73.19224387.js"><link rel="prefetch" href="/blog_publish/assets/js/74.9e3b8dfd.js"><link rel="prefetch" href="/blog_publish/assets/js/75.9c8b7ae2.js"><link rel="prefetch" href="/blog_publish/assets/js/76.d00898eb.js"><link rel="prefetch" href="/blog_publish/assets/js/77.b211fd08.js"><link rel="prefetch" href="/blog_publish/assets/js/78.0383b78b.js"><link rel="prefetch" href="/blog_publish/assets/js/79.dba6b21d.js"><link rel="prefetch" href="/blog_publish/assets/js/8.2f345620.js"><link rel="prefetch" href="/blog_publish/assets/js/80.890ed94b.js"><link rel="prefetch" href="/blog_publish/assets/js/81.a55313ed.js"><link rel="prefetch" href="/blog_publish/assets/js/82.1fafeaee.js"><link rel="prefetch" href="/blog_publish/assets/js/83.3d5c99ef.js"><link rel="prefetch" href="/blog_publish/assets/js/84.b654fff9.js"><link rel="prefetch" href="/blog_publish/assets/js/85.47666eec.js"><link rel="prefetch" href="/blog_publish/assets/js/86.f79f3235.js"><link rel="prefetch" href="/blog_publish/assets/js/87.ea738ba8.js"><link rel="prefetch" href="/blog_publish/assets/js/88.f5787864.js"><link rel="prefetch" href="/blog_publish/assets/js/89.c4afb705.js"><link rel="prefetch" href="/blog_publish/assets/js/9.c22851ae.js"><link rel="prefetch" href="/blog_publish/assets/js/90.663e0a27.js"><link rel="prefetch" href="/blog_publish/assets/js/91.ae2ac55e.js"><link rel="prefetch" href="/blog_publish/assets/js/92.8add5276.js"><link rel="prefetch" href="/blog_publish/assets/js/93.059bf1d8.js"><link rel="prefetch" href="/blog_publish/assets/js/94.7955fd2e.js"><link rel="prefetch" href="/blog_publish/assets/js/95.5409ccc7.js"><link rel="prefetch" href="/blog_publish/assets/js/96.e6746755.js"><link rel="prefetch" href="/blog_publish/assets/js/97.e52263ea.js"><link rel="prefetch" href="/blog_publish/assets/js/98.0a1d5042.js"><link rel="prefetch" href="/blog_publish/assets/js/99.ab76b62c.js">
    <link rel="stylesheet" href="/blog_publish/assets/css/0.styles.25399173.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog_publish/" class="home-link router-link-active"><!----> <span class="site-name">小游</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog_publish/interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog_publish/java/01_ProgrammingBasic/link.html" class="nav-link">
  编程基础
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/02_DevelopmentTools/link.html" class="nav-link">
  开发工具
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/03_ApplicationFramework/link.html" class="nav-link">
  应用框架
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/04_OperationAndMaintenance/" class="nav-link">
  运维
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/05_SourceCode/" class="nav-link">
  源码
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog_publish/web/01_vue/使用webpack打包一个简单的前端程序.html" class="nav-link">
  vue
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具箱" class="dropdown-title"><span class="title">工具箱</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具箱" class="mobile-dropdown-title"><span class="title">工具箱</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog_publish/tools/essay/04_SpringBoot中处理跨域的几种方式.html" class="nav-link">
  随笔
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/tools/installSoftware/01_jdk_linux.html" class="nav-link">
  软件安装
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/tools/bugRepository/03_MySQL主从复制Bug.html" class="nav-link">
  bug库
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/tools/other/07_打包插件maven-assembly-plugin.html" class="nav-link">
  其他
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog_publish/interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog_publish/java/01_ProgrammingBasic/link.html" class="nav-link">
  编程基础
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/02_DevelopmentTools/link.html" class="nav-link">
  开发工具
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/03_ApplicationFramework/link.html" class="nav-link">
  应用框架
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/04_OperationAndMaintenance/" class="nav-link">
  运维
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/05_SourceCode/" class="nav-link">
  源码
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog_publish/web/01_vue/使用webpack打包一个简单的前端程序.html" class="nav-link">
  vue
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具箱" class="dropdown-title"><span class="title">工具箱</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具箱" class="mobile-dropdown-title"><span class="title">工具箱</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog_publish/tools/essay/04_SpringBoot中处理跨域的几种方式.html" class="nav-link">
  随笔
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/tools/installSoftware/01_jdk_linux.html" class="nav-link">
  软件安装
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/tools/bugRepository/03_MySQL主从复制Bug.html" class="nav-link">
  bug库
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/tools/other/07_打包插件maven-assembly-plugin.html" class="nav-link">
  其他
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SpringBoot基本原理与应用</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>SpringBoot基本原理与应用</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/01_SpringBoot入门.html" class="sidebar-link">一、Spring Boot 入门</a></li><li><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/02_配置文件.html" class="active sidebar-link">二、配置文件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/02_配置文件.html#_1、配置文件" class="sidebar-link">1、配置文件</a></li><li class="sidebar-sub-header"><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/02_配置文件.html#_2、yaml语法：" class="sidebar-link">2、YAML语法：</a></li><li class="sidebar-sub-header"><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/02_配置文件.html#_3、配置文件值注入" class="sidebar-link">3、配置文件值注入</a></li><li class="sidebar-sub-header"><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/02_配置文件.html#_4、配置文件占位符" class="sidebar-link">4、配置文件占位符</a></li><li class="sidebar-sub-header"><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/02_配置文件.html#_5、profile" class="sidebar-link">5、Profile</a></li><li class="sidebar-sub-header"><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/02_配置文件.html#_6、配置文件加载位置" class="sidebar-link">6、配置文件加载位置</a></li><li class="sidebar-sub-header"><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/02_配置文件.html#_7、外部配置加载顺序" class="sidebar-link">7、外部配置加载顺序</a></li><li class="sidebar-sub-header"><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/02_配置文件.html#_8、自动配置原理" class="sidebar-link">8、自动配置原理</a></li></ul></li><li><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/03_日志.html" class="sidebar-link">三、日志</a></li><li><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/04_Web开发.html" class="sidebar-link">四、Web开发</a></li><li><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/05_Docker.html" class="sidebar-link">五、Docker</a></li><li><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/06_SpringBoot与数据访问.html" class="sidebar-link">六、SpringBoot与数据访问</a></li><li><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/07_启动配置原理.html" class="sidebar-link">七、启动配置原理</a></li><li><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/08_自定义starter.html" class="sidebar-link">自定义SpringBoot-Starter</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SpringBoot整合其他框架</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="二、配置文件"><a href="#二、配置文件" class="header-anchor">#</a> 二、配置文件</h1> <h2 id="_1、配置文件"><a href="#_1、配置文件" class="header-anchor">#</a> 1、配置文件</h2> <p>SpringBoot使用一个全局的配置文件，配置文件名是固定的；</p> <p>•application.properties</p> <p>•application.yml</p> <p>配置文件的作用：修改SpringBoot自动配置的默认值；SpringBoot在底层都给我们自动配置好；</p> <p>YAML（YAML Ain't Markup Language）</p> <p>​	YAML  A Markup Language：是一个标记语言</p> <p>​	YAML   isn't Markup Language：不是一个标记语言；</p> <p>标记语言：</p> <p>​	以前的配置文件；大多都使用的是  <strong>xxxx.xml</strong>文件；</p> <p>​	YAML：<strong>以数据为中心</strong>，比json、xml等更适合做配置文件；</p> <p>​	YAML：配置例子</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8081</span>
</code></pre></div><p>​	XML：</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>server</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>port</span><span class="token punctuation">&gt;</span></span>8081<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>port</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>server</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_2、yaml语法："><a href="#_2、yaml语法：" class="header-anchor">#</a> 2、YAML语法：</h2> <h3 id="_1、基本语法"><a href="#_1、基本语法" class="header-anchor">#</a> 1、基本语法</h3> <p>k:(空格)v：表示一对键值对（空格必须有）；</p> <p>以<strong>空格</strong>的缩进来控制层级关系；只要是左对齐的一列数据，都是同一个层级的</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8081</span>
    <span class="token key atrule">path</span><span class="token punctuation">:</span> /hello
</code></pre></div><p>属性和值也是大小写敏感；</p> <h3 id="_2、值的写法"><a href="#_2、值的写法" class="header-anchor">#</a> 2、值的写法</h3> <h4 id="字面量：普通的值（数字，字符串，布尔）"><a href="#字面量：普通的值（数字，字符串，布尔）" class="header-anchor">#</a> 字面量：普通的值（数字，字符串，布尔）</h4> <p>​	k: v：字面直接来写；</p> <p>​		字符串默认不用加上单引号或者双引号；</p> <p>​		&quot;&quot;：双引号；不会转义字符串里面的特殊字符；特殊字符会作为本身想表示的意思</p> <p>​				name:   &quot;zhangsan \n lisi&quot;：输出；zhangsan 换行  lisi</p> <p>​		''：单引号；会转义特殊字符，特殊字符最终只是一个普通的字符串数据</p> <p>​				name:   ‘zhangsan \n lisi’：输出；zhangsan \n  lisi</p> <h4 id="对象、map（属性和值）（键值对）："><a href="#对象、map（属性和值）（键值对）：" class="header-anchor">#</a> 对象、Map（属性和值）（键值对）：</h4> <p>​	k: v：在下一行来写对象的属性和值的关系；注意缩进</p> <p>​		对象还是k: v的方式</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">friends</span><span class="token punctuation">:</span>
		<span class="token key atrule">lastName</span><span class="token punctuation">:</span> zhangsan
		<span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">20</span>
</code></pre></div><p>行内写法：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">friends</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token key atrule">lastName</span><span class="token punctuation">:</span> zhangsan<span class="token punctuation">,</span><span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">}</span>
</code></pre></div><h4 id="数组（list、set）："><a href="#数组（list、set）：" class="header-anchor">#</a> 数组（List、Set）：</h4> <p>用- 值表示数组中的一个元素</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">pets</span><span class="token punctuation">:</span>
 <span class="token punctuation">-</span> cat
 <span class="token punctuation">-</span> dog
 <span class="token punctuation">-</span> pig
</code></pre></div><p>行内写法</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">pets</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>cat<span class="token punctuation">,</span>dog<span class="token punctuation">,</span>pig<span class="token punctuation">]</span>
</code></pre></div><h2 id="_3、配置文件值注入"><a href="#_3、配置文件值注入" class="header-anchor">#</a> 3、配置文件值注入</h2> <p>配置文件</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">person</span><span class="token punctuation">:</span>
    <span class="token key atrule">lastName</span><span class="token punctuation">:</span> hello
    <span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">18</span>
    <span class="token key atrule">boss</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token key atrule">birth</span><span class="token punctuation">:</span> 2017/12/12
    <span class="token key atrule">maps</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token key atrule">k1</span><span class="token punctuation">:</span> v1<span class="token punctuation">,</span><span class="token key atrule">k2</span><span class="token punctuation">:</span> <span class="token number">12</span><span class="token punctuation">}</span>
    <span class="token key atrule">lists</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> lisi
      <span class="token punctuation">-</span> zhaoliu
    <span class="token key atrule">dog</span><span class="token punctuation">:</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> 小狗
      <span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">12</span>
</code></pre></div><p>javaBean：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
 * 将配置文件中配置的每一个属性的值，映射到这个组件中
 * @ConfigurationProperties：告诉SpringBoot将本类中的所有属性和配置文件中相关的配置进行绑定；
 *      prefix = &quot;person&quot;：配置文件中哪个下面的所有属性进行一一映射
 *
 * 只有这个组件是容器中的组件，才能容器提供的@ConfigurationProperties功能；
 *
 */</span>
<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;person&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> lastName<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> boss<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Date</span> birth<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> maps<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> lists<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Dog</span> dog<span class="token punctuation">;</span>

</code></pre></div><p>我们可以导入配置文件处理器，以后编写配置就有提示了</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--导入配置文件处理器，配置文件进行绑定就会有提示--&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-configuration-processor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_1、properties配置文件在idea中默认utf-8可能会乱码"><a href="#_1、properties配置文件在idea中默认utf-8可能会乱码" class="header-anchor">#</a> 1、properties配置文件在idea中默认utf-8可能会乱码</h4> <p>调整</p> <p><a data-fancybox="" title="idea配置乱码" href="http://you-blog.oss-accelerate.aliyuncs.com/typora/2020-07-12/a2c05d576a1445408cb68289c56d97f3.png"><img src="http://you-blog.oss-accelerate.aliyuncs.com/typora/2020-07-12/a2c05d576a1445408cb68289c56d97f3.png" alt="idea配置乱码"></a></p> <h4 id="_2、-value获取值和-configurationproperties获取值比较"><a href="#_2、-value获取值和-configurationproperties获取值比较" class="header-anchor">#</a> 2、@Value获取值和@ConfigurationProperties获取值比较</h4> <table><thead><tr><th></th> <th>@ConfigurationProperties</th> <th>@Value</th></tr></thead> <tbody><tr><td>功能</td> <td>批量注入配置文件中的属性</td> <td>一个个指定</td></tr> <tr><td>松散绑定（松散语法）</td> <td>支持</td> <td>不支持</td></tr> <tr><td>SpEL</td> <td>不支持</td> <td>支持</td></tr> <tr><td>JSR303数据校验</td> <td>支持</td> <td>不支持</td></tr> <tr><td>复杂类型封装</td> <td>支持</td> <td>不支持</td></tr></tbody></table> <p>配置文件yml还是properties他们都能获取到值；</p> <p>如果说，我们只是在某个业务逻辑中需要获取一下配置文件中的某项值，使用@Value；</p> <p>如果说，我们专门编写了一个javaBean来和配置文件进行映射，我们就直接使用@ConfigurationProperties；</p> <h4 id="_3、配置文件注入值数据校验"><a href="#_3、配置文件注入值数据校验" class="header-anchor">#</a> 3、配置文件注入值数据校验</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;person&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Validated</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>

    <span class="token comment">/**
     * &lt;bean class=&quot;Person&quot;&gt;
     *      &lt;property name=&quot;lastName&quot; value=&quot;字面量/${key}从环境变量、配置文件中获取值/#{SpEL}&quot;&gt;&lt;/property&gt;
     * &lt;bean/&gt;
     */</span>

   <span class="token comment">//lastName必须是邮箱格式</span>
    <span class="token annotation punctuation">@Email</span>
    <span class="token comment">//@Value(&quot;${person.last-name}&quot;)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> lastName<span class="token punctuation">;</span>
    <span class="token comment">//@Value(&quot;#{11*2}&quot;)</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>
    <span class="token comment">//@Value(&quot;true&quot;)</span>
    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> boss<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">Date</span> birth<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> maps<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> lists<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Dog</span> dog<span class="token punctuation">;</span>
</code></pre></div><h4 id="_4、-propertysource-importresource-bean"><a href="#_4、-propertysource-importresource-bean" class="header-anchor">#</a> 4、@PropertySource&amp;@ImportResource&amp;@Bean</h4> <p>@<strong>PropertySource</strong>：加载指定的配置文件；</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
 * 将配置文件中配置的每一个属性的值，映射到这个组件中
 * @ConfigurationProperties：告诉SpringBoot将本类中的所有属性和配置文件中相关的配置进行绑定；
 *      prefix = &quot;person&quot;：配置文件中哪个下面的所有属性进行一一映射
 *
 * 只有这个组件是容器中的组件，才能容器提供的@ConfigurationProperties功能；
 *  @ConfigurationProperties(prefix = &quot;person&quot;)默认从全局配置文件中获取值；
 *
 */</span>
<span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;classpath:person.properties&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;person&quot;</span><span class="token punctuation">)</span>
<span class="token comment">//@Validated</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>

    <span class="token comment">/**
     * &lt;bean class=&quot;Person&quot;&gt;
     *      &lt;property name=&quot;lastName&quot; value=&quot;字面量/${key}从环境变量、配置文件中获取值/#{SpEL}&quot;&gt;&lt;/property&gt;
     * &lt;bean/&gt;
     */</span>

   <span class="token comment">//lastName必须是邮箱格式</span>
   <span class="token comment">// @Email</span>
    <span class="token comment">//@Value(&quot;${person.last-name}&quot;)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> lastName<span class="token punctuation">;</span>
    <span class="token comment">//@Value(&quot;#{11*2}&quot;)</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>
    <span class="token comment">//@Value(&quot;true&quot;)</span>
    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> boss<span class="token punctuation">;</span>

</code></pre></div><p>@<strong>ImportResource</strong>：导入Spring的配置文件，让配置文件里面的内容生效；</p> <p>Spring Boot里面没有Spring的配置文件，我们自己编写的配置文件，也不能自动识别；</p> <p>想让Spring的配置文件生效，加载进来；@<strong>ImportResource</strong>标注在一个配置类上</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@ImportResource</span><span class="token punctuation">(</span>locations <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;classpath:beans.xml&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
导入<span class="token class-name">Spring</span>的配置文件让其生效
</code></pre></div><p>不来编写Spring的配置文件</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>


    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>helloService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>com.atguigu.springboot.service.HelloService<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>SpringBoot推荐给容器中添加组件的方式；推荐使用全注解的方式</p> <p>1、配置类**@Configuration**------&gt;Spring配置文件</p> <p>2、使用**@Bean**给容器中添加组件</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
 * @Configuration：指明当前类是一个配置类；就是来替代之前的Spring配置文件
 *
 * 在配置文件中用&lt;bean&gt;&lt;bean/&gt;标签添加组件
 *
 */</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAppConfig</span> <span class="token punctuation">{</span>

    <span class="token comment">//将方法的返回值添加到容器中；容器中这个组件默认的id就是方法名</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">HelloService</span> <span class="token function">helloService02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;配置类@Bean给容器中添加组件了...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">HelloService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_4、配置文件占位符"><a href="#_4、配置文件占位符" class="header-anchor">#</a> 4、配置文件占位符</h2> <h3 id="_1、随机数"><a href="#_1、随机数" class="header-anchor">#</a> 1、随机数</h3> <div class="language-java extra-class"><pre class="language-java"><code>$<span class="token punctuation">{</span>random<span class="token punctuation">.</span>value<span class="token punctuation">}</span>、$<span class="token punctuation">{</span>random<span class="token punctuation">.</span><span class="token keyword">int</span><span class="token punctuation">}</span>、$<span class="token punctuation">{</span>random<span class="token punctuation">.</span><span class="token keyword">long</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>random<span class="token punctuation">.</span><span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">}</span>、$<span class="token punctuation">{</span>random<span class="token punctuation">.</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">,</span><span class="token number">65536</span><span class="token punctuation">]</span><span class="token punctuation">}</span>

</code></pre></div><h3 id="_2、占位符获取之前配置的值，如果没有可以是用-指定默认值"><a href="#_2、占位符获取之前配置的值，如果没有可以是用-指定默认值" class="header-anchor">#</a> 2、占位符获取之前配置的值，如果没有可以是用:指定默认值</h3> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token attr-name">person.last-name</span><span class="token punctuation">=</span><span class="token attr-value">张三${random.uuid}</span>
<span class="token attr-name">person.age</span><span class="token punctuation">=</span><span class="token attr-value">${random.int}</span>
<span class="token attr-name">person.birth</span><span class="token punctuation">=</span><span class="token attr-value">2017/12/15</span>
<span class="token attr-name">person.boss</span><span class="token punctuation">=</span><span class="token attr-value">false</span>
<span class="token attr-name">person.maps.k1</span><span class="token punctuation">=</span><span class="token attr-value">v1</span>
<span class="token attr-name">person.maps.k2</span><span class="token punctuation">=</span><span class="token attr-value">14</span>
<span class="token attr-name">person.lists</span><span class="token punctuation">=</span><span class="token attr-value">a,b,c</span>
<span class="token attr-name">person.dog.name</span><span class="token punctuation">=</span><span class="token attr-value">${person.hello:hello}_dog</span>
<span class="token attr-name">person.dog.age</span><span class="token punctuation">=</span><span class="token attr-value">15</span>
</code></pre></div><h2 id="_5、profile"><a href="#_5、profile" class="header-anchor">#</a> 5、Profile</h2> <h3 id="_1、多profile文件"><a href="#_1、多profile文件" class="header-anchor">#</a> 1、多Profile文件</h3> <p>我们在主配置文件编写的时候，文件名可以是   application-{profile}.properties/yml</p> <p>默认使用application.properties的配置；</p> <h3 id="_2、yml支持多文档块方式"><a href="#_2、yml支持多文档块方式" class="header-anchor">#</a> 2、yml支持多文档块方式</h3> <div class="language-yml extra-class"><pre class="language-yml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8081</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span>
    <span class="token key atrule">active</span><span class="token punctuation">:</span> prod

<span class="token punctuation">---</span>
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8083</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span> dev


<span class="token punctuation">---</span>

<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8084</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span> prod  <span class="token comment">#指定属于哪个环境</span>
</code></pre></div><h3 id="_3、激活指定profile"><a href="#_3、激活指定profile" class="header-anchor">#</a> 3、激活指定profile</h3> <p>​	1、在配置文件中指定  spring.profiles.active=dev</p> <p>​	2、命令行：</p> <p>​		java -jar spring-boot-02-config-0.0.1-SNAPSHOT.jar --spring.profiles.active=dev；</p> <p>​		可以直接在测试的时候，配置传入命令行参数</p> <p>​	3、虚拟机参数；</p> <p>​		-Dspring.profiles.active=dev</p> <h2 id="_6、配置文件加载位置"><a href="#_6、配置文件加载位置" class="header-anchor">#</a> 6、配置文件加载位置</h2> <p>springboot 启动会扫描以下位置的application.properties或者application.yml文件作为Spring boot的默认配置文件</p> <p>–file:./config/</p> <p>–file:./</p> <p>–classpath:/config/</p> <p>–classpath:/</p> <p>优先级由高到底，高优先级的配置会覆盖低优先级的配置；</p> <p>SpringBoot会从这四个位置全部加载主配置文件；<strong>互补配置</strong>；</p> <p>==我们还可以通过spring.config.location来改变默认的配置文件位置==</p> <p><strong>项目打包好以后，我们可以使用命令行参数的形式，启动项目的时候来指定配置文件的新位置；指定配置文件和默认加载的这些配置文件共同起作用形成互补配置；</strong></p> <p>java -jar spring-boot-02-config-02-0.0.1-SNAPSHOT.jar --spring.config.location=G:/application.properties</p> <h2 id="_7、外部配置加载顺序"><a href="#_7、外部配置加载顺序" class="header-anchor">#</a> 7、外部配置加载顺序</h2> <p><strong>==SpringBoot也可以从以下位置加载配置； 优先级从高到低；高优先级的配置覆盖低优先级的配置，所有的配置会形成互补配置==</strong></p> <p><strong>1.命令行参数</strong></p> <p>所有的配置都可以在命令行上进行指定</p> <p>java -jar spring-boot-02-config-02-0.0.1-SNAPSHOT.jar --server.port=8087  --server.context-path=/abc</p> <p>多个配置用空格分开； --配置项=值</p> <p>2.来自java:comp/env的JNDI属性</p> <p>3.Java系统属性（System.getProperties()）</p> <p>4.操作系统环境变量</p> <p>5.RandomValuePropertySource配置的random.*属性值</p> <p>==<strong>由jar包外向jar包内进行寻找；</strong>==</p> <p>==<strong>优先加载带profile</strong>==</p> <p><strong>6.jar包外部的application-{profile}.properties或application.yml(带spring.profile)配置文件</strong></p> <p><strong>7.jar包内部的application-{profile}.properties或application.yml(带spring.profile)配置文件</strong></p> <p>==<strong>再来加载不带profile</strong>==</p> <p><strong>8.jar包外部的application.properties或application.yml(不带spring.profile)配置文件</strong></p> <p><strong>9.jar包内部的application.properties或application.yml(不带spring.profile)配置文件</strong></p> <p>10.@Configuration注解类上的@PropertySource</p> <p>11.通过SpringApplication.setDefaultProperties指定的默认属性</p> <p>所有支持的配置加载来源；</p> <p><a href="https://docs.spring.io/spring-boot/docs/1.5.9.RELEASE/reference/htmlsingle/#boot-features-external-config" target="_blank" rel="noopener noreferrer">参考官方文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="_8、自动配置原理"><a href="#_8、自动配置原理" class="header-anchor">#</a> 8、自动配置原理</h2> <p>配置文件到底能写什么？怎么写？自动配置原理；</p> <p><a href="https://docs.spring.io/spring-boot/docs/1.5.9.RELEASE/reference/htmlsingle/#common-application-properties" target="_blank" rel="noopener noreferrer">配置文件能配置的属性参照<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="_1、自动配置原理："><a href="#_1、自动配置原理：" class="header-anchor">#</a> 1、<strong>自动配置原理：</strong></h3> <p>1）、<code>SpringBoot</code>启动的时候加载主配置类，开启了自动配置功能 ==<code>@EnableAutoConfiguration</code>==</p> <p><strong>2）、<code>@EnableAutoConfiguration</code> 作用：</strong></p> <ul><li><p>利用<code>EnableAutoConfigurationImportSelector</code>给容器中导入一些组件？</p></li> <li><p>可以查看<code>selectImports()</code>方法的内容；</p></li> <li><p><code>List&lt;String&gt; configurations = getCandidateConfigurations(annotationMetadata, attributes);</code>获取候选的配置</p> <ul><li><div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">SpringFactoriesLoader</span><span class="token punctuation">.</span><span class="token function">loadFactoryNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
扫描所有jar包类路径下  META<span class="token operator">-</span>INF<span class="token operator">/</span>spring<span class="token punctuation">.</span>factories
把扫描到的这些文件的内容包装成properties对象
从properties中获取到<span class="token class-name">EnableAutoConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span>类（类名）对应的值，然后把他们添加在容器中

</code></pre></div></li></ul></li></ul> <p><strong>==将 类路径下  META-INF/spring.factories 里面配置的所有EnableAutoConfiguration的值加入到了容器中；==</strong></p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># Auto Configure</span>
<span class="token attr-name">org.springframework.boot.autoconfigure.EnableAutoConfiguration</span><span class="token punctuation">=</span><span class="token attr-value">\
org.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfiguration,\
org.springframework.boot.autoconfigure.aop.AopAutoConfiguration,\
org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration,\
org.springframework.boot.autoconfigure.batch.BatchAutoConfiguration,\
org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration,\
org.springframework.boot.autoconfigure.cassandra.CassandraAutoConfiguration,\
org.springframework.boot.autoconfigure.cloud.CloudAutoConfiguration,\
org.springframework.boot.autoconfigure.context.ConfigurationPropertiesAutoConfiguration,\
org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration,\
org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration,\
org.springframework.boot.autoconfigure.couchbase.CouchbaseAutoConfiguration,\
org.springframework.boot.autoconfigure.dao.PersistenceExceptionTranslationAutoConfiguration,\
org.springframework.boot.autoconfigure.data.cassandra.CassandraDataAutoConfiguration,\
org.springframework.boot.autoconfigure.data.cassandra.CassandraRepositoriesAutoConfiguration,\
org.springframework.boot.autoconfigure.data.couchbase.CouchbaseDataAutoConfiguration,\
org.springframework.boot.autoconfigure.data.couchbase.CouchbaseRepositoriesAutoConfiguration,\
org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchAutoConfiguration,\
org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchDataAutoConfiguration,\
org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchRepositoriesAutoConfiguration,\
org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration,\
org.springframework.boot.autoconfigure.data.ldap.LdapDataAutoConfiguration,\
org.springframework.boot.autoconfigure.data.ldap.LdapRepositoriesAutoConfiguration,\
org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration,\
org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration,\
org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration,\
org.springframework.boot.autoconfigure.data.neo4j.Neo4jRepositoriesAutoConfiguration,\
org.springframework.boot.autoconfigure.data.solr.SolrRepositoriesAutoConfiguration,\
org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,\
org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration,\
org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration,\
org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration,\
org.springframework.boot.autoconfigure.elasticsearch.jest.JestAutoConfiguration,\
org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration,\
org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration,\
org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration,\
org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration,\
org.springframework.boot.autoconfigure.hazelcast.HazelcastAutoConfiguration,\
org.springframework.boot.autoconfigure.hazelcast.HazelcastJpaDependencyAutoConfiguration,\
org.springframework.boot.autoconfigure.info.ProjectInfoAutoConfiguration,\
org.springframework.boot.autoconfigure.integration.IntegrationAutoConfiguration,\
org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration,\
org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration,\
org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration,\
org.springframework.boot.autoconfigure.jdbc.JndiDataSourceAutoConfiguration,\
org.springframework.boot.autoconfigure.jdbc.XADataSourceAutoConfiguration,\
org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration,\
org.springframework.boot.autoconfigure.jms.JmsAutoConfiguration,\
org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration,\
org.springframework.boot.autoconfigure.jms.JndiConnectionFactoryAutoConfiguration,\
org.springframework.boot.autoconfigure.jms.activemq.ActiveMQAutoConfiguration,\
org.springframework.boot.autoconfigure.jms.artemis.ArtemisAutoConfiguration,\
org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration,\
org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration,\
org.springframework.boot.autoconfigure.jersey.JerseyAutoConfiguration,\
org.springframework.boot.autoconfigure.jooq.JooqAutoConfiguration,\
org.springframework.boot.autoconfigure.kafka.KafkaAutoConfiguration,\
org.springframework.boot.autoconfigure.ldap.embedded.EmbeddedLdapAutoConfiguration,\
org.springframework.boot.autoconfigure.ldap.LdapAutoConfiguration,\
org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration,\
org.springframework.boot.autoconfigure.mail.MailSenderAutoConfiguration,\
org.springframework.boot.autoconfigure.mail.MailSenderValidatorAutoConfiguration,\
org.springframework.boot.autoconfigure.mobile.DeviceResolverAutoConfiguration,\
org.springframework.boot.autoconfigure.mobile.DeviceDelegatingViewResolverAutoConfiguration,\
org.springframework.boot.autoconfigure.mobile.SitePreferenceAutoConfiguration,\
org.springframework.boot.autoconfigure.mongo.embedded.EmbeddedMongoAutoConfiguration,\
org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration,\
org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration,\
org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration,\
org.springframework.boot.autoconfigure.reactor.ReactorAutoConfiguration,\
org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration,\
org.springframework.boot.autoconfigure.security.SecurityFilterAutoConfiguration,\
org.springframework.boot.autoconfigure.security.FallbackWebSecurityAutoConfiguration,\
org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration,\
org.springframework.boot.autoconfigure.sendgrid.SendGridAutoConfiguration,\
org.springframework.boot.autoconfigure.session.SessionAutoConfiguration,\
org.springframework.boot.autoconfigure.social.SocialWebAutoConfiguration,\
org.springframework.boot.autoconfigure.social.FacebookAutoConfiguration,\
org.springframework.boot.autoconfigure.social.LinkedInAutoConfiguration,\
org.springframework.boot.autoconfigure.social.TwitterAutoConfiguration,\
org.springframework.boot.autoconfigure.solr.SolrAutoConfiguration,\
org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration,\
org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration,\
org.springframework.boot.autoconfigure.transaction.jta.JtaAutoConfiguration,\
org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration,\
org.springframework.boot.autoconfigure.web.DispatcherServletAutoConfiguration,\
org.springframework.boot.autoconfigure.web.EmbeddedServletContainerAutoConfiguration,\
org.springframework.boot.autoconfigure.web.ErrorMvcAutoConfiguration,\
org.springframework.boot.autoconfigure.web.HttpEncodingAutoConfiguration,\
org.springframework.boot.autoconfigure.web.HttpMessageConvertersAutoConfiguration,\
org.springframework.boot.autoconfigure.web.MultipartAutoConfiguration,\
org.springframework.boot.autoconfigure.web.ServerPropertiesAutoConfiguration,\
org.springframework.boot.autoconfigure.web.WebClientAutoConfiguration,\
org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration,\
org.springframework.boot.autoconfigure.websocket.WebSocketAutoConfiguration,\
org.springframework.boot.autoconfigure.websocket.WebSocketMessagingAutoConfiguration,\
org.springframework.boot.autoconfigure.webservices.WebServicesAutoConfiguration</span>
</code></pre></div><p>每一个这样的  xxxAutoConfiguration类都是容器中的一个组件，都加入到容器中；用他们来做自动配置；</p> <p>3）、每一个自动配置类进行自动配置功能；</p> <p>4）、以**HttpEncodingAutoConfiguration（Http编码自动配置）**为例解释自动配置原理；</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>   <span class="token comment">//表示这是一个配置类，以前编写的配置文件一样，也可以给容器中添加组件</span>
<span class="token annotation punctuation">@EnableConfigurationProperties</span><span class="token punctuation">(</span><span class="token class-name">HttpEncodingProperties</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>  <span class="token comment">//启动指定类的ConfigurationProperties功能；将配置文件中对应的值和HttpEncodingProperties绑定起来；并把HttpEncodingProperties加入到ioc容器中</span>

<span class="token annotation punctuation">@ConditionalOnWebApplication</span> <span class="token comment">//Spring底层@Conditional注解（Spring注解版），根据不同的条件，如果满足指定的条件，整个配置类里面的配置就会生效；    判断当前应用是否是web应用，如果是，当前配置类生效</span>

<span class="token annotation punctuation">@ConditionalOnClass</span><span class="token punctuation">(</span><span class="token class-name">CharacterEncodingFilter</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>  <span class="token comment">//判断当前项目有没有这个类CharacterEncodingFilter；SpringMVC中进行乱码解决的过滤器；</span>

<span class="token annotation punctuation">@ConditionalOnProperty</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;spring.http.encoding&quot;</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">&quot;enabled&quot;</span><span class="token punctuation">,</span> matchIfMissing <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>  <span class="token comment">//判断配置文件中是否存在某个配置  spring.http.encoding.enabled；如果不存在，判断也是成立的</span>
<span class="token comment">//即使我们配置文件中不配置pring.http.encoding.enabled=true，也是默认生效的；</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HttpEncodingAutoConfiguration</span> <span class="token punctuation">{</span>
  
  	<span class="token comment">//他已经和SpringBoot的配置文件映射了</span>
  	<span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">HttpEncodingProperties</span> properties<span class="token punctuation">;</span>
  
   <span class="token comment">//只有一个有参构造器的情况下，参数的值就会从容器中拿</span>
  	<span class="token keyword">public</span> <span class="token class-name">HttpEncodingAutoConfiguration</span><span class="token punctuation">(</span><span class="token class-name">HttpEncodingProperties</span> properties<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>properties <span class="token operator">=</span> properties<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
  
    <span class="token annotation punctuation">@Bean</span>   <span class="token comment">//给容器中添加一个组件，这个组件的某些值需要从properties中获取</span>
	<span class="token annotation punctuation">@ConditionalOnMissingBean</span><span class="token punctuation">(</span><span class="token class-name">CharacterEncodingFilter</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token comment">//判断容器没有这个组件？</span>
	<span class="token keyword">public</span> <span class="token class-name">CharacterEncodingFilter</span> <span class="token function">characterEncodingFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">CharacterEncodingFilter</span> filter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OrderedCharacterEncodingFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		filter<span class="token punctuation">.</span><span class="token function">setEncoding</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span><span class="token function">getCharset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		filter<span class="token punctuation">.</span><span class="token function">setForceRequestEncoding</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span><span class="token function">shouldForce</span><span class="token punctuation">(</span><span class="token class-name">Type</span><span class="token punctuation">.</span>REQUEST<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		filter<span class="token punctuation">.</span><span class="token function">setForceResponseEncoding</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span><span class="token function">shouldForce</span><span class="token punctuation">(</span><span class="token class-name">Type</span><span class="token punctuation">.</span>RESPONSE<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> filter<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p>根据当前不同的条件判断，决定这个配置类是否生效？</p> <p>一但这个配置类生效；这个配置类就会给容器中添加各种组件；这些组件的属性是从对应的properties类中获取的，这些类里面的每一个属性又是和配置文件绑定的；</p> <p>5）、所有在配置文件中能配置的属性都是在xxxxProperties类中封装者‘；配置文件能配置什么就可以参照某个功能对应的这个属性类</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;spring.http.encoding&quot;</span><span class="token punctuation">)</span>  <span class="token comment">//从配置文件中获取指定的值和bean的属性进行绑定</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HttpEncodingProperties</span> <span class="token punctuation">{</span>

   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Charset</span> DEFAULT_CHARSET <span class="token operator">=</span> <span class="token class-name">Charset</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>精髓：</strong></p> <p>​	<strong>1）、SpringBoot启动会加载大量的自动配置类</strong></p> <p>​	<strong>2）、我们看我们需要的功能有没有SpringBoot默认写好的自动配置类；</strong></p> <p>​	<strong>3）、我们再来看这个自动配置类中到底配置了哪些组件；（只要我们要用的组件有，我们就不需要再来配置了）</strong></p> <p>​	<strong>4）、给容器中自动配置类添加组件的时候，会从properties类中获取某些属性。我们就可以在配置文件中指定这些属性的值；</strong></p> <p>xxxxAutoConfigurartion：自动配置类；</p> <p>给容器中添加组件</p> <p>xxxxProperties:封装配置文件中相关属性；</p> <h3 id="_2、细节"><a href="#_2、细节" class="header-anchor">#</a> 2、细节</h3> <h4 id="_1、-conditional派生注解（spring注解版原生的-conditional作用）"><a href="#_1、-conditional派生注解（spring注解版原生的-conditional作用）" class="header-anchor">#</a> 1、@Conditional派生注解（Spring注解版原生的@Conditional作用）</h4> <p>作用：必须是@Conditional指定的条件成立，才给容器中添加组件，配置配里面的所有内容才生效；</p> <table><thead><tr><th>@Conditional扩展注解</th> <th>作用（判断是否满足当前指定条件）</th></tr></thead> <tbody><tr><td>@ConditionalOnJava</td> <td>系统的java版本是否符合要求</td></tr> <tr><td>@ConditionalOnBean</td> <td>容器中存在指定Bean；</td></tr> <tr><td>@ConditionalOnMissingBean</td> <td>容器中不存在指定Bean；</td></tr> <tr><td>@ConditionalOnExpression</td> <td>满足SpEL表达式指定</td></tr> <tr><td>@ConditionalOnClass</td> <td>系统中有指定的类</td></tr> <tr><td>@ConditionalOnMissingClass</td> <td>系统中没有指定的类</td></tr> <tr><td>@ConditionalOnSingleCandidate</td> <td>容器中只有一个指定的Bean，或者这个Bean是首选Bean</td></tr> <tr><td>@ConditionalOnProperty</td> <td>系统中指定的属性是否有指定的值</td></tr> <tr><td>@ConditionalOnResource</td> <td>类路径下是否存在指定资源文件</td></tr> <tr><td>@ConditionalOnWebApplication</td> <td>当前是web环境</td></tr> <tr><td>@ConditionalOnNotWebApplication</td> <td>当前不是web环境</td></tr> <tr><td>@ConditionalOnJndi</td> <td>JNDI存在指定项</td></tr></tbody></table> <p><strong>自动配置类必须在一定的条件下才能生效；</strong></p> <p>我们怎么知道哪些自动配置类生效；</p> <p><strong>==我们可以通过启用  debug=true属性；来让控制台打印自动配置报告==</strong>，这样我们就可以很方便的知道哪些自动配置类生效；</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
AUTO<span class="token operator">-</span><span class="token class-name">CONFIGURATION</span> REPORT
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>


<span class="token class-name">Positive</span> matches<span class="token operator">:</span>（自动配置类启用的）
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>

   <span class="token class-name">DispatcherServletAutoConfiguration</span> matched<span class="token operator">:</span>
      <span class="token operator">-</span> <span class="token annotation punctuation">@ConditionalOnClass</span> found required <span class="token keyword">class</span> <span class="token string">'org.springframework.web.servlet.DispatcherServlet'</span><span class="token punctuation">;</span> <span class="token annotation punctuation">@ConditionalOnMissingClass</span> did not find unwanted <span class="token keyword">class</span> <span class="token punctuation">(</span><span class="token class-name">OnClassCondition</span><span class="token punctuation">)</span>
      <span class="token operator">-</span> <span class="token annotation punctuation">@ConditionalOnWebApplication</span> <span class="token punctuation">(</span>required<span class="token punctuation">)</span> found <span class="token class-name">StandardServletEnvironment</span> <span class="token punctuation">(</span><span class="token class-name">OnWebApplicationCondition</span><span class="token punctuation">)</span>
        
    
<span class="token class-name">Negative</span> matches<span class="token operator">:</span>（没有启动，没有匹配成功的自动配置类）
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>

   <span class="token class-name">ActiveMQAutoConfiguration</span><span class="token operator">:</span>
      <span class="token class-name">Did</span> not match<span class="token operator">:</span>
         <span class="token operator">-</span> <span class="token annotation punctuation">@ConditionalOnClass</span> did not find required classes <span class="token string">'javax.jms.ConnectionFactory'</span><span class="token punctuation">,</span> <span class="token string">'org.apache.activemq.ActiveMQConnectionFactory'</span> <span class="token punctuation">(</span><span class="token class-name">OnClassCondition</span><span class="token punctuation">)</span>

   <span class="token class-name">AopAutoConfiguration</span><span class="token operator">:</span>
      <span class="token class-name">Did</span> not match<span class="token operator">:</span>
         <span class="token operator">-</span> <span class="token annotation punctuation">@ConditionalOnClass</span> did not find required classes <span class="token string">'org.aspectj.lang.annotation.Aspect'</span><span class="token punctuation">,</span> <span class="token string">'org.aspectj.lang.reflect.Advice'</span> <span class="token punctuation">(</span><span class="token class-name">OnClassCondition</span><span class="token punctuation">)</span>
        
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/01_SpringBoot入门.html" class="prev">
        一、Spring Boot 入门
      </a></span> <span class="next"><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/03_日志.html">
        三、日志
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog_publish/assets/js/app.54d8e255.js" defer></script><script src="/blog_publish/assets/js/2.92f2819f.js" defer></script><script src="/blog_publish/assets/js/170.113ad882.js" defer></script>
  </body>
</html>
