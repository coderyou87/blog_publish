<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>二、配置文件 | 小游</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon1" href="http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-02-18/d687f535b564447e82a3178a4e9b2f8c.jpg">
    <link rel="icon2" href="https://you-blog.oss-cn-shenzhen.aliyuncs.com/typora/2021-02-18/icon.jpg">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    <meta name="description" content="知行合一">
    <link rel="preload" href="/blog_publish/assets/css/0.styles.9a82886c.css" as="style"><link rel="preload" href="/blog_publish/assets/js/app.31b13512.js" as="script"><link rel="preload" href="/blog_publish/assets/js/2.bedb11a8.js" as="script"><link rel="preload" href="/blog_publish/assets/js/156.3e442f57.js" as="script"><link rel="prefetch" href="/blog_publish/assets/js/10.206451f3.js"><link rel="prefetch" href="/blog_publish/assets/js/100.96e449ad.js"><link rel="prefetch" href="/blog_publish/assets/js/101.3509f7ce.js"><link rel="prefetch" href="/blog_publish/assets/js/102.0e109d3d.js"><link rel="prefetch" href="/blog_publish/assets/js/103.58171f0f.js"><link rel="prefetch" href="/blog_publish/assets/js/104.e549dae9.js"><link rel="prefetch" href="/blog_publish/assets/js/105.a5c8f075.js"><link rel="prefetch" href="/blog_publish/assets/js/106.4cb992df.js"><link rel="prefetch" href="/blog_publish/assets/js/107.28e22083.js"><link rel="prefetch" href="/blog_publish/assets/js/108.364528f2.js"><link rel="prefetch" href="/blog_publish/assets/js/109.f61c8fea.js"><link rel="prefetch" href="/blog_publish/assets/js/11.3c52db7c.js"><link rel="prefetch" href="/blog_publish/assets/js/110.2b7e00a5.js"><link rel="prefetch" href="/blog_publish/assets/js/111.0e667b0e.js"><link rel="prefetch" href="/blog_publish/assets/js/112.fa00c8ca.js"><link rel="prefetch" href="/blog_publish/assets/js/113.f87fc1f1.js"><link rel="prefetch" href="/blog_publish/assets/js/114.24fde1b8.js"><link rel="prefetch" href="/blog_publish/assets/js/115.8f352077.js"><link rel="prefetch" href="/blog_publish/assets/js/116.37a2728a.js"><link rel="prefetch" href="/blog_publish/assets/js/117.96156ff2.js"><link rel="prefetch" href="/blog_publish/assets/js/118.043b9fdd.js"><link rel="prefetch" href="/blog_publish/assets/js/119.2194c5fa.js"><link rel="prefetch" href="/blog_publish/assets/js/12.5ba20854.js"><link rel="prefetch" href="/blog_publish/assets/js/120.8ead1cb1.js"><link rel="prefetch" href="/blog_publish/assets/js/121.c0b37259.js"><link rel="prefetch" href="/blog_publish/assets/js/122.f4bfae59.js"><link rel="prefetch" href="/blog_publish/assets/js/123.19deaaac.js"><link rel="prefetch" href="/blog_publish/assets/js/124.555868dd.js"><link rel="prefetch" href="/blog_publish/assets/js/125.aabcb00e.js"><link rel="prefetch" href="/blog_publish/assets/js/126.3232ba5c.js"><link rel="prefetch" href="/blog_publish/assets/js/127.e46a75dc.js"><link rel="prefetch" href="/blog_publish/assets/js/128.66dfd5e3.js"><link rel="prefetch" href="/blog_publish/assets/js/129.866af907.js"><link rel="prefetch" href="/blog_publish/assets/js/13.6201bcbf.js"><link rel="prefetch" href="/blog_publish/assets/js/130.891d7e1f.js"><link rel="prefetch" href="/blog_publish/assets/js/131.41833978.js"><link rel="prefetch" href="/blog_publish/assets/js/132.4ac176db.js"><link rel="prefetch" href="/blog_publish/assets/js/133.476831d7.js"><link rel="prefetch" href="/blog_publish/assets/js/134.01417963.js"><link rel="prefetch" href="/blog_publish/assets/js/135.073ed824.js"><link rel="prefetch" href="/blog_publish/assets/js/136.429c9e0f.js"><link rel="prefetch" href="/blog_publish/assets/js/137.7c97fbf7.js"><link rel="prefetch" href="/blog_publish/assets/js/138.a5a1ee58.js"><link rel="prefetch" href="/blog_publish/assets/js/139.9cde3dea.js"><link rel="prefetch" href="/blog_publish/assets/js/14.5d64b33d.js"><link rel="prefetch" href="/blog_publish/assets/js/140.13d6148f.js"><link rel="prefetch" href="/blog_publish/assets/js/141.c3b3caed.js"><link rel="prefetch" href="/blog_publish/assets/js/142.83a3b63f.js"><link rel="prefetch" href="/blog_publish/assets/js/143.299ac19b.js"><link rel="prefetch" href="/blog_publish/assets/js/144.144a5c98.js"><link rel="prefetch" href="/blog_publish/assets/js/145.fd066a05.js"><link rel="prefetch" href="/blog_publish/assets/js/146.5338fbc3.js"><link rel="prefetch" href="/blog_publish/assets/js/147.69c1aa22.js"><link rel="prefetch" href="/blog_publish/assets/js/148.2e03dc32.js"><link rel="prefetch" href="/blog_publish/assets/js/149.e4e15442.js"><link rel="prefetch" href="/blog_publish/assets/js/15.08884a9d.js"><link rel="prefetch" href="/blog_publish/assets/js/150.fb662127.js"><link rel="prefetch" href="/blog_publish/assets/js/151.bb7c81de.js"><link rel="prefetch" href="/blog_publish/assets/js/152.3d9c1bd9.js"><link rel="prefetch" href="/blog_publish/assets/js/153.f77dabb3.js"><link rel="prefetch" href="/blog_publish/assets/js/154.6623bfa6.js"><link rel="prefetch" href="/blog_publish/assets/js/155.e7aa4793.js"><link rel="prefetch" href="/blog_publish/assets/js/157.f7df32db.js"><link rel="prefetch" href="/blog_publish/assets/js/158.47d3d06d.js"><link rel="prefetch" href="/blog_publish/assets/js/159.e9b43823.js"><link rel="prefetch" href="/blog_publish/assets/js/16.ad164ec8.js"><link rel="prefetch" href="/blog_publish/assets/js/160.fe7dc1e3.js"><link rel="prefetch" href="/blog_publish/assets/js/161.b493b999.js"><link rel="prefetch" href="/blog_publish/assets/js/162.222a818d.js"><link rel="prefetch" href="/blog_publish/assets/js/163.823c172f.js"><link rel="prefetch" href="/blog_publish/assets/js/164.38fa07ca.js"><link rel="prefetch" href="/blog_publish/assets/js/165.1f3d1cb6.js"><link rel="prefetch" href="/blog_publish/assets/js/166.f3c20891.js"><link rel="prefetch" href="/blog_publish/assets/js/167.114ab377.js"><link rel="prefetch" href="/blog_publish/assets/js/168.83d7899c.js"><link rel="prefetch" href="/blog_publish/assets/js/169.0e9a5392.js"><link rel="prefetch" href="/blog_publish/assets/js/17.3d9ada17.js"><link rel="prefetch" href="/blog_publish/assets/js/170.b718d02a.js"><link rel="prefetch" href="/blog_publish/assets/js/171.56d5df33.js"><link rel="prefetch" href="/blog_publish/assets/js/172.a03f2021.js"><link rel="prefetch" href="/blog_publish/assets/js/173.831e69dc.js"><link rel="prefetch" href="/blog_publish/assets/js/174.2bfa8935.js"><link rel="prefetch" href="/blog_publish/assets/js/175.03271d49.js"><link rel="prefetch" href="/blog_publish/assets/js/176.6de54e39.js"><link rel="prefetch" href="/blog_publish/assets/js/177.f28008f1.js"><link rel="prefetch" href="/blog_publish/assets/js/178.bd8d6b32.js"><link rel="prefetch" href="/blog_publish/assets/js/179.3652cb74.js"><link rel="prefetch" href="/blog_publish/assets/js/18.b0722ff1.js"><link rel="prefetch" href="/blog_publish/assets/js/180.3aac3d89.js"><link rel="prefetch" href="/blog_publish/assets/js/181.58951ffe.js"><link rel="prefetch" href="/blog_publish/assets/js/182.6dfaa6b0.js"><link rel="prefetch" href="/blog_publish/assets/js/183.eca45e14.js"><link rel="prefetch" href="/blog_publish/assets/js/184.354204be.js"><link rel="prefetch" href="/blog_publish/assets/js/185.5d59d54a.js"><link rel="prefetch" href="/blog_publish/assets/js/186.269fa8c0.js"><link rel="prefetch" href="/blog_publish/assets/js/187.2c888c2d.js"><link rel="prefetch" href="/blog_publish/assets/js/188.57cbe389.js"><link rel="prefetch" href="/blog_publish/assets/js/189.5c52f472.js"><link rel="prefetch" href="/blog_publish/assets/js/19.5f335684.js"><link rel="prefetch" href="/blog_publish/assets/js/190.f9a3f70f.js"><link rel="prefetch" href="/blog_publish/assets/js/191.c753f4a4.js"><link rel="prefetch" href="/blog_publish/assets/js/192.e1f212d9.js"><link rel="prefetch" href="/blog_publish/assets/js/193.e28eec8b.js"><link rel="prefetch" href="/blog_publish/assets/js/194.15c78616.js"><link rel="prefetch" href="/blog_publish/assets/js/195.2369fece.js"><link rel="prefetch" href="/blog_publish/assets/js/196.9090b20e.js"><link rel="prefetch" href="/blog_publish/assets/js/197.1acdc540.js"><link rel="prefetch" href="/blog_publish/assets/js/198.6b1521ca.js"><link rel="prefetch" href="/blog_publish/assets/js/199.ff4f3cd6.js"><link rel="prefetch" href="/blog_publish/assets/js/20.4d1bc1f5.js"><link rel="prefetch" href="/blog_publish/assets/js/200.c3280f02.js"><link rel="prefetch" href="/blog_publish/assets/js/201.966bf8e3.js"><link rel="prefetch" href="/blog_publish/assets/js/202.96981d4b.js"><link rel="prefetch" href="/blog_publish/assets/js/203.c35cb809.js"><link rel="prefetch" href="/blog_publish/assets/js/204.702feee4.js"><link rel="prefetch" href="/blog_publish/assets/js/205.eaddcb3e.js"><link rel="prefetch" href="/blog_publish/assets/js/206.80e6c32b.js"><link rel="prefetch" href="/blog_publish/assets/js/207.0696758b.js"><link rel="prefetch" href="/blog_publish/assets/js/208.729ca178.js"><link rel="prefetch" href="/blog_publish/assets/js/209.cc225e8d.js"><link rel="prefetch" href="/blog_publish/assets/js/21.1eac8da7.js"><link rel="prefetch" href="/blog_publish/assets/js/210.115ac7a0.js"><link rel="prefetch" href="/blog_publish/assets/js/211.011de07c.js"><link rel="prefetch" href="/blog_publish/assets/js/212.2c263575.js"><link rel="prefetch" href="/blog_publish/assets/js/213.1119022f.js"><link rel="prefetch" href="/blog_publish/assets/js/214.7cb101b9.js"><link rel="prefetch" href="/blog_publish/assets/js/215.78fc7f87.js"><link rel="prefetch" href="/blog_publish/assets/js/216.1ea0d539.js"><link rel="prefetch" href="/blog_publish/assets/js/217.3f5a9261.js"><link rel="prefetch" href="/blog_publish/assets/js/218.406b6567.js"><link rel="prefetch" href="/blog_publish/assets/js/219.4db77c9d.js"><link rel="prefetch" href="/blog_publish/assets/js/22.14a3959f.js"><link rel="prefetch" href="/blog_publish/assets/js/220.18f98021.js"><link rel="prefetch" href="/blog_publish/assets/js/221.1d6693a4.js"><link rel="prefetch" href="/blog_publish/assets/js/222.b6c69695.js"><link rel="prefetch" href="/blog_publish/assets/js/223.f751543b.js"><link rel="prefetch" href="/blog_publish/assets/js/224.053442af.js"><link rel="prefetch" href="/blog_publish/assets/js/225.8465b497.js"><link rel="prefetch" href="/blog_publish/assets/js/226.8064e582.js"><link rel="prefetch" href="/blog_publish/assets/js/227.3f915435.js"><link rel="prefetch" href="/blog_publish/assets/js/228.720262f1.js"><link rel="prefetch" href="/blog_publish/assets/js/229.0e16ae6f.js"><link rel="prefetch" href="/blog_publish/assets/js/23.802f5f60.js"><link rel="prefetch" href="/blog_publish/assets/js/230.43cc9d9f.js"><link rel="prefetch" href="/blog_publish/assets/js/231.6ee7551c.js"><link rel="prefetch" href="/blog_publish/assets/js/232.fe9b7185.js"><link rel="prefetch" href="/blog_publish/assets/js/233.2077407e.js"><link rel="prefetch" href="/blog_publish/assets/js/234.2e4d7b26.js"><link rel="prefetch" href="/blog_publish/assets/js/235.9cf90537.js"><link rel="prefetch" href="/blog_publish/assets/js/236.22d5cc6f.js"><link rel="prefetch" href="/blog_publish/assets/js/237.330ff60e.js"><link rel="prefetch" href="/blog_publish/assets/js/238.2799203f.js"><link rel="prefetch" href="/blog_publish/assets/js/239.67683e38.js"><link rel="prefetch" href="/blog_publish/assets/js/24.9163f805.js"><link rel="prefetch" href="/blog_publish/assets/js/240.5a1946de.js"><link rel="prefetch" href="/blog_publish/assets/js/241.a5553ea4.js"><link rel="prefetch" href="/blog_publish/assets/js/242.c8edab1b.js"><link rel="prefetch" href="/blog_publish/assets/js/243.7a64904f.js"><link rel="prefetch" href="/blog_publish/assets/js/244.b45a0151.js"><link rel="prefetch" href="/blog_publish/assets/js/245.f0929bdd.js"><link rel="prefetch" href="/blog_publish/assets/js/246.1d9ed069.js"><link rel="prefetch" href="/blog_publish/assets/js/247.a0d99d1b.js"><link rel="prefetch" href="/blog_publish/assets/js/248.1932c606.js"><link rel="prefetch" href="/blog_publish/assets/js/249.764b3822.js"><link rel="prefetch" href="/blog_publish/assets/js/25.58ef4bbb.js"><link rel="prefetch" href="/blog_publish/assets/js/250.07a86955.js"><link rel="prefetch" href="/blog_publish/assets/js/251.fa8121cf.js"><link rel="prefetch" href="/blog_publish/assets/js/252.44e16660.js"><link rel="prefetch" href="/blog_publish/assets/js/253.b60d1e1e.js"><link rel="prefetch" href="/blog_publish/assets/js/254.3b8a3838.js"><link rel="prefetch" href="/blog_publish/assets/js/255.6df76bfb.js"><link rel="prefetch" href="/blog_publish/assets/js/256.531d5199.js"><link rel="prefetch" href="/blog_publish/assets/js/257.1e5a4668.js"><link rel="prefetch" href="/blog_publish/assets/js/258.3e3439e4.js"><link rel="prefetch" href="/blog_publish/assets/js/259.a88fdd36.js"><link rel="prefetch" href="/blog_publish/assets/js/26.cccecdbb.js"><link rel="prefetch" href="/blog_publish/assets/js/260.ce78e209.js"><link rel="prefetch" href="/blog_publish/assets/js/261.cbdea9c2.js"><link rel="prefetch" href="/blog_publish/assets/js/262.a751fa47.js"><link rel="prefetch" href="/blog_publish/assets/js/263.33f3028f.js"><link rel="prefetch" href="/blog_publish/assets/js/264.c3e6a048.js"><link rel="prefetch" href="/blog_publish/assets/js/265.96552c0d.js"><link rel="prefetch" href="/blog_publish/assets/js/266.bd850e46.js"><link rel="prefetch" href="/blog_publish/assets/js/267.c3fe247d.js"><link rel="prefetch" href="/blog_publish/assets/js/268.e23566ae.js"><link rel="prefetch" href="/blog_publish/assets/js/269.997c330f.js"><link rel="prefetch" href="/blog_publish/assets/js/27.392b1779.js"><link rel="prefetch" href="/blog_publish/assets/js/270.062bcaa9.js"><link rel="prefetch" href="/blog_publish/assets/js/271.f226c762.js"><link rel="prefetch" href="/blog_publish/assets/js/272.8bdebe6d.js"><link rel="prefetch" href="/blog_publish/assets/js/273.c23e60fe.js"><link rel="prefetch" href="/blog_publish/assets/js/274.9f2dc256.js"><link rel="prefetch" href="/blog_publish/assets/js/275.00b5e33f.js"><link rel="prefetch" href="/blog_publish/assets/js/276.046c40ac.js"><link rel="prefetch" href="/blog_publish/assets/js/277.389009f8.js"><link rel="prefetch" href="/blog_publish/assets/js/278.cf83face.js"><link rel="prefetch" href="/blog_publish/assets/js/279.623a7c5f.js"><link rel="prefetch" href="/blog_publish/assets/js/28.01c7a432.js"><link rel="prefetch" href="/blog_publish/assets/js/280.5ab5f897.js"><link rel="prefetch" href="/blog_publish/assets/js/281.f6e2a21e.js"><link rel="prefetch" href="/blog_publish/assets/js/282.ce9c8264.js"><link rel="prefetch" href="/blog_publish/assets/js/283.96ebf63b.js"><link rel="prefetch" href="/blog_publish/assets/js/284.3e299e64.js"><link rel="prefetch" href="/blog_publish/assets/js/285.035d6f44.js"><link rel="prefetch" href="/blog_publish/assets/js/286.d6061905.js"><link rel="prefetch" href="/blog_publish/assets/js/287.3265c582.js"><link rel="prefetch" href="/blog_publish/assets/js/288.d352e309.js"><link rel="prefetch" href="/blog_publish/assets/js/289.8cc8e243.js"><link rel="prefetch" href="/blog_publish/assets/js/29.9934b7b1.js"><link rel="prefetch" href="/blog_publish/assets/js/290.6c6a82df.js"><link rel="prefetch" href="/blog_publish/assets/js/291.27f741a9.js"><link rel="prefetch" href="/blog_publish/assets/js/292.4a7b31d6.js"><link rel="prefetch" href="/blog_publish/assets/js/293.20d06015.js"><link rel="prefetch" href="/blog_publish/assets/js/294.2af905da.js"><link rel="prefetch" href="/blog_publish/assets/js/295.33af56a6.js"><link rel="prefetch" href="/blog_publish/assets/js/296.f703cbfc.js"><link rel="prefetch" href="/blog_publish/assets/js/297.79e5f2e8.js"><link rel="prefetch" href="/blog_publish/assets/js/298.7ada6589.js"><link rel="prefetch" href="/blog_publish/assets/js/299.53d4eb2e.js"><link rel="prefetch" href="/blog_publish/assets/js/3.f8252fac.js"><link rel="prefetch" href="/blog_publish/assets/js/30.c722acad.js"><link rel="prefetch" href="/blog_publish/assets/js/300.3043cac8.js"><link rel="prefetch" href="/blog_publish/assets/js/301.981140f7.js"><link rel="prefetch" href="/blog_publish/assets/js/302.02f9de71.js"><link rel="prefetch" href="/blog_publish/assets/js/303.63de4a38.js"><link rel="prefetch" href="/blog_publish/assets/js/304.ba0a518c.js"><link rel="prefetch" href="/blog_publish/assets/js/305.846e128b.js"><link rel="prefetch" href="/blog_publish/assets/js/306.67b46627.js"><link rel="prefetch" href="/blog_publish/assets/js/307.4c6b7c81.js"><link rel="prefetch" href="/blog_publish/assets/js/308.62222a36.js"><link rel="prefetch" href="/blog_publish/assets/js/309.1fdcdf52.js"><link rel="prefetch" href="/blog_publish/assets/js/31.be6fe467.js"><link rel="prefetch" href="/blog_publish/assets/js/310.a30c831a.js"><link rel="prefetch" href="/blog_publish/assets/js/311.2a7f84a1.js"><link rel="prefetch" href="/blog_publish/assets/js/312.48ef9798.js"><link rel="prefetch" href="/blog_publish/assets/js/313.cf351f10.js"><link rel="prefetch" href="/blog_publish/assets/js/314.79bd51d5.js"><link rel="prefetch" href="/blog_publish/assets/js/315.a6f9ea46.js"><link rel="prefetch" href="/blog_publish/assets/js/316.f9544fd9.js"><link rel="prefetch" href="/blog_publish/assets/js/317.efafc203.js"><link rel="prefetch" href="/blog_publish/assets/js/318.3c129b17.js"><link rel="prefetch" href="/blog_publish/assets/js/319.ff5800ab.js"><link rel="prefetch" href="/blog_publish/assets/js/32.cc945041.js"><link rel="prefetch" href="/blog_publish/assets/js/320.5a9a632d.js"><link rel="prefetch" href="/blog_publish/assets/js/321.8bf52f4d.js"><link rel="prefetch" href="/blog_publish/assets/js/322.3dfdca24.js"><link rel="prefetch" href="/blog_publish/assets/js/323.30bf0590.js"><link rel="prefetch" href="/blog_publish/assets/js/324.2c192fe8.js"><link rel="prefetch" href="/blog_publish/assets/js/325.fd688967.js"><link rel="prefetch" href="/blog_publish/assets/js/326.69594c95.js"><link rel="prefetch" href="/blog_publish/assets/js/327.451b02e7.js"><link rel="prefetch" href="/blog_publish/assets/js/328.9acb4586.js"><link rel="prefetch" href="/blog_publish/assets/js/329.91a4dc4c.js"><link rel="prefetch" href="/blog_publish/assets/js/33.64676edb.js"><link rel="prefetch" href="/blog_publish/assets/js/330.4888833c.js"><link rel="prefetch" href="/blog_publish/assets/js/331.ad3738cb.js"><link rel="prefetch" href="/blog_publish/assets/js/332.3002feb1.js"><link rel="prefetch" href="/blog_publish/assets/js/333.8218f544.js"><link rel="prefetch" href="/blog_publish/assets/js/334.c4d55711.js"><link rel="prefetch" href="/blog_publish/assets/js/335.ab9d62e7.js"><link rel="prefetch" href="/blog_publish/assets/js/336.e1e510ed.js"><link rel="prefetch" href="/blog_publish/assets/js/337.04170091.js"><link rel="prefetch" href="/blog_publish/assets/js/338.9d7c2a2b.js"><link rel="prefetch" href="/blog_publish/assets/js/34.157119b4.js"><link rel="prefetch" href="/blog_publish/assets/js/35.9d0cb8af.js"><link rel="prefetch" href="/blog_publish/assets/js/36.9159f95e.js"><link rel="prefetch" href="/blog_publish/assets/js/37.bea9c58d.js"><link rel="prefetch" href="/blog_publish/assets/js/38.64080b89.js"><link rel="prefetch" href="/blog_publish/assets/js/39.76c5f75a.js"><link rel="prefetch" href="/blog_publish/assets/js/4.b0cb765d.js"><link rel="prefetch" href="/blog_publish/assets/js/40.a2fdc451.js"><link rel="prefetch" href="/blog_publish/assets/js/41.b7c3b653.js"><link rel="prefetch" href="/blog_publish/assets/js/42.1f247949.js"><link rel="prefetch" href="/blog_publish/assets/js/43.bc15d7fa.js"><link rel="prefetch" href="/blog_publish/assets/js/44.7e3944c1.js"><link rel="prefetch" href="/blog_publish/assets/js/45.2b53626c.js"><link rel="prefetch" href="/blog_publish/assets/js/46.c3c88ed7.js"><link rel="prefetch" href="/blog_publish/assets/js/47.c4cb82c4.js"><link rel="prefetch" href="/blog_publish/assets/js/48.cf0c6e2d.js"><link rel="prefetch" href="/blog_publish/assets/js/49.6081b422.js"><link rel="prefetch" href="/blog_publish/assets/js/5.e723c1a9.js"><link rel="prefetch" href="/blog_publish/assets/js/50.21139326.js"><link rel="prefetch" href="/blog_publish/assets/js/51.ec7541ed.js"><link rel="prefetch" href="/blog_publish/assets/js/52.5000f26a.js"><link rel="prefetch" href="/blog_publish/assets/js/53.5422b506.js"><link rel="prefetch" href="/blog_publish/assets/js/54.9b27a82b.js"><link rel="prefetch" href="/blog_publish/assets/js/55.04d0e0bf.js"><link rel="prefetch" href="/blog_publish/assets/js/56.2d302f56.js"><link rel="prefetch" href="/blog_publish/assets/js/57.f19d9da6.js"><link rel="prefetch" href="/blog_publish/assets/js/58.9bac7a2d.js"><link rel="prefetch" href="/blog_publish/assets/js/59.cad27dcf.js"><link rel="prefetch" href="/blog_publish/assets/js/6.43debd78.js"><link rel="prefetch" href="/blog_publish/assets/js/60.13030282.js"><link rel="prefetch" href="/blog_publish/assets/js/61.c3cd3883.js"><link rel="prefetch" href="/blog_publish/assets/js/62.991ed966.js"><link rel="prefetch" href="/blog_publish/assets/js/63.02ef9a8b.js"><link rel="prefetch" href="/blog_publish/assets/js/64.ca0ff274.js"><link rel="prefetch" href="/blog_publish/assets/js/65.762c202e.js"><link rel="prefetch" href="/blog_publish/assets/js/66.70caecdb.js"><link rel="prefetch" href="/blog_publish/assets/js/67.1ebbcca0.js"><link rel="prefetch" href="/blog_publish/assets/js/68.db344ba7.js"><link rel="prefetch" href="/blog_publish/assets/js/69.0cd111b5.js"><link rel="prefetch" href="/blog_publish/assets/js/7.23b88edf.js"><link rel="prefetch" href="/blog_publish/assets/js/70.65e10afe.js"><link rel="prefetch" href="/blog_publish/assets/js/71.2cf35286.js"><link rel="prefetch" href="/blog_publish/assets/js/72.7591a297.js"><link rel="prefetch" href="/blog_publish/assets/js/73.d2737dd7.js"><link rel="prefetch" href="/blog_publish/assets/js/74.4258ffbb.js"><link rel="prefetch" href="/blog_publish/assets/js/75.e04c0075.js"><link rel="prefetch" href="/blog_publish/assets/js/76.375a9b10.js"><link rel="prefetch" href="/blog_publish/assets/js/77.0e479337.js"><link rel="prefetch" href="/blog_publish/assets/js/78.39a53d6b.js"><link rel="prefetch" href="/blog_publish/assets/js/79.08c424e4.js"><link rel="prefetch" href="/blog_publish/assets/js/8.6aecf629.js"><link rel="prefetch" href="/blog_publish/assets/js/80.0bd6e90e.js"><link rel="prefetch" href="/blog_publish/assets/js/81.a10f59e8.js"><link rel="prefetch" href="/blog_publish/assets/js/82.27978bea.js"><link rel="prefetch" href="/blog_publish/assets/js/83.6a5168b3.js"><link rel="prefetch" href="/blog_publish/assets/js/84.f19a3caa.js"><link rel="prefetch" href="/blog_publish/assets/js/85.e1f13fb0.js"><link rel="prefetch" href="/blog_publish/assets/js/86.9cf237f0.js"><link rel="prefetch" href="/blog_publish/assets/js/87.72673275.js"><link rel="prefetch" href="/blog_publish/assets/js/88.00e0271c.js"><link rel="prefetch" href="/blog_publish/assets/js/89.88e8f06a.js"><link rel="prefetch" href="/blog_publish/assets/js/9.c2af12f9.js"><link rel="prefetch" href="/blog_publish/assets/js/90.f907021f.js"><link rel="prefetch" href="/blog_publish/assets/js/91.7d081924.js"><link rel="prefetch" href="/blog_publish/assets/js/92.de60aaa3.js"><link rel="prefetch" href="/blog_publish/assets/js/93.8b3a6fe6.js"><link rel="prefetch" href="/blog_publish/assets/js/94.ff6e40a5.js"><link rel="prefetch" href="/blog_publish/assets/js/95.bb8a8618.js"><link rel="prefetch" href="/blog_publish/assets/js/96.64cdee89.js"><link rel="prefetch" href="/blog_publish/assets/js/97.3c5c4be2.js"><link rel="prefetch" href="/blog_publish/assets/js/98.e236a23a.js"><link rel="prefetch" href="/blog_publish/assets/js/99.4e2ea96a.js">
    <link rel="stylesheet" href="/blog_publish/assets/css/0.styles.9a82886c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog_publish/" class="home-link router-link-active"><!----> <span class="site-name">小游</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog_publish/interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog_publish/java/01_ProgrammingBasic/link.html" class="nav-link">
  编程基础
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/02_DevelopmentTools/link.html" class="nav-link">
  开发工具
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/03_ApplicationFramework/link.html" class="nav-link">
  应用框架
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/04_OperationAndMaintenance/" class="nav-link">
  运维
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/05_SourceCode/" class="nav-link">
  源码
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog_publish/web/01_vue/使用webpack打包一个简单的前端程序.html" class="nav-link">
  vue
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具箱" class="dropdown-title"><span class="title">工具箱</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具箱" class="mobile-dropdown-title"><span class="title">工具箱</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog_publish/tools/essay/04_SpringBoot中处理跨域的几种方式.html" class="nav-link">
  随笔
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/tools/installSoftware/01_jdk_linux.html" class="nav-link">
  软件安装
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/tools/bugRepository/03_MySQL主从复制Bug.html" class="nav-link">
  bug库
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/tools/other/07_打包插件maven-assembly-plugin.html" class="nav-link">
  其他
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog_publish/interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog_publish/java/01_ProgrammingBasic/link.html" class="nav-link">
  编程基础
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/02_DevelopmentTools/link.html" class="nav-link">
  开发工具
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/03_ApplicationFramework/link.html" class="nav-link">
  应用框架
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/04_OperationAndMaintenance/" class="nav-link">
  运维
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/05_SourceCode/" class="nav-link">
  源码
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog_publish/web/01_vue/使用webpack打包一个简单的前端程序.html" class="nav-link">
  vue
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具箱" class="dropdown-title"><span class="title">工具箱</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具箱" class="mobile-dropdown-title"><span class="title">工具箱</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog_publish/tools/essay/04_SpringBoot中处理跨域的几种方式.html" class="nav-link">
  随笔
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/tools/installSoftware/01_jdk_linux.html" class="nav-link">
  软件安装
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/tools/bugRepository/03_MySQL主从复制Bug.html" class="nav-link">
  bug库
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/tools/other/07_打包插件maven-assembly-plugin.html" class="nav-link">
  其他
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SpringBoot基本原理与应用</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>SpringBoot基本原理与应用</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/01_SpringBoot入门.html" class="sidebar-link">一、Spring Boot 入门</a></li><li><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/02_配置文件.html" class="active sidebar-link">二、配置文件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/02_配置文件.html#_1、配置文件" class="sidebar-link">1、配置文件</a></li><li class="sidebar-sub-header"><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/02_配置文件.html#_2、yaml语法：" class="sidebar-link">2、YAML语法：</a></li><li class="sidebar-sub-header"><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/02_配置文件.html#_3、配置文件值注入" class="sidebar-link">3、配置文件值注入</a></li><li class="sidebar-sub-header"><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/02_配置文件.html#_4、配置文件占位符" class="sidebar-link">4、配置文件占位符</a></li><li class="sidebar-sub-header"><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/02_配置文件.html#_5、profile" class="sidebar-link">5、Profile</a></li><li class="sidebar-sub-header"><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/02_配置文件.html#_6、配置文件加载位置" class="sidebar-link">6、配置文件加载位置</a></li><li class="sidebar-sub-header"><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/02_配置文件.html#_7、外部配置加载顺序" class="sidebar-link">7、外部配置加载顺序</a></li><li class="sidebar-sub-header"><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/02_配置文件.html#_8、自动配置原理" class="sidebar-link">8、自动配置原理</a></li></ul></li><li><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/03_日志.html" class="sidebar-link">三、日志</a></li><li><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/04_Web开发.html" class="sidebar-link">四、Web开发</a></li><li><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/05_Docker.html" class="sidebar-link">五、Docker</a></li><li><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/06_SpringBoot与数据访问.html" class="sidebar-link">六、SpringBoot与数据访问</a></li><li><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/07_启动配置原理.html" class="sidebar-link">七、启动配置原理</a></li><li><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/08_自定义starter.html" class="sidebar-link">自定义SpringBoot-Starter</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SpringBoot整合其他框架</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="二、配置文件"><a href="#二、配置文件" class="header-anchor">#</a> 二、配置文件</h1> <h2 id="_1、配置文件"><a href="#_1、配置文件" class="header-anchor">#</a> 1、配置文件</h2> <p>SpringBoot使用一个全局的配置文件，配置文件名是固定的；</p> <p>•application.properties</p> <p>•application.yml</p> <p>配置文件的作用：修改SpringBoot自动配置的默认值；SpringBoot在底层都给我们自动配置好；</p> <p>YAML（YAML Ain't Markup Language）</p> <p>​	YAML  A Markup Language：是一个标记语言</p> <p>​	YAML   isn't Markup Language：不是一个标记语言；</p> <p>标记语言：</p> <p>​	以前的配置文件；大多都使用的是  <strong>xxxx.xml</strong>文件；</p> <p>​	YAML：<strong>以数据为中心</strong>，比json、xml等更适合做配置文件；</p> <p>​	YAML：配置例子</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8081</span>
</code></pre></div><p>​	XML：</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>server</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>port</span><span class="token punctuation">&gt;</span></span>8081<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>port</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>server</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_2、yaml语法："><a href="#_2、yaml语法：" class="header-anchor">#</a> 2、YAML语法：</h2> <h3 id="_1、基本语法"><a href="#_1、基本语法" class="header-anchor">#</a> 1、基本语法</h3> <p>k:(空格)v：表示一对键值对（空格必须有）；</p> <p>以<strong>空格</strong>的缩进来控制层级关系；只要是左对齐的一列数据，都是同一个层级的</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8081</span>
    <span class="token key atrule">path</span><span class="token punctuation">:</span> /hello
</code></pre></div><p>属性和值也是大小写敏感；</p> <h3 id="_2、值的写法"><a href="#_2、值的写法" class="header-anchor">#</a> 2、值的写法</h3> <h4 id="字面量：普通的值（数字，字符串，布尔）"><a href="#字面量：普通的值（数字，字符串，布尔）" class="header-anchor">#</a> 字面量：普通的值（数字，字符串，布尔）</h4> <p>​	k: v：字面直接来写；</p> <p>​		字符串默认不用加上单引号或者双引号；</p> <p>​		&quot;&quot;：双引号；不会转义字符串里面的特殊字符；特殊字符会作为本身想表示的意思</p> <p>​				name:   &quot;zhangsan \n lisi&quot;：输出；zhangsan 换行  lisi</p> <p>​		''：单引号；会转义特殊字符，特殊字符最终只是一个普通的字符串数据</p> <p>​				name:   ‘zhangsan \n lisi’：输出；zhangsan \n  lisi</p> <h4 id="对象、map（属性和值）（键值对）："><a href="#对象、map（属性和值）（键值对）：" class="header-anchor">#</a> 对象、Map（属性和值）（键值对）：</h4> <p>​	k: v：在下一行来写对象的属性和值的关系；注意缩进</p> <p>​		对象还是k: v的方式</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">friends</span><span class="token punctuation">:</span>
		<span class="token key atrule">lastName</span><span class="token punctuation">:</span> zhangsan
		<span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">20</span>
</code></pre></div><p>行内写法：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">friends</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token key atrule">lastName</span><span class="token punctuation">:</span> zhangsan<span class="token punctuation">,</span><span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">}</span>
</code></pre></div><h4 id="数组（list、set）："><a href="#数组（list、set）：" class="header-anchor">#</a> 数组（List、Set）：</h4> <p>用- 值表示数组中的一个元素</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">pets</span><span class="token punctuation">:</span>
 <span class="token punctuation">-</span> cat
 <span class="token punctuation">-</span> dog
 <span class="token punctuation">-</span> pig
</code></pre></div><p>行内写法</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">pets</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>cat<span class="token punctuation">,</span>dog<span class="token punctuation">,</span>pig<span class="token punctuation">]</span>
</code></pre></div><h2 id="_3、配置文件值注入"><a href="#_3、配置文件值注入" class="header-anchor">#</a> 3、配置文件值注入</h2> <p>配置文件</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">person</span><span class="token punctuation">:</span>
    <span class="token key atrule">lastName</span><span class="token punctuation">:</span> hello
    <span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">18</span>
    <span class="token key atrule">boss</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token key atrule">birth</span><span class="token punctuation">:</span> 2017/12/12
    <span class="token key atrule">maps</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token key atrule">k1</span><span class="token punctuation">:</span> v1<span class="token punctuation">,</span><span class="token key atrule">k2</span><span class="token punctuation">:</span> <span class="token number">12</span><span class="token punctuation">}</span>
    <span class="token key atrule">lists</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> lisi
      <span class="token punctuation">-</span> zhaoliu
    <span class="token key atrule">dog</span><span class="token punctuation">:</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> 小狗
      <span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">12</span>
</code></pre></div><p>javaBean：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
 * 将配置文件中配置的每一个属性的值，映射到这个组件中
 * @ConfigurationProperties：告诉SpringBoot将本类中的所有属性和配置文件中相关的配置进行绑定；
 *      prefix = &quot;person&quot;：配置文件中哪个下面的所有属性进行一一映射
 *
 * 只有这个组件是容器中的组件，才能容器提供的@ConfigurationProperties功能；
 *
 */</span>
<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;person&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> lastName<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> boss<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Date</span> birth<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> maps<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> lists<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Dog</span> dog<span class="token punctuation">;</span>

</code></pre></div><p>我们可以导入配置文件处理器，以后编写配置就有提示了</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--导入配置文件处理器，配置文件进行绑定就会有提示--&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-configuration-processor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_1、properties配置文件在idea中默认utf-8可能会乱码"><a href="#_1、properties配置文件在idea中默认utf-8可能会乱码" class="header-anchor">#</a> 1、properties配置文件在idea中默认utf-8可能会乱码</h4> <p>调整</p> <p><a data-fancybox="" title="idea配置乱码" href="http://you-blog.oss-accelerate.aliyuncs.com/typora/2020-07-12/a2c05d576a1445408cb68289c56d97f3.png"><img src="http://you-blog.oss-accelerate.aliyuncs.com/typora/2020-07-12/a2c05d576a1445408cb68289c56d97f3.png" alt="idea配置乱码"></a></p> <h4 id="_2、-value获取值和-configurationproperties获取值比较"><a href="#_2、-value获取值和-configurationproperties获取值比较" class="header-anchor">#</a> 2、@Value获取值和@ConfigurationProperties获取值比较</h4> <table><thead><tr><th></th> <th>@ConfigurationProperties</th> <th>@Value</th></tr></thead> <tbody><tr><td>功能</td> <td>批量注入配置文件中的属性</td> <td>一个个指定</td></tr> <tr><td>松散绑定（松散语法）</td> <td>支持</td> <td>不支持</td></tr> <tr><td>SpEL</td> <td>不支持</td> <td>支持</td></tr> <tr><td>JSR303数据校验</td> <td>支持</td> <td>不支持</td></tr> <tr><td>复杂类型封装</td> <td>支持</td> <td>不支持</td></tr></tbody></table> <p>配置文件yml还是properties他们都能获取到值；</p> <p>如果说，我们只是在某个业务逻辑中需要获取一下配置文件中的某项值，使用@Value；</p> <p>如果说，我们专门编写了一个javaBean来和配置文件进行映射，我们就直接使用@ConfigurationProperties；</p> <h4 id="_3、配置文件注入值数据校验"><a href="#_3、配置文件注入值数据校验" class="header-anchor">#</a> 3、配置文件注入值数据校验</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;person&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Validated</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>

    <span class="token comment">/**
     * &lt;bean class=&quot;Person&quot;&gt;
     *      &lt;property name=&quot;lastName&quot; value=&quot;字面量/${key}从环境变量、配置文件中获取值/#{SpEL}&quot;&gt;&lt;/property&gt;
     * &lt;bean/&gt;
     */</span>

   <span class="token comment">//lastName必须是邮箱格式</span>
    <span class="token annotation punctuation">@Email</span>
    <span class="token comment">//@Value(&quot;${person.last-name}&quot;)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> lastName<span class="token punctuation">;</span>
    <span class="token comment">//@Value(&quot;#{11*2}&quot;)</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>
    <span class="token comment">//@Value(&quot;true&quot;)</span>
    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> boss<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">Date</span> birth<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> maps<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> lists<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Dog</span> dog<span class="token punctuation">;</span>
</code></pre></div><h4 id="_4、-propertysource-importresource-bean"><a href="#_4、-propertysource-importresource-bean" class="header-anchor">#</a> 4、@PropertySource&amp;@ImportResource&amp;@Bean</h4> <p>@<strong>PropertySource</strong>：加载指定的配置文件；</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
 * 将配置文件中配置的每一个属性的值，映射到这个组件中
 * @ConfigurationProperties：告诉SpringBoot将本类中的所有属性和配置文件中相关的配置进行绑定；
 *      prefix = &quot;person&quot;：配置文件中哪个下面的所有属性进行一一映射
 *
 * 只有这个组件是容器中的组件，才能容器提供的@ConfigurationProperties功能；
 *  @ConfigurationProperties(prefix = &quot;person&quot;)默认从全局配置文件中获取值；
 *
 */</span>
<span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;classpath:person.properties&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;person&quot;</span><span class="token punctuation">)</span>
<span class="token comment">//@Validated</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>

    <span class="token comment">/**
     * &lt;bean class=&quot;Person&quot;&gt;
     *      &lt;property name=&quot;lastName&quot; value=&quot;字面量/${key}从环境变量、配置文件中获取值/#{SpEL}&quot;&gt;&lt;/property&gt;
     * &lt;bean/&gt;
     */</span>

   <span class="token comment">//lastName必须是邮箱格式</span>
   <span class="token comment">// @Email</span>
    <span class="token comment">//@Value(&quot;${person.last-name}&quot;)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> lastName<span class="token punctuation">;</span>
    <span class="token comment">//@Value(&quot;#{11*2}&quot;)</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>
    <span class="token comment">//@Value(&quot;true&quot;)</span>
    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> boss<span class="token punctuation">;</span>

</code></pre></div><p>@<strong>ImportResource</strong>：导入Spring的配置文件，让配置文件里面的内容生效；</p> <p>Spring Boot里面没有Spring的配置文件，我们自己编写的配置文件，也不能自动识别；</p> <p>想让Spring的配置文件生效，加载进来；@<strong>ImportResource</strong>标注在一个配置类上</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@ImportResource</span><span class="token punctuation">(</span>locations <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;classpath:beans.xml&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
导入<span class="token class-name">Spring</span>的配置文件让其生效
</code></pre></div><p>不来编写Spring的配置文件</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>


    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>helloService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>com.atguigu.springboot.service.HelloService<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>SpringBoot推荐给容器中添加组件的方式；推荐使用全注解的方式</p> <p>1、配置类**@Configuration**------&gt;Spring配置文件</p> <p>2、使用**@Bean**给容器中添加组件</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
 * @Configuration：指明当前类是一个配置类；就是来替代之前的Spring配置文件
 *
 * 在配置文件中用&lt;bean&gt;&lt;bean/&gt;标签添加组件
 *
 */</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAppConfig</span> <span class="token punctuation">{</span>

    <span class="token comment">//将方法的返回值添加到容器中；容器中这个组件默认的id就是方法名</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">HelloService</span> <span class="token function">helloService02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;配置类@Bean给容器中添加组件了...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">HelloService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_4、配置文件占位符"><a href="#_4、配置文件占位符" class="header-anchor">#</a> 4、配置文件占位符</h2> <h3 id="_1、随机数"><a href="#_1、随机数" class="header-anchor">#</a> 1、随机数</h3> <div class="language-java extra-class"><pre class="language-java"><code>$<span class="token punctuation">{</span>random<span class="token punctuation">.</span>value<span class="token punctuation">}</span>、$<span class="token punctuation">{</span>random<span class="token punctuation">.</span><span class="token keyword">int</span><span class="token punctuation">}</span>、$<span class="token punctuation">{</span>random<span class="token punctuation">.</span><span class="token keyword">long</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>random<span class="token punctuation">.</span><span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">}</span>、$<span class="token punctuation">{</span>random<span class="token punctuation">.</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">,</span><span class="token number">65536</span><span class="token punctuation">]</span><span class="token punctuation">}</span>

</code></pre></div><h3 id="_2、占位符获取之前配置的值，如果没有可以是用-指定默认值"><a href="#_2、占位符获取之前配置的值，如果没有可以是用-指定默认值" class="header-anchor">#</a> 2、占位符获取之前配置的值，如果没有可以是用:指定默认值</h3> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token attr-name">person.last-name</span><span class="token punctuation">=</span><span class="token attr-value">张三${random.uuid}</span>
<span class="token attr-name">person.age</span><span class="token punctuation">=</span><span class="token attr-value">${random.int}</span>
<span class="token attr-name">person.birth</span><span class="token punctuation">=</span><span class="token attr-value">2017/12/15</span>
<span class="token attr-name">person.boss</span><span class="token punctuation">=</span><span class="token attr-value">false</span>
<span class="token attr-name">person.maps.k1</span><span class="token punctuation">=</span><span class="token attr-value">v1</span>
<span class="token attr-name">person.maps.k2</span><span class="token punctuation">=</span><span class="token attr-value">14</span>
<span class="token attr-name">person.lists</span><span class="token punctuation">=</span><span class="token attr-value">a,b,c</span>
<span class="token attr-name">person.dog.name</span><span class="token punctuation">=</span><span class="token attr-value">${person.hello:hello}_dog</span>
<span class="token attr-name">person.dog.age</span><span class="token punctuation">=</span><span class="token attr-value">15</span>
</code></pre></div><h2 id="_5、profile"><a href="#_5、profile" class="header-anchor">#</a> 5、Profile</h2> <h3 id="_1、多profile文件"><a href="#_1、多profile文件" class="header-anchor">#</a> 1、多Profile文件</h3> <p>我们在主配置文件编写的时候，文件名可以是   application-{profile}.properties/yml</p> <p>默认使用application.properties的配置；</p> <h3 id="_2、yml支持多文档块方式"><a href="#_2、yml支持多文档块方式" class="header-anchor">#</a> 2、yml支持多文档块方式</h3> <div class="language-yml extra-class"><pre class="language-yml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8081</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span>
    <span class="token key atrule">active</span><span class="token punctuation">:</span> prod

<span class="token punctuation">---</span>
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8083</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span> dev


<span class="token punctuation">---</span>

<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8084</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span> prod  <span class="token comment">#指定属于哪个环境</span>
</code></pre></div><h3 id="_3、激活指定profile"><a href="#_3、激活指定profile" class="header-anchor">#</a> 3、激活指定profile</h3> <p>​	1、在配置文件中指定  spring.profiles.active=dev</p> <p>​	2、命令行：</p> <p>​		java -jar spring-boot-02-config-0.0.1-SNAPSHOT.jar --spring.profiles.active=dev；</p> <p>​		可以直接在测试的时候，配置传入命令行参数</p> <p>​	3、虚拟机参数；</p> <p>​		-Dspring.profiles.active=dev</p> <h2 id="_6、配置文件加载位置"><a href="#_6、配置文件加载位置" class="header-anchor">#</a> 6、配置文件加载位置</h2> <p>springboot 启动会扫描以下位置的application.properties或者application.yml文件作为Spring boot的默认配置文件</p> <p>–file:./config/</p> <p>–file:./</p> <p>–classpath:/config/</p> <p>–classpath:/</p> <p>优先级由高到底，高优先级的配置会覆盖低优先级的配置；</p> <p>SpringBoot会从这四个位置全部加载主配置文件；<strong>互补配置</strong>；</p> <p>==我们还可以通过spring.config.location来改变默认的配置文件位置==</p> <p><strong>项目打包好以后，我们可以使用命令行参数的形式，启动项目的时候来指定配置文件的新位置；指定配置文件和默认加载的这些配置文件共同起作用形成互补配置；</strong></p> <p>java -jar spring-boot-02-config-02-0.0.1-SNAPSHOT.jar --spring.config.location=G:/application.properties</p> <h2 id="_7、外部配置加载顺序"><a href="#_7、外部配置加载顺序" class="header-anchor">#</a> 7、外部配置加载顺序</h2> <p><strong>==SpringBoot也可以从以下位置加载配置； 优先级从高到低；高优先级的配置覆盖低优先级的配置，所有的配置会形成互补配置==</strong></p> <p><strong>1.命令行参数</strong></p> <p>所有的配置都可以在命令行上进行指定</p> <p>java -jar spring-boot-02-config-02-0.0.1-SNAPSHOT.jar --server.port=8087  --server.context-path=/abc</p> <p>多个配置用空格分开； --配置项=值</p> <p>2.来自java:comp/env的JNDI属性</p> <p>3.Java系统属性（System.getProperties()）</p> <p>4.操作系统环境变量</p> <p>5.RandomValuePropertySource配置的random.*属性值</p> <p>==<strong>由jar包外向jar包内进行寻找；</strong>==</p> <p>==<strong>优先加载带profile</strong>==</p> <p><strong>6.jar包外部的application-{profile}.properties或application.yml(带spring.profile)配置文件</strong></p> <p><strong>7.jar包内部的application-{profile}.properties或application.yml(带spring.profile)配置文件</strong></p> <p>==<strong>再来加载不带profile</strong>==</p> <p><strong>8.jar包外部的application.properties或application.yml(不带spring.profile)配置文件</strong></p> <p><strong>9.jar包内部的application.properties或application.yml(不带spring.profile)配置文件</strong></p> <p>10.@Configuration注解类上的@PropertySource</p> <p>11.通过SpringApplication.setDefaultProperties指定的默认属性</p> <p>所有支持的配置加载来源；</p> <p><a href="https://docs.spring.io/spring-boot/docs/1.5.9.RELEASE/reference/htmlsingle/#boot-features-external-config" target="_blank" rel="noopener noreferrer">参考官方文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="_8、自动配置原理"><a href="#_8、自动配置原理" class="header-anchor">#</a> 8、自动配置原理</h2> <p>配置文件到底能写什么？怎么写？自动配置原理；</p> <p><a href="https://docs.spring.io/spring-boot/docs/1.5.9.RELEASE/reference/htmlsingle/#common-application-properties" target="_blank" rel="noopener noreferrer">配置文件能配置的属性参照<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="_1、自动配置原理："><a href="#_1、自动配置原理：" class="header-anchor">#</a> 1、<strong>自动配置原理：</strong></h3> <p>1）、<code>SpringBoot</code>启动的时候加载主配置类，开启了自动配置功能 ==<code>@EnableAutoConfiguration</code>==</p> <p><strong>2）、<code>@EnableAutoConfiguration</code> 作用：</strong></p> <ul><li><p>利用<code>EnableAutoConfigurationImportSelector</code>给容器中导入一些组件？</p></li> <li><p>可以查看<code>selectImports()</code>方法的内容；</p></li> <li><p><code>List&lt;String&gt; configurations = getCandidateConfigurations(annotationMetadata, attributes);</code>获取候选的配置</p> <ul><li><div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">SpringFactoriesLoader</span><span class="token punctuation">.</span><span class="token function">loadFactoryNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
扫描所有jar包类路径下  META<span class="token operator">-</span>INF<span class="token operator">/</span>spring<span class="token punctuation">.</span>factories
把扫描到的这些文件的内容包装成properties对象
从properties中获取到<span class="token class-name">EnableAutoConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span>类（类名）对应的值，然后把他们添加在容器中

</code></pre></div></li></ul></li></ul> <p><strong>==将 类路径下  META-INF/spring.factories 里面配置的所有EnableAutoConfiguration的值加入到了容器中；==</strong></p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># Auto Configure</span>
<span class="token attr-name">org.springframework.boot.autoconfigure.EnableAutoConfiguration</span><span class="token punctuation">=</span><span class="token attr-value">\
org.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfiguration,\
org.springframework.boot.autoconfigure.aop.AopAutoConfiguration,\
org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration,\
org.springframework.boot.autoconfigure.batch.BatchAutoConfiguration,\
org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration,\
org.springframework.boot.autoconfigure.cassandra.CassandraAutoConfiguration,\
org.springframework.boot.autoconfigure.cloud.CloudAutoConfiguration,\
org.springframework.boot.autoconfigure.context.ConfigurationPropertiesAutoConfiguration,\
org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration,\
org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration,\
org.springframework.boot.autoconfigure.couchbase.CouchbaseAutoConfiguration,\
org.springframework.boot.autoconfigure.dao.PersistenceExceptionTranslationAutoConfiguration,\
org.springframework.boot.autoconfigure.data.cassandra.CassandraDataAutoConfiguration,\
org.springframework.boot.autoconfigure.data.cassandra.CassandraRepositoriesAutoConfiguration,\
org.springframework.boot.autoconfigure.data.couchbase.CouchbaseDataAutoConfiguration,\
org.springframework.boot.autoconfigure.data.couchbase.CouchbaseRepositoriesAutoConfiguration,\
org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchAutoConfiguration,\
org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchDataAutoConfiguration,\
org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchRepositoriesAutoConfiguration,\
org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration,\
org.springframework.boot.autoconfigure.data.ldap.LdapDataAutoConfiguration,\
org.springframework.boot.autoconfigure.data.ldap.LdapRepositoriesAutoConfiguration,\
org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration,\
org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration,\
org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration,\
org.springframework.boot.autoconfigure.data.neo4j.Neo4jRepositoriesAutoConfiguration,\
org.springframework.boot.autoconfigure.data.solr.SolrRepositoriesAutoConfiguration,\
org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,\
org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration,\
org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration,\
org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration,\
org.springframework.boot.autoconfigure.elasticsearch.jest.JestAutoConfiguration,\
org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration,\
org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration,\
org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration,\
org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration,\
org.springframework.boot.autoconfigure.hazelcast.HazelcastAutoConfiguration,\
org.springframework.boot.autoconfigure.hazelcast.HazelcastJpaDependencyAutoConfiguration,\
org.springframework.boot.autoconfigure.info.ProjectInfoAutoConfiguration,\
org.springframework.boot.autoconfigure.integration.IntegrationAutoConfiguration,\
org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration,\
org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration,\
org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration,\
org.springframework.boot.autoconfigure.jdbc.JndiDataSourceAutoConfiguration,\
org.springframework.boot.autoconfigure.jdbc.XADataSourceAutoConfiguration,\
org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration,\
org.springframework.boot.autoconfigure.jms.JmsAutoConfiguration,\
org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration,\
org.springframework.boot.autoconfigure.jms.JndiConnectionFactoryAutoConfiguration,\
org.springframework.boot.autoconfigure.jms.activemq.ActiveMQAutoConfiguration,\
org.springframework.boot.autoconfigure.jms.artemis.ArtemisAutoConfiguration,\
org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration,\
org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration,\
org.springframework.boot.autoconfigure.jersey.JerseyAutoConfiguration,\
org.springframework.boot.autoconfigure.jooq.JooqAutoConfiguration,\
org.springframework.boot.autoconfigure.kafka.KafkaAutoConfiguration,\
org.springframework.boot.autoconfigure.ldap.embedded.EmbeddedLdapAutoConfiguration,\
org.springframework.boot.autoconfigure.ldap.LdapAutoConfiguration,\
org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration,\
org.springframework.boot.autoconfigure.mail.MailSenderAutoConfiguration,\
org.springframework.boot.autoconfigure.mail.MailSenderValidatorAutoConfiguration,\
org.springframework.boot.autoconfigure.mobile.DeviceResolverAutoConfiguration,\
org.springframework.boot.autoconfigure.mobile.DeviceDelegatingViewResolverAutoConfiguration,\
org.springframework.boot.autoconfigure.mobile.SitePreferenceAutoConfiguration,\
org.springframework.boot.autoconfigure.mongo.embedded.EmbeddedMongoAutoConfiguration,\
org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration,\
org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration,\
org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration,\
org.springframework.boot.autoconfigure.reactor.ReactorAutoConfiguration,\
org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration,\
org.springframework.boot.autoconfigure.security.SecurityFilterAutoConfiguration,\
org.springframework.boot.autoconfigure.security.FallbackWebSecurityAutoConfiguration,\
org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration,\
org.springframework.boot.autoconfigure.sendgrid.SendGridAutoConfiguration,\
org.springframework.boot.autoconfigure.session.SessionAutoConfiguration,\
org.springframework.boot.autoconfigure.social.SocialWebAutoConfiguration,\
org.springframework.boot.autoconfigure.social.FacebookAutoConfiguration,\
org.springframework.boot.autoconfigure.social.LinkedInAutoConfiguration,\
org.springframework.boot.autoconfigure.social.TwitterAutoConfiguration,\
org.springframework.boot.autoconfigure.solr.SolrAutoConfiguration,\
org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration,\
org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration,\
org.springframework.boot.autoconfigure.transaction.jta.JtaAutoConfiguration,\
org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration,\
org.springframework.boot.autoconfigure.web.DispatcherServletAutoConfiguration,\
org.springframework.boot.autoconfigure.web.EmbeddedServletContainerAutoConfiguration,\
org.springframework.boot.autoconfigure.web.ErrorMvcAutoConfiguration,\
org.springframework.boot.autoconfigure.web.HttpEncodingAutoConfiguration,\
org.springframework.boot.autoconfigure.web.HttpMessageConvertersAutoConfiguration,\
org.springframework.boot.autoconfigure.web.MultipartAutoConfiguration,\
org.springframework.boot.autoconfigure.web.ServerPropertiesAutoConfiguration,\
org.springframework.boot.autoconfigure.web.WebClientAutoConfiguration,\
org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration,\
org.springframework.boot.autoconfigure.websocket.WebSocketAutoConfiguration,\
org.springframework.boot.autoconfigure.websocket.WebSocketMessagingAutoConfiguration,\
org.springframework.boot.autoconfigure.webservices.WebServicesAutoConfiguration</span>
</code></pre></div><p>每一个这样的  xxxAutoConfiguration类都是容器中的一个组件，都加入到容器中；用他们来做自动配置；</p> <p>3）、每一个自动配置类进行自动配置功能；</p> <p>4）、以**HttpEncodingAutoConfiguration（Http编码自动配置）**为例解释自动配置原理；</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>   <span class="token comment">//表示这是一个配置类，以前编写的配置文件一样，也可以给容器中添加组件</span>
<span class="token annotation punctuation">@EnableConfigurationProperties</span><span class="token punctuation">(</span><span class="token class-name">HttpEncodingProperties</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>  <span class="token comment">//启动指定类的ConfigurationProperties功能；将配置文件中对应的值和HttpEncodingProperties绑定起来；并把HttpEncodingProperties加入到ioc容器中</span>

<span class="token annotation punctuation">@ConditionalOnWebApplication</span> <span class="token comment">//Spring底层@Conditional注解（Spring注解版），根据不同的条件，如果满足指定的条件，整个配置类里面的配置就会生效；    判断当前应用是否是web应用，如果是，当前配置类生效</span>

<span class="token annotation punctuation">@ConditionalOnClass</span><span class="token punctuation">(</span><span class="token class-name">CharacterEncodingFilter</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>  <span class="token comment">//判断当前项目有没有这个类CharacterEncodingFilter；SpringMVC中进行乱码解决的过滤器；</span>

<span class="token annotation punctuation">@ConditionalOnProperty</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;spring.http.encoding&quot;</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">&quot;enabled&quot;</span><span class="token punctuation">,</span> matchIfMissing <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>  <span class="token comment">//判断配置文件中是否存在某个配置  spring.http.encoding.enabled；如果不存在，判断也是成立的</span>
<span class="token comment">//即使我们配置文件中不配置pring.http.encoding.enabled=true，也是默认生效的；</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HttpEncodingAutoConfiguration</span> <span class="token punctuation">{</span>
  
  	<span class="token comment">//他已经和SpringBoot的配置文件映射了</span>
  	<span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">HttpEncodingProperties</span> properties<span class="token punctuation">;</span>
  
   <span class="token comment">//只有一个有参构造器的情况下，参数的值就会从容器中拿</span>
  	<span class="token keyword">public</span> <span class="token class-name">HttpEncodingAutoConfiguration</span><span class="token punctuation">(</span><span class="token class-name">HttpEncodingProperties</span> properties<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>properties <span class="token operator">=</span> properties<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
  
    <span class="token annotation punctuation">@Bean</span>   <span class="token comment">//给容器中添加一个组件，这个组件的某些值需要从properties中获取</span>
	<span class="token annotation punctuation">@ConditionalOnMissingBean</span><span class="token punctuation">(</span><span class="token class-name">CharacterEncodingFilter</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token comment">//判断容器没有这个组件？</span>
	<span class="token keyword">public</span> <span class="token class-name">CharacterEncodingFilter</span> <span class="token function">characterEncodingFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">CharacterEncodingFilter</span> filter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OrderedCharacterEncodingFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		filter<span class="token punctuation">.</span><span class="token function">setEncoding</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span><span class="token function">getCharset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		filter<span class="token punctuation">.</span><span class="token function">setForceRequestEncoding</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span><span class="token function">shouldForce</span><span class="token punctuation">(</span><span class="token class-name">Type</span><span class="token punctuation">.</span>REQUEST<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		filter<span class="token punctuation">.</span><span class="token function">setForceResponseEncoding</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span><span class="token function">shouldForce</span><span class="token punctuation">(</span><span class="token class-name">Type</span><span class="token punctuation">.</span>RESPONSE<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> filter<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p>根据当前不同的条件判断，决定这个配置类是否生效？</p> <p>一但这个配置类生效；这个配置类就会给容器中添加各种组件；这些组件的属性是从对应的properties类中获取的，这些类里面的每一个属性又是和配置文件绑定的；</p> <p>5）、所有在配置文件中能配置的属性都是在xxxxProperties类中封装者‘；配置文件能配置什么就可以参照某个功能对应的这个属性类</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;spring.http.encoding&quot;</span><span class="token punctuation">)</span>  <span class="token comment">//从配置文件中获取指定的值和bean的属性进行绑定</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HttpEncodingProperties</span> <span class="token punctuation">{</span>

   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Charset</span> DEFAULT_CHARSET <span class="token operator">=</span> <span class="token class-name">Charset</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>精髓：</strong></p> <p>​	<strong>1）、SpringBoot启动会加载大量的自动配置类</strong></p> <p>​	<strong>2）、我们看我们需要的功能有没有SpringBoot默认写好的自动配置类；</strong></p> <p>​	<strong>3）、我们再来看这个自动配置类中到底配置了哪些组件；（只要我们要用的组件有，我们就不需要再来配置了）</strong></p> <p>​	<strong>4）、给容器中自动配置类添加组件的时候，会从properties类中获取某些属性。我们就可以在配置文件中指定这些属性的值；</strong></p> <p>xxxxAutoConfigurartion：自动配置类；</p> <p>给容器中添加组件</p> <p>xxxxProperties:封装配置文件中相关属性；</p> <h3 id="_2、细节"><a href="#_2、细节" class="header-anchor">#</a> 2、细节</h3> <h4 id="_1、-conditional派生注解（spring注解版原生的-conditional作用）"><a href="#_1、-conditional派生注解（spring注解版原生的-conditional作用）" class="header-anchor">#</a> 1、@Conditional派生注解（Spring注解版原生的@Conditional作用）</h4> <p>作用：必须是@Conditional指定的条件成立，才给容器中添加组件，配置配里面的所有内容才生效；</p> <table><thead><tr><th>@Conditional扩展注解</th> <th>作用（判断是否满足当前指定条件）</th></tr></thead> <tbody><tr><td>@ConditionalOnJava</td> <td>系统的java版本是否符合要求</td></tr> <tr><td>@ConditionalOnBean</td> <td>容器中存在指定Bean；</td></tr> <tr><td>@ConditionalOnMissingBean</td> <td>容器中不存在指定Bean；</td></tr> <tr><td>@ConditionalOnExpression</td> <td>满足SpEL表达式指定</td></tr> <tr><td>@ConditionalOnClass</td> <td>系统中有指定的类</td></tr> <tr><td>@ConditionalOnMissingClass</td> <td>系统中没有指定的类</td></tr> <tr><td>@ConditionalOnSingleCandidate</td> <td>容器中只有一个指定的Bean，或者这个Bean是首选Bean</td></tr> <tr><td>@ConditionalOnProperty</td> <td>系统中指定的属性是否有指定的值</td></tr> <tr><td>@ConditionalOnResource</td> <td>类路径下是否存在指定资源文件</td></tr> <tr><td>@ConditionalOnWebApplication</td> <td>当前是web环境</td></tr> <tr><td>@ConditionalOnNotWebApplication</td> <td>当前不是web环境</td></tr> <tr><td>@ConditionalOnJndi</td> <td>JNDI存在指定项</td></tr></tbody></table> <p><strong>自动配置类必须在一定的条件下才能生效；</strong></p> <p>我们怎么知道哪些自动配置类生效；</p> <p><strong>==我们可以通过启用  debug=true属性；来让控制台打印自动配置报告==</strong>，这样我们就可以很方便的知道哪些自动配置类生效；</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
AUTO<span class="token operator">-</span><span class="token class-name">CONFIGURATION</span> REPORT
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>


<span class="token class-name">Positive</span> matches<span class="token operator">:</span>（自动配置类启用的）
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>

   <span class="token class-name">DispatcherServletAutoConfiguration</span> matched<span class="token operator">:</span>
      <span class="token operator">-</span> <span class="token annotation punctuation">@ConditionalOnClass</span> found required <span class="token keyword">class</span> <span class="token string">'org.springframework.web.servlet.DispatcherServlet'</span><span class="token punctuation">;</span> <span class="token annotation punctuation">@ConditionalOnMissingClass</span> did not find unwanted <span class="token keyword">class</span> <span class="token punctuation">(</span><span class="token class-name">OnClassCondition</span><span class="token punctuation">)</span>
      <span class="token operator">-</span> <span class="token annotation punctuation">@ConditionalOnWebApplication</span> <span class="token punctuation">(</span>required<span class="token punctuation">)</span> found <span class="token class-name">StandardServletEnvironment</span> <span class="token punctuation">(</span><span class="token class-name">OnWebApplicationCondition</span><span class="token punctuation">)</span>
        
    
<span class="token class-name">Negative</span> matches<span class="token operator">:</span>（没有启动，没有匹配成功的自动配置类）
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>

   <span class="token class-name">ActiveMQAutoConfiguration</span><span class="token operator">:</span>
      <span class="token class-name">Did</span> not match<span class="token operator">:</span>
         <span class="token operator">-</span> <span class="token annotation punctuation">@ConditionalOnClass</span> did not find required classes <span class="token string">'javax.jms.ConnectionFactory'</span><span class="token punctuation">,</span> <span class="token string">'org.apache.activemq.ActiveMQConnectionFactory'</span> <span class="token punctuation">(</span><span class="token class-name">OnClassCondition</span><span class="token punctuation">)</span>

   <span class="token class-name">AopAutoConfiguration</span><span class="token operator">:</span>
      <span class="token class-name">Did</span> not match<span class="token operator">:</span>
         <span class="token operator">-</span> <span class="token annotation punctuation">@ConditionalOnClass</span> did not find required classes <span class="token string">'org.aspectj.lang.annotation.Aspect'</span><span class="token punctuation">,</span> <span class="token string">'org.aspectj.lang.reflect.Advice'</span> <span class="token punctuation">(</span><span class="token class-name">OnClassCondition</span><span class="token punctuation">)</span>
        
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/01_SpringBoot入门.html" class="prev">
        一、Spring Boot 入门
      </a></span> <span class="next"><a href="/blog_publish/java/03_ApplicationFramework/01_SpringFamily/03_SpringBoot/basic/03_日志.html">
        三、日志
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog_publish/assets/js/app.31b13512.js" defer></script><script src="/blog_publish/assets/js/2.bedb11a8.js" defer></script><script src="/blog_publish/assets/js/156.3e442f57.js" defer></script>
  </body>
</html>
