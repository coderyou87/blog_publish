<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>coder</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon1" href="http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-02-18/d687f535b564447e82a3178a4e9b2f8c.jpg">
    <link rel="icon2" href="https://you-blog.oss-cn-shenzhen.aliyuncs.com/typora/2021-02-18/icon.jpg">
    <script src="/blog_publishcss/jquery.slim.min.js"></script>
    <script src="/blog_publishcss/jquery.fancybox.min.js"></script>
    <script src="/blog_publishcss/pwd.js"></script>
    <link rel="stylesheet" type="text/css" href="/blog_publishcss/jquery.fancybox.min.css">
    <meta name="description" content="知行合一">
    <link rel="preload" href="/blog_publish/assets/css/0.styles.ae551c8b.css" as="style"><link rel="preload" href="/blog_publish/assets/js/app.241410a0.js" as="script"><link rel="preload" href="/blog_publish/assets/js/2.92f2819f.js" as="script"><link rel="preload" href="/blog_publish/assets/js/279.82c19819.js" as="script"><link rel="prefetch" href="/blog_publish/assets/js/10.e70435aa.js"><link rel="prefetch" href="/blog_publish/assets/js/100.c91f48ac.js"><link rel="prefetch" href="/blog_publish/assets/js/101.a1eec209.js"><link rel="prefetch" href="/blog_publish/assets/js/102.ee6ef41c.js"><link rel="prefetch" href="/blog_publish/assets/js/103.c25c0370.js"><link rel="prefetch" href="/blog_publish/assets/js/104.c643b44f.js"><link rel="prefetch" href="/blog_publish/assets/js/105.0b04cb0d.js"><link rel="prefetch" href="/blog_publish/assets/js/106.8a6d905c.js"><link rel="prefetch" href="/blog_publish/assets/js/107.04e47553.js"><link rel="prefetch" href="/blog_publish/assets/js/108.b8a28877.js"><link rel="prefetch" href="/blog_publish/assets/js/109.63368ef6.js"><link rel="prefetch" href="/blog_publish/assets/js/11.b061ebed.js"><link rel="prefetch" href="/blog_publish/assets/js/110.1229c377.js"><link rel="prefetch" href="/blog_publish/assets/js/111.84b0dfba.js"><link rel="prefetch" href="/blog_publish/assets/js/112.14273a94.js"><link rel="prefetch" href="/blog_publish/assets/js/113.553b8f43.js"><link rel="prefetch" href="/blog_publish/assets/js/114.6469b9c1.js"><link rel="prefetch" href="/blog_publish/assets/js/115.f6fd8278.js"><link rel="prefetch" href="/blog_publish/assets/js/116.b6272e24.js"><link rel="prefetch" href="/blog_publish/assets/js/117.dff6ea2d.js"><link rel="prefetch" href="/blog_publish/assets/js/118.a11169bf.js"><link rel="prefetch" href="/blog_publish/assets/js/119.8d4dd460.js"><link rel="prefetch" href="/blog_publish/assets/js/12.53590c48.js"><link rel="prefetch" href="/blog_publish/assets/js/120.647d8af7.js"><link rel="prefetch" href="/blog_publish/assets/js/121.100a9507.js"><link rel="prefetch" href="/blog_publish/assets/js/122.cd700b2a.js"><link rel="prefetch" href="/blog_publish/assets/js/123.a3ac4436.js"><link rel="prefetch" href="/blog_publish/assets/js/124.32a86463.js"><link rel="prefetch" href="/blog_publish/assets/js/125.78a3f83c.js"><link rel="prefetch" href="/blog_publish/assets/js/126.37ab298f.js"><link rel="prefetch" href="/blog_publish/assets/js/127.bb92d209.js"><link rel="prefetch" href="/blog_publish/assets/js/128.ea193531.js"><link rel="prefetch" href="/blog_publish/assets/js/129.b7b92d00.js"><link rel="prefetch" href="/blog_publish/assets/js/13.bddda5ec.js"><link rel="prefetch" href="/blog_publish/assets/js/130.63c35d85.js"><link rel="prefetch" href="/blog_publish/assets/js/131.8f5dd6a3.js"><link rel="prefetch" href="/blog_publish/assets/js/132.18c704f8.js"><link rel="prefetch" href="/blog_publish/assets/js/133.10a7c010.js"><link rel="prefetch" href="/blog_publish/assets/js/134.9cbac359.js"><link rel="prefetch" href="/blog_publish/assets/js/135.9751bd3f.js"><link rel="prefetch" href="/blog_publish/assets/js/136.15ef4480.js"><link rel="prefetch" href="/blog_publish/assets/js/137.1e1ac4a9.js"><link rel="prefetch" href="/blog_publish/assets/js/138.2c16cc78.js"><link rel="prefetch" href="/blog_publish/assets/js/139.784d71cf.js"><link rel="prefetch" href="/blog_publish/assets/js/14.97ab36a9.js"><link rel="prefetch" href="/blog_publish/assets/js/140.610956b7.js"><link rel="prefetch" href="/blog_publish/assets/js/141.f93374d4.js"><link rel="prefetch" href="/blog_publish/assets/js/142.c1b8375b.js"><link rel="prefetch" href="/blog_publish/assets/js/143.0b3fa49b.js"><link rel="prefetch" href="/blog_publish/assets/js/144.02b8d29e.js"><link rel="prefetch" href="/blog_publish/assets/js/145.00a904fa.js"><link rel="prefetch" href="/blog_publish/assets/js/146.a7617fd8.js"><link rel="prefetch" href="/blog_publish/assets/js/147.50b8b98d.js"><link rel="prefetch" href="/blog_publish/assets/js/148.33aadb9e.js"><link rel="prefetch" href="/blog_publish/assets/js/149.59072279.js"><link rel="prefetch" href="/blog_publish/assets/js/15.1dc535fd.js"><link rel="prefetch" href="/blog_publish/assets/js/150.a4ecac4f.js"><link rel="prefetch" href="/blog_publish/assets/js/151.0f7aa91e.js"><link rel="prefetch" href="/blog_publish/assets/js/152.ecf0f695.js"><link rel="prefetch" href="/blog_publish/assets/js/153.31b1038c.js"><link rel="prefetch" href="/blog_publish/assets/js/154.27c076e6.js"><link rel="prefetch" href="/blog_publish/assets/js/155.6a5d1ed0.js"><link rel="prefetch" href="/blog_publish/assets/js/156.7746cbc0.js"><link rel="prefetch" href="/blog_publish/assets/js/157.3dbe5427.js"><link rel="prefetch" href="/blog_publish/assets/js/158.235027c9.js"><link rel="prefetch" href="/blog_publish/assets/js/159.8356a3ff.js"><link rel="prefetch" href="/blog_publish/assets/js/16.fd5b3b78.js"><link rel="prefetch" href="/blog_publish/assets/js/160.173434d2.js"><link rel="prefetch" href="/blog_publish/assets/js/161.728959f2.js"><link rel="prefetch" href="/blog_publish/assets/js/162.3d9e425f.js"><link rel="prefetch" href="/blog_publish/assets/js/163.0b5e227d.js"><link rel="prefetch" href="/blog_publish/assets/js/164.563927d8.js"><link rel="prefetch" href="/blog_publish/assets/js/165.f6f2d967.js"><link rel="prefetch" href="/blog_publish/assets/js/166.c3e9a824.js"><link rel="prefetch" href="/blog_publish/assets/js/167.321575fc.js"><link rel="prefetch" href="/blog_publish/assets/js/168.1147cefc.js"><link rel="prefetch" href="/blog_publish/assets/js/169.a407c2fe.js"><link rel="prefetch" href="/blog_publish/assets/js/17.5b3a29b1.js"><link rel="prefetch" href="/blog_publish/assets/js/170.f937855f.js"><link rel="prefetch" href="/blog_publish/assets/js/171.38f9f1bd.js"><link rel="prefetch" href="/blog_publish/assets/js/172.84976f85.js"><link rel="prefetch" href="/blog_publish/assets/js/173.835103ce.js"><link rel="prefetch" href="/blog_publish/assets/js/174.c4590b6e.js"><link rel="prefetch" href="/blog_publish/assets/js/175.820c9a97.js"><link rel="prefetch" href="/blog_publish/assets/js/176.76797ccd.js"><link rel="prefetch" href="/blog_publish/assets/js/177.86b6dd62.js"><link rel="prefetch" href="/blog_publish/assets/js/178.c8d78269.js"><link rel="prefetch" href="/blog_publish/assets/js/179.590d127a.js"><link rel="prefetch" href="/blog_publish/assets/js/18.49e5f950.js"><link rel="prefetch" href="/blog_publish/assets/js/180.19fae13f.js"><link rel="prefetch" href="/blog_publish/assets/js/181.dfc1c747.js"><link rel="prefetch" href="/blog_publish/assets/js/182.843f5e64.js"><link rel="prefetch" href="/blog_publish/assets/js/183.f763aa33.js"><link rel="prefetch" href="/blog_publish/assets/js/184.c3465384.js"><link rel="prefetch" href="/blog_publish/assets/js/185.43c451eb.js"><link rel="prefetch" href="/blog_publish/assets/js/186.44f670ac.js"><link rel="prefetch" href="/blog_publish/assets/js/187.6d9f92a3.js"><link rel="prefetch" href="/blog_publish/assets/js/188.643c2f71.js"><link rel="prefetch" href="/blog_publish/assets/js/189.26128001.js"><link rel="prefetch" href="/blog_publish/assets/js/19.3be8c61e.js"><link rel="prefetch" href="/blog_publish/assets/js/190.fe07dd27.js"><link rel="prefetch" href="/blog_publish/assets/js/191.f2909a86.js"><link rel="prefetch" href="/blog_publish/assets/js/192.5c4cf6ed.js"><link rel="prefetch" href="/blog_publish/assets/js/193.290c2f53.js"><link rel="prefetch" href="/blog_publish/assets/js/194.82e9b96b.js"><link rel="prefetch" href="/blog_publish/assets/js/195.405c6eaa.js"><link rel="prefetch" href="/blog_publish/assets/js/196.6f46a7e6.js"><link rel="prefetch" href="/blog_publish/assets/js/197.dcead2c5.js"><link rel="prefetch" href="/blog_publish/assets/js/198.c25cfb91.js"><link rel="prefetch" href="/blog_publish/assets/js/199.59c86b63.js"><link rel="prefetch" href="/blog_publish/assets/js/20.e0c8bc0f.js"><link rel="prefetch" href="/blog_publish/assets/js/200.ccc1debd.js"><link rel="prefetch" href="/blog_publish/assets/js/201.49b737e7.js"><link rel="prefetch" href="/blog_publish/assets/js/202.eb91425f.js"><link rel="prefetch" href="/blog_publish/assets/js/203.1b46044c.js"><link rel="prefetch" href="/blog_publish/assets/js/204.9accf840.js"><link rel="prefetch" href="/blog_publish/assets/js/205.c79624a4.js"><link rel="prefetch" href="/blog_publish/assets/js/206.87aee0b0.js"><link rel="prefetch" href="/blog_publish/assets/js/207.60e15733.js"><link rel="prefetch" href="/blog_publish/assets/js/208.9508eced.js"><link rel="prefetch" href="/blog_publish/assets/js/209.d70ea226.js"><link rel="prefetch" href="/blog_publish/assets/js/21.8312f373.js"><link rel="prefetch" href="/blog_publish/assets/js/210.5a54aedb.js"><link rel="prefetch" href="/blog_publish/assets/js/211.90603f73.js"><link rel="prefetch" href="/blog_publish/assets/js/212.0e37778b.js"><link rel="prefetch" href="/blog_publish/assets/js/213.8eb40e1a.js"><link rel="prefetch" href="/blog_publish/assets/js/214.91da9326.js"><link rel="prefetch" href="/blog_publish/assets/js/215.a49b9947.js"><link rel="prefetch" href="/blog_publish/assets/js/216.7f07727b.js"><link rel="prefetch" href="/blog_publish/assets/js/217.98de30cc.js"><link rel="prefetch" href="/blog_publish/assets/js/218.97e4d86b.js"><link rel="prefetch" href="/blog_publish/assets/js/219.e0554e51.js"><link rel="prefetch" href="/blog_publish/assets/js/22.096b7b82.js"><link rel="prefetch" href="/blog_publish/assets/js/220.a00ab2eb.js"><link rel="prefetch" href="/blog_publish/assets/js/221.304a6ee8.js"><link rel="prefetch" href="/blog_publish/assets/js/222.bc533958.js"><link rel="prefetch" href="/blog_publish/assets/js/223.9b006ef0.js"><link rel="prefetch" href="/blog_publish/assets/js/224.6884acdf.js"><link rel="prefetch" href="/blog_publish/assets/js/225.495bb643.js"><link rel="prefetch" href="/blog_publish/assets/js/226.4571a2c8.js"><link rel="prefetch" href="/blog_publish/assets/js/227.9a1296c3.js"><link rel="prefetch" href="/blog_publish/assets/js/228.1a2a9c9c.js"><link rel="prefetch" href="/blog_publish/assets/js/229.2476c8a6.js"><link rel="prefetch" href="/blog_publish/assets/js/23.c482eb11.js"><link rel="prefetch" href="/blog_publish/assets/js/230.9074bba0.js"><link rel="prefetch" href="/blog_publish/assets/js/231.2085949b.js"><link rel="prefetch" href="/blog_publish/assets/js/232.209ad968.js"><link rel="prefetch" href="/blog_publish/assets/js/233.e54a4de2.js"><link rel="prefetch" href="/blog_publish/assets/js/234.1fd95981.js"><link rel="prefetch" href="/blog_publish/assets/js/235.241ef2c3.js"><link rel="prefetch" href="/blog_publish/assets/js/236.95c2ab16.js"><link rel="prefetch" href="/blog_publish/assets/js/237.6c14cbbd.js"><link rel="prefetch" href="/blog_publish/assets/js/238.9b018ced.js"><link rel="prefetch" href="/blog_publish/assets/js/239.a618d7e2.js"><link rel="prefetch" href="/blog_publish/assets/js/24.d26afd36.js"><link rel="prefetch" href="/blog_publish/assets/js/240.a75d0017.js"><link rel="prefetch" href="/blog_publish/assets/js/241.f9c5ce6f.js"><link rel="prefetch" href="/blog_publish/assets/js/242.38f539e4.js"><link rel="prefetch" href="/blog_publish/assets/js/243.719ecaa5.js"><link rel="prefetch" href="/blog_publish/assets/js/244.b7f2acb3.js"><link rel="prefetch" href="/blog_publish/assets/js/245.5535f587.js"><link rel="prefetch" href="/blog_publish/assets/js/246.e615601f.js"><link rel="prefetch" href="/blog_publish/assets/js/247.eefc0296.js"><link rel="prefetch" href="/blog_publish/assets/js/248.37617f7c.js"><link rel="prefetch" href="/blog_publish/assets/js/249.44d39ab5.js"><link rel="prefetch" href="/blog_publish/assets/js/25.5e69c47c.js"><link rel="prefetch" href="/blog_publish/assets/js/250.cb368edb.js"><link rel="prefetch" href="/blog_publish/assets/js/251.7ce30fdd.js"><link rel="prefetch" href="/blog_publish/assets/js/252.161211c2.js"><link rel="prefetch" href="/blog_publish/assets/js/253.05c0ab25.js"><link rel="prefetch" href="/blog_publish/assets/js/254.fe545555.js"><link rel="prefetch" href="/blog_publish/assets/js/255.cc5e99c1.js"><link rel="prefetch" href="/blog_publish/assets/js/256.9a594807.js"><link rel="prefetch" href="/blog_publish/assets/js/257.9a6ae8cd.js"><link rel="prefetch" href="/blog_publish/assets/js/258.b7a8fd18.js"><link rel="prefetch" href="/blog_publish/assets/js/259.d3d420bc.js"><link rel="prefetch" href="/blog_publish/assets/js/26.29975dd9.js"><link rel="prefetch" href="/blog_publish/assets/js/260.1b0ff83b.js"><link rel="prefetch" href="/blog_publish/assets/js/261.b2d2f02f.js"><link rel="prefetch" href="/blog_publish/assets/js/262.d9fe1c83.js"><link rel="prefetch" href="/blog_publish/assets/js/263.531d89ec.js"><link rel="prefetch" href="/blog_publish/assets/js/264.236a2f86.js"><link rel="prefetch" href="/blog_publish/assets/js/265.787ef81b.js"><link rel="prefetch" href="/blog_publish/assets/js/266.810ebbbd.js"><link rel="prefetch" href="/blog_publish/assets/js/267.c9feed8c.js"><link rel="prefetch" href="/blog_publish/assets/js/268.854c2f98.js"><link rel="prefetch" href="/blog_publish/assets/js/269.93f71df1.js"><link rel="prefetch" href="/blog_publish/assets/js/27.c6f599d8.js"><link rel="prefetch" href="/blog_publish/assets/js/270.7f0bcb20.js"><link rel="prefetch" href="/blog_publish/assets/js/271.22fd6ab5.js"><link rel="prefetch" href="/blog_publish/assets/js/272.77e24a14.js"><link rel="prefetch" href="/blog_publish/assets/js/273.8736cb7f.js"><link rel="prefetch" href="/blog_publish/assets/js/274.b0d7d646.js"><link rel="prefetch" href="/blog_publish/assets/js/275.a323c9be.js"><link rel="prefetch" href="/blog_publish/assets/js/276.4129dfc6.js"><link rel="prefetch" href="/blog_publish/assets/js/277.2a52370e.js"><link rel="prefetch" href="/blog_publish/assets/js/278.8ade8b83.js"><link rel="prefetch" href="/blog_publish/assets/js/28.fcf65171.js"><link rel="prefetch" href="/blog_publish/assets/js/280.1b939223.js"><link rel="prefetch" href="/blog_publish/assets/js/281.80f2cfd6.js"><link rel="prefetch" href="/blog_publish/assets/js/282.2c65c6cf.js"><link rel="prefetch" href="/blog_publish/assets/js/283.199b6039.js"><link rel="prefetch" href="/blog_publish/assets/js/284.df7f06dd.js"><link rel="prefetch" href="/blog_publish/assets/js/285.7fd01dca.js"><link rel="prefetch" href="/blog_publish/assets/js/286.d545027c.js"><link rel="prefetch" href="/blog_publish/assets/js/287.6af361cf.js"><link rel="prefetch" href="/blog_publish/assets/js/288.22e9d5b6.js"><link rel="prefetch" href="/blog_publish/assets/js/289.608472b5.js"><link rel="prefetch" href="/blog_publish/assets/js/29.f8dc1511.js"><link rel="prefetch" href="/blog_publish/assets/js/290.bf5a473a.js"><link rel="prefetch" href="/blog_publish/assets/js/291.e0558554.js"><link rel="prefetch" href="/blog_publish/assets/js/292.eb7d3057.js"><link rel="prefetch" href="/blog_publish/assets/js/293.55f3298c.js"><link rel="prefetch" href="/blog_publish/assets/js/294.a2fbc4cb.js"><link rel="prefetch" href="/blog_publish/assets/js/295.a4ad24a3.js"><link rel="prefetch" href="/blog_publish/assets/js/296.ba6c885b.js"><link rel="prefetch" href="/blog_publish/assets/js/297.4904d05f.js"><link rel="prefetch" href="/blog_publish/assets/js/298.c026dda3.js"><link rel="prefetch" href="/blog_publish/assets/js/299.e6936363.js"><link rel="prefetch" href="/blog_publish/assets/js/3.7b5be556.js"><link rel="prefetch" href="/blog_publish/assets/js/30.b3063b77.js"><link rel="prefetch" href="/blog_publish/assets/js/300.bd52f210.js"><link rel="prefetch" href="/blog_publish/assets/js/301.4053ecef.js"><link rel="prefetch" href="/blog_publish/assets/js/302.8d511e99.js"><link rel="prefetch" href="/blog_publish/assets/js/303.bb0be065.js"><link rel="prefetch" href="/blog_publish/assets/js/304.101f1e05.js"><link rel="prefetch" href="/blog_publish/assets/js/305.869777c3.js"><link rel="prefetch" href="/blog_publish/assets/js/306.62b30914.js"><link rel="prefetch" href="/blog_publish/assets/js/307.985e0b61.js"><link rel="prefetch" href="/blog_publish/assets/js/308.1c6a9597.js"><link rel="prefetch" href="/blog_publish/assets/js/309.99e17cf7.js"><link rel="prefetch" href="/blog_publish/assets/js/31.c197e3d3.js"><link rel="prefetch" href="/blog_publish/assets/js/310.f86bc4c0.js"><link rel="prefetch" href="/blog_publish/assets/js/311.1fcf17f0.js"><link rel="prefetch" href="/blog_publish/assets/js/312.0fbc82cc.js"><link rel="prefetch" href="/blog_publish/assets/js/313.f2a75e96.js"><link rel="prefetch" href="/blog_publish/assets/js/314.82c3ba2b.js"><link rel="prefetch" href="/blog_publish/assets/js/315.6c4907ed.js"><link rel="prefetch" href="/blog_publish/assets/js/316.bc46130f.js"><link rel="prefetch" href="/blog_publish/assets/js/317.563b97e4.js"><link rel="prefetch" href="/blog_publish/assets/js/318.ac920d7d.js"><link rel="prefetch" href="/blog_publish/assets/js/319.97178d26.js"><link rel="prefetch" href="/blog_publish/assets/js/32.55741b61.js"><link rel="prefetch" href="/blog_publish/assets/js/320.6820d38c.js"><link rel="prefetch" href="/blog_publish/assets/js/321.53d67a52.js"><link rel="prefetch" href="/blog_publish/assets/js/322.05bb10ad.js"><link rel="prefetch" href="/blog_publish/assets/js/323.ffde9510.js"><link rel="prefetch" href="/blog_publish/assets/js/324.2cb52f5b.js"><link rel="prefetch" href="/blog_publish/assets/js/325.9ada64d8.js"><link rel="prefetch" href="/blog_publish/assets/js/326.0a12e1d4.js"><link rel="prefetch" href="/blog_publish/assets/js/327.34427167.js"><link rel="prefetch" href="/blog_publish/assets/js/328.9b1106ce.js"><link rel="prefetch" href="/blog_publish/assets/js/329.cb7d5e50.js"><link rel="prefetch" href="/blog_publish/assets/js/33.0eeacbf9.js"><link rel="prefetch" href="/blog_publish/assets/js/330.df94a2b4.js"><link rel="prefetch" href="/blog_publish/assets/js/331.4af7d41c.js"><link rel="prefetch" href="/blog_publish/assets/js/332.d715f844.js"><link rel="prefetch" href="/blog_publish/assets/js/333.a32d2a93.js"><link rel="prefetch" href="/blog_publish/assets/js/334.38680462.js"><link rel="prefetch" href="/blog_publish/assets/js/335.14c0cab3.js"><link rel="prefetch" href="/blog_publish/assets/js/336.fc6022e1.js"><link rel="prefetch" href="/blog_publish/assets/js/337.20518676.js"><link rel="prefetch" href="/blog_publish/assets/js/338.b846e92c.js"><link rel="prefetch" href="/blog_publish/assets/js/339.78906c2a.js"><link rel="prefetch" href="/blog_publish/assets/js/34.c7a1a210.js"><link rel="prefetch" href="/blog_publish/assets/js/340.ed02ddd4.js"><link rel="prefetch" href="/blog_publish/assets/js/341.5dd81929.js"><link rel="prefetch" href="/blog_publish/assets/js/342.1bb32dfd.js"><link rel="prefetch" href="/blog_publish/assets/js/343.3d68be00.js"><link rel="prefetch" href="/blog_publish/assets/js/344.f429507b.js"><link rel="prefetch" href="/blog_publish/assets/js/345.88edca80.js"><link rel="prefetch" href="/blog_publish/assets/js/346.3288daa0.js"><link rel="prefetch" href="/blog_publish/assets/js/347.3c9c3ac6.js"><link rel="prefetch" href="/blog_publish/assets/js/348.106f3f6b.js"><link rel="prefetch" href="/blog_publish/assets/js/349.023632bf.js"><link rel="prefetch" href="/blog_publish/assets/js/35.aa5fe427.js"><link rel="prefetch" href="/blog_publish/assets/js/350.0ebf0a96.js"><link rel="prefetch" href="/blog_publish/assets/js/351.2a79e48d.js"><link rel="prefetch" href="/blog_publish/assets/js/352.205f27f2.js"><link rel="prefetch" href="/blog_publish/assets/js/353.e6ec1e99.js"><link rel="prefetch" href="/blog_publish/assets/js/354.fb65770e.js"><link rel="prefetch" href="/blog_publish/assets/js/355.079b0c70.js"><link rel="prefetch" href="/blog_publish/assets/js/356.d95892cf.js"><link rel="prefetch" href="/blog_publish/assets/js/357.fae2ee82.js"><link rel="prefetch" href="/blog_publish/assets/js/358.b35fad28.js"><link rel="prefetch" href="/blog_publish/assets/js/359.59ee08d0.js"><link rel="prefetch" href="/blog_publish/assets/js/36.489ae5f5.js"><link rel="prefetch" href="/blog_publish/assets/js/360.700e9d18.js"><link rel="prefetch" href="/blog_publish/assets/js/361.8af6ecbc.js"><link rel="prefetch" href="/blog_publish/assets/js/362.83e933b6.js"><link rel="prefetch" href="/blog_publish/assets/js/363.fefc4989.js"><link rel="prefetch" href="/blog_publish/assets/js/364.0ce1df45.js"><link rel="prefetch" href="/blog_publish/assets/js/365.7a4d0c79.js"><link rel="prefetch" href="/blog_publish/assets/js/366.11b6f603.js"><link rel="prefetch" href="/blog_publish/assets/js/367.d26dac09.js"><link rel="prefetch" href="/blog_publish/assets/js/368.3a700537.js"><link rel="prefetch" href="/blog_publish/assets/js/369.d7d721b7.js"><link rel="prefetch" href="/blog_publish/assets/js/37.3cd2ef24.js"><link rel="prefetch" href="/blog_publish/assets/js/370.ef500361.js"><link rel="prefetch" href="/blog_publish/assets/js/371.fde315e4.js"><link rel="prefetch" href="/blog_publish/assets/js/372.4ba0ccaa.js"><link rel="prefetch" href="/blog_publish/assets/js/373.566cb66a.js"><link rel="prefetch" href="/blog_publish/assets/js/38.258cb0c1.js"><link rel="prefetch" href="/blog_publish/assets/js/39.0ba1b5d5.js"><link rel="prefetch" href="/blog_publish/assets/js/4.b0cb765d.js"><link rel="prefetch" href="/blog_publish/assets/js/40.3c3b852e.js"><link rel="prefetch" href="/blog_publish/assets/js/41.4097d760.js"><link rel="prefetch" href="/blog_publish/assets/js/42.703a40d4.js"><link rel="prefetch" href="/blog_publish/assets/js/43.1e1b61ef.js"><link rel="prefetch" href="/blog_publish/assets/js/44.e0fd4b34.js"><link rel="prefetch" href="/blog_publish/assets/js/45.01f8140d.js"><link rel="prefetch" href="/blog_publish/assets/js/46.82c9a5ef.js"><link rel="prefetch" href="/blog_publish/assets/js/47.f6fabe74.js"><link rel="prefetch" href="/blog_publish/assets/js/48.c62f1fa6.js"><link rel="prefetch" href="/blog_publish/assets/js/49.6417fcf5.js"><link rel="prefetch" href="/blog_publish/assets/js/5.e723c1a9.js"><link rel="prefetch" href="/blog_publish/assets/js/50.d87b0611.js"><link rel="prefetch" href="/blog_publish/assets/js/51.8c3db94b.js"><link rel="prefetch" href="/blog_publish/assets/js/52.ab9331d2.js"><link rel="prefetch" href="/blog_publish/assets/js/53.2eb451d7.js"><link rel="prefetch" href="/blog_publish/assets/js/54.06dccf04.js"><link rel="prefetch" href="/blog_publish/assets/js/55.10eee97c.js"><link rel="prefetch" href="/blog_publish/assets/js/56.494e1260.js"><link rel="prefetch" href="/blog_publish/assets/js/57.8f8e8c73.js"><link rel="prefetch" href="/blog_publish/assets/js/58.f1f23f70.js"><link rel="prefetch" href="/blog_publish/assets/js/59.606ea721.js"><link rel="prefetch" href="/blog_publish/assets/js/6.43debd78.js"><link rel="prefetch" href="/blog_publish/assets/js/60.72dc30a2.js"><link rel="prefetch" href="/blog_publish/assets/js/61.eae4e188.js"><link rel="prefetch" href="/blog_publish/assets/js/62.07411770.js"><link rel="prefetch" href="/blog_publish/assets/js/63.63ad730b.js"><link rel="prefetch" href="/blog_publish/assets/js/64.e1c761da.js"><link rel="prefetch" href="/blog_publish/assets/js/65.2ac12c18.js"><link rel="prefetch" href="/blog_publish/assets/js/66.deb1a5c1.js"><link rel="prefetch" href="/blog_publish/assets/js/67.a87a6f6e.js"><link rel="prefetch" href="/blog_publish/assets/js/68.12c29bef.js"><link rel="prefetch" href="/blog_publish/assets/js/69.3d3b8c41.js"><link rel="prefetch" href="/blog_publish/assets/js/7.23b88edf.js"><link rel="prefetch" href="/blog_publish/assets/js/70.9b359f2f.js"><link rel="prefetch" href="/blog_publish/assets/js/71.85d87299.js"><link rel="prefetch" href="/blog_publish/assets/js/72.b8d96a0a.js"><link rel="prefetch" href="/blog_publish/assets/js/73.dda863c5.js"><link rel="prefetch" href="/blog_publish/assets/js/74.0fccbeb8.js"><link rel="prefetch" href="/blog_publish/assets/js/75.7353b526.js"><link rel="prefetch" href="/blog_publish/assets/js/76.e379e9a9.js"><link rel="prefetch" href="/blog_publish/assets/js/77.5d128881.js"><link rel="prefetch" href="/blog_publish/assets/js/78.09c3bef7.js"><link rel="prefetch" href="/blog_publish/assets/js/79.7bac41a8.js"><link rel="prefetch" href="/blog_publish/assets/js/8.0f223618.js"><link rel="prefetch" href="/blog_publish/assets/js/80.326f41ec.js"><link rel="prefetch" href="/blog_publish/assets/js/81.fc4d9a9e.js"><link rel="prefetch" href="/blog_publish/assets/js/82.31de2df7.js"><link rel="prefetch" href="/blog_publish/assets/js/83.af673b81.js"><link rel="prefetch" href="/blog_publish/assets/js/84.1fe74443.js"><link rel="prefetch" href="/blog_publish/assets/js/85.653959e6.js"><link rel="prefetch" href="/blog_publish/assets/js/86.23dc25fe.js"><link rel="prefetch" href="/blog_publish/assets/js/87.b78e7b95.js"><link rel="prefetch" href="/blog_publish/assets/js/88.4cc0809a.js"><link rel="prefetch" href="/blog_publish/assets/js/89.9d4378fb.js"><link rel="prefetch" href="/blog_publish/assets/js/9.c0ceeb5a.js"><link rel="prefetch" href="/blog_publish/assets/js/90.35e480ec.js"><link rel="prefetch" href="/blog_publish/assets/js/91.353c0e22.js"><link rel="prefetch" href="/blog_publish/assets/js/92.969d8b39.js"><link rel="prefetch" href="/blog_publish/assets/js/93.d8f08e28.js"><link rel="prefetch" href="/blog_publish/assets/js/94.b09dccc8.js"><link rel="prefetch" href="/blog_publish/assets/js/95.4c53470c.js"><link rel="prefetch" href="/blog_publish/assets/js/96.4f81889a.js"><link rel="prefetch" href="/blog_publish/assets/js/97.062d3e3d.js"><link rel="prefetch" href="/blog_publish/assets/js/98.a6aa5d1f.js"><link rel="prefetch" href="/blog_publish/assets/js/99.5d254e48.js">
    <link rel="stylesheet" href="/blog_publish/assets/css/0.styles.ae551c8b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog_publish/" class="home-link router-link-active"><!----> <span class="site-name">coder</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog_publish/interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog_publish/java/01_ProgrammingBasic/link.html" class="nav-link">
  编程基础
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/02_DevelopmentTools/link.html" class="nav-link">
  开发工具
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/03_ApplicationFramework/link.html" class="nav-link">
  应用框架
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/04_OperationAndMaintenance/" class="nav-link">
  运维
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/05_SourceCode/" class="nav-link">
  源码
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog_publish/web/01_vue/使用webpack打包一个简单的前端程序.html" class="nav-link">
  vue
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具箱" class="dropdown-title"><span class="title">工具箱</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具箱" class="mobile-dropdown-title"><span class="title">工具箱</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog_publish/tools/essay/04_SpringBoot中处理跨域的几种方式.html" class="nav-link">
  随笔
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/tools/installSoftware/01_jdk_linux.html" class="nav-link">
  软件安装
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/tools/bugRepository/03_MySQL主从复制Bug.html" class="nav-link">
  bug库
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/tools/other/07_打包插件maven-assembly-plugin.html" class="nav-link">
  其他
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog_publish/interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog_publish/java/01_ProgrammingBasic/link.html" class="nav-link">
  编程基础
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/02_DevelopmentTools/link.html" class="nav-link">
  开发工具
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/03_ApplicationFramework/link.html" class="nav-link">
  应用框架
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/04_OperationAndMaintenance/" class="nav-link">
  运维
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/java/05_SourceCode/" class="nav-link">
  源码
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog_publish/web/01_vue/使用webpack打包一个简单的前端程序.html" class="nav-link">
  vue
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具箱" class="dropdown-title"><span class="title">工具箱</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具箱" class="mobile-dropdown-title"><span class="title">工具箱</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog_publish/tools/essay/04_SpringBoot中处理跨域的几种方式.html" class="nav-link">
  随笔
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/tools/installSoftware/01_jdk_linux.html" class="nav-link">
  软件安装
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/tools/bugRepository/03_MySQL主从复制Bug.html" class="nav-link">
  bug库
</a></li><li class="dropdown-item"><!----> <a href="/blog_publish/tools/other/07_打包插件maven-assembly-plugin.html" class="nav-link">
  其他
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Linux</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog_publish/learn/linux/01_SHELL编程前奏_小工具.html" class="sidebar-link">/learn/linux/01_SHELL编程前奏_小工具.html</a></li><li><a href="/blog_publish/learn/linux/02_SHELL编程之变量定义.html" class="sidebar-link">/learn/linux/02_SHELL编程之变量定义.html</a></li><li><a href="/blog_publish/learn/linux/03_SHELL编程之条件判断和流程控制.html" class="sidebar-link">/learn/linux/03_SHELL编程之条件判断和流程控制.html</a></li><li><a href="/blog_publish/learn/linux/04_SHELL编程之循环语句.html" class="sidebar-link">/learn/linux/04_SHELL编程之循环语句.html</a></li><li><a href="/blog_publish/learn/linux/05_SHELL编程之嵌套循环+随机数及综合案例_2.html" class="sidebar-link">/learn/linux/05_SHELL编程之嵌套循环+随机数及综合案例_2.html</a></li><li><a href="/blog_publish/learn/linux/06_SHELL编程之CASE语句+函数+正则.html" class="active sidebar-link">/learn/linux/06_SHELL编程之CASE语句+函数+正则.html</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog_publish/learn/linux/06_SHELL编程之CASE语句+函数+正则.html#_1-语法结构" class="sidebar-link">1. 语法结构</a></li><li class="sidebar-sub-header"><a href="/blog_publish/learn/linux/06_SHELL编程之CASE语句+函数+正则.html#_2-应用案例" class="sidebar-link">2. 应用案例</a></li><li class="sidebar-sub-header"><a href="/blog_publish/learn/linux/06_SHELL编程之CASE语句+函数+正则.html#_1-什么是函数？" class="sidebar-link">1. 什么是函数？</a></li><li class="sidebar-sub-header"><a href="/blog_publish/learn/linux/06_SHELL编程之CASE语句+函数+正则.html#_2-如何定义函数？" class="sidebar-link">2. 如何定义函数？</a></li><li class="sidebar-sub-header"><a href="/blog_publish/learn/linux/06_SHELL编程之CASE语句+函数+正则.html#_3-函数如何调用？" class="sidebar-link">3. 函数如何调用？</a></li><li class="sidebar-sub-header"><a href="/blog_publish/learn/linux/06_SHELL编程之CASE语句+函数+正则.html#_4-应用案例" class="sidebar-link">4. 应用案例</a></li><li class="sidebar-sub-header"><a href="/blog_publish/learn/linux/06_SHELL编程之CASE语句+函数+正则.html#_1-任务背景" class="sidebar-link">1. 任务背景</a></li><li class="sidebar-sub-header"><a href="/blog_publish/learn/linux/06_SHELL编程之CASE语句+函数+正则.html#_2-具体要求" class="sidebar-link">2. 具体要求</a></li><li class="sidebar-sub-header"><a href="/blog_publish/learn/linux/06_SHELL编程之CASE语句+函数+正则.html#_3-综合分析" class="sidebar-link">3. 综合分析</a></li><li class="sidebar-sub-header"><a href="/blog_publish/learn/linux/06_SHELL编程之CASE语句+函数+正则.html#_4-落地实现" class="sidebar-link">4. 落地实现</a></li><li class="sidebar-sub-header"><a href="/blog_publish/learn/linux/06_SHELL编程之CASE语句+函数+正则.html#_1-正则表达式是什么？" class="sidebar-link">1. 正则表达式是什么？</a></li><li class="sidebar-sub-header"><a href="/blog_publish/learn/linux/06_SHELL编程之CASE语句+函数+正则.html#_2-正则能干什么？" class="sidebar-link">2. 正则能干什么？</a></li><li class="sidebar-sub-header"><a href="/blog_publish/learn/linux/06_SHELL编程之CASE语句+函数+正则.html#_3-正则当中名词解释" class="sidebar-link">3. 正则当中名词解释</a></li><li class="sidebar-sub-header"><a href="/blog_publish/learn/linux/06_SHELL编程之CASE语句+函数+正则.html#_4-第一类正则表达式" class="sidebar-link">4. 第一类正则表达式</a></li><li class="sidebar-sub-header"><a href="/blog_publish/learn/linux/06_SHELL编程之CASE语句+函数+正则.html#_5-第二类正则" class="sidebar-link">5. 第二类正则</a></li><li class="sidebar-sub-header"><a href="/blog_publish/learn/linux/06_SHELL编程之CASE语句+函数+正则.html#_6-正则表达式总结" class="sidebar-link">6. 正则表达式总结</a></li><li class="sidebar-sub-header"><a href="/blog_publish/learn/linux/06_SHELL编程之CASE语句+函数+正则.html#_1-文件准备" class="sidebar-link">1. 文件准备</a></li><li class="sidebar-sub-header"><a href="/blog_publish/learn/linux/06_SHELL编程之CASE语句+函数+正则.html#_2-具体要求-2" class="sidebar-link">2. 具体要求</a></li><li class="sidebar-sub-header"><a href="/blog_publish/learn/linux/06_SHELL编程之CASE语句+函数+正则.html#脚本搭建web服务" class="sidebar-link">脚本搭建web服务</a></li></ul></li><li><a href="/blog_publish/learn/linux/07_SHELL编程之文本处理工具sed.html" class="sidebar-link">/learn/linux/07_SHELL编程之文本处理工具sed.html</a></li><li><a href="/blog_publish/learn/linux/08_SHELL编程之文本处理工具awk.html" class="sidebar-link">/learn/linux/08_SHELL编程之文本处理工具awk.html</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>[toc]
#课程目标</p> <ul><li>掌握case语句的基本语法结构</li> <li>掌握函数的定义及调用</li> <li>掌握常用的正则表达式元字符含义</li></ul> <h1 id="一、case语句"><a href="#一、case语句" class="header-anchor">#</a> 一、case语句</h1> <p><strong>关键词：确认过眼神，你是对的人</strong>💑</p> <ol><li>case语句为多重匹配语句</li> <li>如果匹配成功，执行相匹配的命令</li></ol> <h2 id="_1-语法结构"><a href="#_1-语法结构" class="header-anchor">#</a> 1. 语法结构</h2> <div class="language-powershell extra-class"><pre class="language-powershell"><code>说明：pattern表示需要匹配的模式


case <span class="token keyword">var</span> in             定义变量<span class="token punctuation">;</span><span class="token keyword">var</span>代表是变量名
pattern 1<span class="token punctuation">)</span>              模式1<span class="token punctuation">;</span>用 <span class="token punctuation">|</span> 分割多个模式，相当于or
    command1            需要执行的语句
    <span class="token punctuation">;</span><span class="token punctuation">;</span>                  两个分号代表命令结束
pattern 2<span class="token punctuation">)</span>
    command2
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
pattern 3<span class="token punctuation">)</span>
    command3
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
		  <span class="token operator">*</span><span class="token punctuation">)</span>              default，不满足以上模式，默认执行<span class="token operator">*</span><span class="token punctuation">)</span>下面的语句
    command4
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
esac							esac表示case语句结束
</code></pre></div><h2 id="_2-应用案例"><a href="#_2-应用案例" class="header-anchor">#</a> 2. 应用案例</h2> <h3 id="㈠-脚本传不同值做不同事"><a href="#㈠-脚本传不同值做不同事" class="header-anchor">#</a> ㈠ 脚本传不同值做不同事</h3> <p>**具体需求：**当给程序传入start、stop、restart三个不同参数时分别执行相应命令</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token comment">#!/bin/env bash</span>
case <span class="token variable">$1</span> in
        <span class="token function">start</span><span class="token punctuation">|</span>S<span class="token punctuation">)</span>
        service apache <span class="token function">start</span> &amp;&gt;<span class="token operator">/</span>dev<span class="token operator">/</span>null &amp;&amp; <span class="token function">echo</span> <span class="token string">&quot;apache 启动成功&quot;</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
        stop<span class="token punctuation">|</span>T<span class="token punctuation">)</span>
        service apache stop &amp;&gt;<span class="token operator">/</span>dev<span class="token operator">/</span>null &amp;&amp; <span class="token function">echo</span> <span class="token string">&quot;apache 停止成功&quot;</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
        restart<span class="token punctuation">|</span>R<span class="token punctuation">)</span>
        service apache restart &amp;&gt;<span class="token operator">/</span>dev<span class="token operator">/</span>null &amp;&amp; <span class="token function">echo</span> <span class="token string">&quot;apache 重启完毕&quot;</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
        <span class="token operator">*</span><span class="token punctuation">)</span>
        <span class="token function">echo</span> <span class="token string">&quot;请输入要做的事情...&quot;</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
esac

</code></pre></div><h3 id="㈡-根据用户需求选择做事"><a href="#㈡-根据用户需求选择做事" class="header-anchor">#</a> ㈡ 根据用户需求选择做事</h3> <p><strong>具体需求：</strong></p> <p>脚本提示让用户输入需要管理的服务名，然后提示用户需要对服务做什么操作，如启动，关闭等操作</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token comment">#!/bin/env bash</span>
read <span class="token operator">-</span>p <span class="token string">&quot;请输入你要管理的服务名称(vsftpd):&quot;</span> service
case <span class="token variable">$service</span> in
        vsftpd<span class="token punctuation">|</span>ftp<span class="token punctuation">)</span>
        read <span class="token operator">-</span>p <span class="token string">&quot;请选择你需要做的事情(restart|stop):&quot;</span> action
        case <span class="token variable">$action</span> in
                stop<span class="token punctuation">|</span>S<span class="token punctuation">)</span>
                service vsftpd stop &amp;&gt;<span class="token operator">/</span>dev<span class="token operator">/</span>null &amp;&amp; <span class="token function">echo</span> <span class="token string">&quot;该<span class="token variable">$serivce</span>服务已经停止成功&quot;</span>
                <span class="token punctuation">;</span><span class="token punctuation">;</span>
                <span class="token function">start</span><span class="token punctuation">)</span>
                service vsftpd <span class="token function">start</span> &amp;&gt;<span class="token operator">/</span>dev<span class="token operator">/</span>null &amp;&amp; <span class="token function">echo</span> <span class="token string">&quot;该<span class="token variable">$serivce</span>服务已经成功启动&quot;</span>
                <span class="token punctuation">;</span><span class="token punctuation">;</span>
        esac
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
        httpd<span class="token punctuation">|</span>apache<span class="token punctuation">)</span>
        <span class="token function">echo</span> <span class="token string">&quot;apache hello world&quot;</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
        <span class="token operator">*</span><span class="token punctuation">)</span>
        <span class="token function">echo</span> <span class="token string">&quot;请输入你要管理的服务名称(vsftpd)&quot;</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
esac
	
</code></pre></div><p>###㈢ 菜单提示让用户选择需要做的事</p> <p><strong>具体需求：</strong></p> <p>模拟一个多任务维护界面;当执行程序时先显示总菜单，然后进行选择后做相应维护监控操作</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>*<span class="token operator">*</span>*<span class="token operator">*</span>*<span class="token operator">*</span>*<span class="token operator">*</span>*<span class="token operator">*</span>请选择<span class="token operator">*</span>*<span class="token operator">*</span>*<span class="token operator">*</span>*<span class="token operator">*</span>*<span class="token operator">*</span>
h	显示命令帮助
f	显示磁盘分区
d	显示磁盘挂载
m	查看内存使用
u	查看系统负载
q	退出程序
<span class="token operator">*</span>*<span class="token operator">*</span>*<span class="token operator">*</span>*<span class="token operator">*</span>*<span class="token operator">*</span>*<span class="token operator">*</span>*<span class="token operator">*</span>*<span class="token operator">*</span>*<span class="token operator">*</span>*<span class="token operator">*</span>*<span class="token operator">*</span>*<span class="token operator">*</span>*<span class="token operator">*</span>
</code></pre></div><p><strong>思路：</strong></p> <ol><li>菜单打印出来</li> <li>交互式让用户输入操作编号，然后做出相应处理</li></ol> <p><strong>落地实现：</strong></p> <ol><li>菜单打印(分解动作)</li></ol> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token comment">#!/bin/env bash</span>
<span class="token function">cat</span> &lt;&lt;<span class="token operator">-</span>EOF
	h	显示命令帮助
	f	显示磁盘分区
	d	显示磁盘挂载
	m	查看内存使用
	u	查看系统负载
	q	退出程序
	EOF
</code></pre></div><ol start="2"><li>最终实现</li></ol> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token comment">#!/bin/bash</span>
<span class="token comment">#打印菜单</span>
<span class="token function">cat</span> &lt;&lt;<span class="token operator">-</span>EOF
	h	显示命令帮助
	f	显示磁盘分区
	d	显示磁盘挂载
	m	查看内存使用
	u	查看系统负载
	q	退出程序
	EOF

<span class="token comment">#让用户输入需要的操作</span>
<span class="token keyword">while</span> true
<span class="token keyword">do</span>
read <span class="token operator">-</span>p <span class="token string">&quot;请输入需要操作的选项[f|d]:&quot;</span> var1
case <span class="token variable">$var1</span> in
	h<span class="token punctuation">)</span>
	<span class="token function">cat</span> &lt;&lt;<span class="token operator">-</span>EOF
        h       显示命令帮助
        f       显示磁盘分区
        d       显示磁盘挂载
        m       查看内存使用
        u       查看系统负载
        q       退出程序
	EOF
	<span class="token punctuation">;</span><span class="token punctuation">;</span>
	f<span class="token punctuation">)</span>
	fdisk <span class="token operator">-</span>l
	<span class="token punctuation">;</span><span class="token punctuation">;</span>
	d<span class="token punctuation">)</span>
	df <span class="token operator">-</span>h
	<span class="token punctuation">;</span><span class="token punctuation">;</span>
	m<span class="token punctuation">)</span>
	free <span class="token operator">-</span>m
	<span class="token punctuation">;</span><span class="token punctuation">;</span>
	u<span class="token punctuation">)</span>
	uptime
	<span class="token punctuation">;</span><span class="token punctuation">;</span>
	q<span class="token punctuation">)</span>
	<span class="token keyword">exit</span>
	<span class="token punctuation">;</span><span class="token punctuation">;</span>
esac
done



<span class="token comment">#!/bin/bash</span>
<span class="token comment">#打印菜单</span>
menu<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token function">cat</span> &lt;&lt;<span class="token operator">-</span><span class="token keyword">END</span>
	h	显示命令帮助
	f	显示磁盘分区
	d	显示磁盘挂载
	m	查看内存使用
	u	查看系统负载
	q	退出程序
	<span class="token keyword">END</span>
<span class="token punctuation">}</span>
menu
<span class="token keyword">while</span> true
<span class="token keyword">do</span>
read <span class="token operator">-</span>p <span class="token string">&quot;请输入你的操作[h for help]:&quot;</span> var1
case <span class="token variable">$var1</span> in
	h<span class="token punctuation">)</span>
	menu
	<span class="token punctuation">;</span><span class="token punctuation">;</span>
	f<span class="token punctuation">)</span>
	read <span class="token operator">-</span>p <span class="token string">&quot;请输入你要查看的设备名字[/dev/sdb]:&quot;</span> var2
	case <span class="token variable">$var2</span> in
		<span class="token operator">/</span>dev<span class="token operator">/</span>sda<span class="token punctuation">)</span>
		fdisk <span class="token operator">-</span>l <span class="token operator">/</span>dev<span class="token operator">/</span>sda
		<span class="token punctuation">;</span><span class="token punctuation">;</span>
		<span class="token operator">/</span>dev<span class="token operator">/</span>sdb<span class="token punctuation">)</span>
		fdisk <span class="token operator">-</span>l <span class="token operator">/</span>dev<span class="token operator">/</span>sdb
		<span class="token punctuation">;</span><span class="token punctuation">;</span>
	esac
	<span class="token punctuation">;</span><span class="token punctuation">;</span>
	d<span class="token punctuation">)</span>
	lsblk
	<span class="token punctuation">;</span><span class="token punctuation">;</span>
	m<span class="token punctuation">)</span>
	free <span class="token operator">-</span>m
	<span class="token punctuation">;</span><span class="token punctuation">;</span>
	u<span class="token punctuation">)</span>
	uptime
	<span class="token punctuation">;</span><span class="token punctuation">;</span>
	q<span class="token punctuation">)</span>
	<span class="token keyword">exit</span>
	<span class="token punctuation">;</span><span class="token punctuation">;</span>
esac
done

</code></pre></div><p><strong>课堂练习：</strong></p> <ol><li>输入一个等级（A-E），查看每个等级的成绩；如：输入A，则显示“90分~100分”，依次类推</li> <li>判断用户输入的字符串，如果是&quot;hello&quot;,则显示&quot;world&quot;；如果是&quot;world&quot;,则显示&quot;hello&quot;,否则提示&quot;请输入hello或者world，谢谢！&quot;</li></ol> <h1 id="二、-函数"><a href="#二、-函数" class="header-anchor">#</a> 二、==函数==</h1> <h2 id="_1-什么是函数？"><a href="#_1-什么是函数？" class="header-anchor">#</a> 1. 什么是函数？</h2> <ul><li>shell中允许将<strong>一组命令集合</strong>或<strong>语句</strong>形成一段<strong>可用代码</strong>，这些代码块称为shell函数</li> <li>给这段代码起个名字称为函数名，后续可以直接调用该段代码的功能</li></ul> <h2 id="_2-如何定义函数？"><a href="#_2-如何定义函数？" class="header-anchor">#</a> 2. 如何定义函数？</h2> <p><strong>方法1：</strong></p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>函数名<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  函数体（一堆命令的集合，来实现某个功能）   
<span class="token punctuation">}</span>
</code></pre></div><p><strong>方法2：</strong></p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token keyword">function</span> 函数名<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   函数体（一堆命令的集合，来实现某个功能）
   <span class="token function">echo</span> hello
   <span class="token function">echo</span> world
<span class="token punctuation">}</span>

</code></pre></div><p><strong>函数中==return==说明:</strong></p> <ol><li>return可以==结束一个函数==。类似于循环控制语句break(结束当前循环，执行循环体后面的代码)。</li> <li>return默认返回函数中最后一个命令状态值，也可以给定参数值，范围是0-256之间。</li> <li>如果没有return命令，函数将返回最后一个指令的退出状态值。</li></ol> <h2 id="_3-函数如何调用？"><a href="#_3-函数如何调用？" class="header-anchor">#</a> 3. 函数如何调用？</h2> <h3 id="㈠-当前命令行调用"><a href="#㈠-当前命令行调用" class="header-anchor">#</a> ㈠ 当前命令行调用</h3> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@MissHou shell04]</span><span class="token comment"># cat fun1.sh </span>
<span class="token comment">#!/bin/bash</span>
hello<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token function">echo</span> <span class="token string">&quot;hello lilei <span class="token variable">$1</span>&quot;</span>
hostname
<span class="token punctuation">}</span>
menu<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token function">cat</span> &lt;&lt;<span class="token operator">-</span>EOF
1<span class="token punctuation">.</span> mysql
2<span class="token punctuation">.</span> web
3<span class="token punctuation">.</span> app
4<span class="token punctuation">.</span> <span class="token keyword">exit</span>
EOF
<span class="token punctuation">}</span>

<span class="token namespace">[root@MissHou shell04]</span><span class="token comment"># source fun1.sh </span>
<span class="token namespace">[root@MissHou shell04]</span><span class="token comment"># . fun1.sh </span>

<span class="token namespace">[root@MissHou shell04]</span><span class="token comment"># hello 888</span>
hello lilei 888
MissHou<span class="token punctuation">.</span>itcast<span class="token punctuation">.</span>cc
<span class="token namespace">[root@MissHou shell04]</span><span class="token comment"># menu</span>
1<span class="token punctuation">.</span> mysql
2<span class="token punctuation">.</span> web
3<span class="token punctuation">.</span> app
4<span class="token punctuation">.</span> <span class="token keyword">exit</span>

</code></pre></div><h3 id="㈡-定义到用户的环境变量中"><a href="#㈡-定义到用户的环境变量中" class="header-anchor">#</a> ㈡ 定义到用户的环境变量中</h3> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@MissHou shell05]</span><span class="token comment"># vim ~/.bashrc </span>
文件中增加如下内容：
hello<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token function">echo</span> <span class="token string">&quot;hello lilei <span class="token variable">$1</span>&quot;</span>
hostname
<span class="token punctuation">}</span>
menu<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token function">cat</span> &lt;&lt;<span class="token operator">-</span>EOF
1<span class="token punctuation">.</span> mysql
2<span class="token punctuation">.</span> web
3<span class="token punctuation">.</span> app
4<span class="token punctuation">.</span> <span class="token keyword">exit</span>
EOF
<span class="token punctuation">}</span>

注意：
当用户打开bash的时候会读取该文件
</code></pre></div><h3 id="㈢-脚本中调用"><a href="#㈢-脚本中调用" class="header-anchor">#</a> ㈢ 脚本中调用</h3> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token comment">#!/bin/bash</span>
<span class="token comment">#打印菜单</span>
source <span class="token punctuation">.</span><span class="token operator">/</span>fun1<span class="token punctuation">.</span>sh
menu<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token function">cat</span> &lt;&lt;<span class="token operator">-</span><span class="token keyword">END</span>
	h	显示命令帮助
	f	显示磁盘分区
	d	显示磁盘挂载
	m	查看内存使用
	u	查看系统负载
	q	退出程序
	<span class="token keyword">END</span>
<span class="token punctuation">}</span>
menu		<span class="token operator">/</span><span class="token operator">/</span>调用函数

</code></pre></div><h2 id="_4-应用案例"><a href="#_4-应用案例" class="header-anchor">#</a> 4. 应用案例</h2> <p><strong>具体需求：</strong></p> <ol><li>写一个脚本==收集用户输入==的基本信息(姓名，性别，年龄)，如不输入==一直提示输入==</li> <li>最后根据用户的信息输出相对应的内容</li></ol> <p><strong>思路：</strong></p> <ol><li><p>==交互式==定义多个变量来保存用户信息  姓名、性别、年龄</p></li> <li><p>如果不输一直提示输入</p> <ul><li>==循环==直到输入字符串不为空  while  判断输入字符串是否为空
<ul><li>每个信息都必须不能为空，该功能可以定义为一个函数，方便下面脚本调用</li></ul></li></ul></li> <li><p>根据用户输入信息做出匹配判断</p></li></ol> <p><strong>代码实现：</strong></p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token comment">#!/bin/bash</span>
<span class="token comment">#该函数实现用户如果不输入内容则一直循环直到用户输入为止，并且将用户输入的内容打印出来</span>
input_fun<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  input_var=<span class="token string">&quot;&quot;</span>
  output_var=<span class="token variable">$1</span>
  <span class="token keyword">while</span> <span class="token punctuation">[</span> <span class="token operator">-</span>z <span class="token variable">$input_var</span> <span class="token punctuation">]</span>
	<span class="token keyword">do</span>
	read <span class="token operator">-</span>p <span class="token string">&quot;<span class="token variable">$output_var</span>&quot;</span> input_var
	done
	<span class="token function">echo</span> <span class="token variable">$input_var</span>
<span class="token punctuation">}</span>

input_fun 请输入你的姓名:

或者
<span class="token comment">#!/bin/bash</span>
fun<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	read <span class="token operator">-</span>p <span class="token string">&quot;<span class="token variable">$1</span>&quot;</span> <span class="token keyword">var</span>
	<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">-</span>z <span class="token variable">$var</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>then
		fun <span class="token variable">$1</span>
	<span class="token keyword">else</span>
		<span class="token function">echo</span> <span class="token variable">$var</span>
	fi
<span class="token punctuation">}</span>


<span class="token comment">#调用函数并且获取用户的姓名、性别、年龄分别赋值给name、sex、age变量</span>
name=$<span class="token punctuation">(</span>input_fun 请输入你的姓名:<span class="token punctuation">)</span>
sex=$<span class="token punctuation">(</span>input_fun 请输入你的性别:<span class="token punctuation">)</span>
age=$<span class="token punctuation">(</span>input_fun 请输入你的年龄:<span class="token punctuation">)</span>

<span class="token comment">#根据用户输入的性别进行匹配判断</span>
case <span class="token variable">$sex</span> in
			man<span class="token punctuation">)</span>
			<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$age</span> <span class="token operator">-gt</span> 18 <span class="token operator">-</span>a <span class="token variable">$age</span> <span class="token operator">-le</span> 35 <span class="token punctuation">]</span><span class="token punctuation">;</span>then
				<span class="token function">echo</span> <span class="token string">&quot;中年大叔你油腻了吗？加油&quot;</span>
			elif <span class="token punctuation">[</span> <span class="token variable">$age</span> <span class="token operator">-gt</span> 35 <span class="token punctuation">]</span><span class="token punctuation">;</span>then
				<span class="token function">echo</span> <span class="token string">&quot;保温杯里泡枸杞&quot;</span>
			<span class="token keyword">else</span>
				<span class="token function">echo</span> <span class="token string">&quot;年轻有为。。。&quot;</span>
			fi
			<span class="token punctuation">;</span><span class="token punctuation">;</span>
			woman<span class="token punctuation">)</span>
			xxx
			<span class="token punctuation">;</span><span class="token punctuation">;</span>
			<span class="token operator">*</span><span class="token punctuation">)</span>
			xxx
			<span class="token punctuation">;</span><span class="token punctuation">;</span>
esac

</code></pre></div><p><strong>扩展延伸：</strong></p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>描述以下代码含义：	
:<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   :<span class="token punctuation">|</span>:&amp;
<span class="token punctuation">}</span>
:
</code></pre></div><h1 id="三、综合案例"><a href="#三、综合案例" class="header-anchor">#</a> 三、综合案例</h1> <h2 id="_1-任务背景"><a href="#_1-任务背景" class="header-anchor">#</a> 1. 任务背景</h2> <p>现有的跳板机虽然实现了统一入口来访问生产服务器，yunwei用户权限太大可以操作跳板机上的所有目录文件，存在数据被误删的安全隐患，所以希望你做一些安全策略来保证跳板机的正常使用。</p> <h2 id="_2-具体要求"><a href="#_2-具体要求" class="header-anchor">#</a> 2. 具体要求</h2> <ol><li>只允许yunwei用户通过跳板机远程连接后台的应用服务器做一些维护操作</li> <li>公司运维人员远程通过yunwei用户连接跳板机时，跳出以下菜单供选择：</li></ol> <div class="language-powershell extra-class"><pre class="language-powershell"><code>欢迎使用Jumper<span class="token operator">-</span>server，请选择你要操作的主机：
1<span class="token punctuation">.</span> DB1<span class="token operator">-</span>Master
2<span class="token punctuation">.</span> DB2<span class="token operator">-</span>Slave
3<span class="token punctuation">.</span> Web1
4<span class="token punctuation">.</span> Web2
h<span class="token punctuation">.</span> help
q<span class="token punctuation">.</span> <span class="token keyword">exit</span>
</code></pre></div><ol start="3"><li>当用户选择相应主机后，直接<strong>免密码登录</strong>成功</li> <li>如果用户不输入一直提示用户输入，直到用户选择退出</li></ol> <h2 id="_3-综合分析"><a href="#_3-综合分析" class="header-anchor">#</a> 3. 综合分析</h2> <ol><li>将脚本放到yunwei用户家目录里的.bashrc文件里（/shell05/jumper-server.sh）</li> <li>将菜单定义为一个函数[打印菜单]，方便后面调用</li> <li>用case语句来实现用户的选择【交互式定义变量】</li> <li>当用户选择了某一台服务器后，进一步询问用户需要做的事情  case...esac  交互式定义变量</li> <li>使用循环来实现用户不选择一直让其选择</li> <li>限制用户退出后直接关闭终端  exit</li></ol> <h2 id="_4-落地实现"><a href="#_4-落地实现" class="header-anchor">#</a> 4. 落地实现</h2> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token comment">#!/bin/bash</span>
<span class="token comment"># jumper-server</span>
<span class="token comment"># 定义菜单打印功能的函数</span>
menu<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token function">cat</span> &lt;&lt;<span class="token operator">-</span>EOF
欢迎使用Jumper<span class="token operator">-</span>server，请选择你要操作的主机：
1<span class="token punctuation">.</span> DB1<span class="token operator">-</span>Master
2<span class="token punctuation">.</span> DB2<span class="token operator">-</span>Slave
3<span class="token punctuation">.</span> Web1
4<span class="token punctuation">.</span> Web2
h<span class="token punctuation">.</span> help
q<span class="token punctuation">.</span> <span class="token keyword">exit</span>
	EOF
<span class="token punctuation">}</span>
<span class="token comment"># 屏蔽以下信号</span>
<span class="token keyword">trap</span> <span class="token string">''</span> 1 2 3 19
<span class="token comment"># 调用函数来打印菜单</span>
menu
<span class="token comment">#循环等待用户选择</span>
<span class="token keyword">while</span> true
<span class="token keyword">do</span>
<span class="token comment"># 菜单选择，case...esac语句</span>
read <span class="token operator">-</span>p <span class="token string">&quot;请选择你要访问的主机:&quot;</span> host
case <span class="token variable">$host</span> in
	1<span class="token punctuation">)</span>
	ssh root@10<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1
	<span class="token punctuation">;</span><span class="token punctuation">;</span>
	2<span class="token punctuation">)</span>
	ssh root@10<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1<span class="token punctuation">.</span>2
	<span class="token punctuation">;</span><span class="token punctuation">;</span>
	3<span class="token punctuation">)</span>
	ssh root@10<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1<span class="token punctuation">.</span>3
	<span class="token punctuation">;</span><span class="token punctuation">;</span>
	h<span class="token punctuation">)</span>
	clear<span class="token punctuation">;</span>menu
	<span class="token punctuation">;</span><span class="token punctuation">;</span>
	q<span class="token punctuation">)</span>
	<span class="token keyword">exit</span>
	<span class="token punctuation">;</span><span class="token punctuation">;</span>
esac
done


将脚本放到yunwei用户家目录里的<span class="token punctuation">.</span>bashrc里执行：
bash ~<span class="token operator">/</span>jumper<span class="token operator">-</span>server<span class="token punctuation">.</span>sh
<span class="token keyword">exit</span>

</code></pre></div><p><strong>进一步完善需求</strong></p> <p>为了进一步增强跳板机的安全性，工作人员通过跳板机访问生产环境，但是不能在跳板机上停留。</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token comment">#!/bin/bash</span>
<span class="token comment">#公钥推送成功</span>
<span class="token keyword">trap</span> <span class="token string">''</span> 1 2 3 19
<span class="token comment">#打印菜单用户选择</span>
menu<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token function">cat</span> &lt;&lt;<span class="token operator">-</span>EOF
欢迎使用Jumper<span class="token operator">-</span>server，请选择你要操作的主机：
1<span class="token punctuation">.</span> DB1<span class="token operator">-</span>Master
2<span class="token punctuation">.</span> DB2<span class="token operator">-</span>Slave
3<span class="token punctuation">.</span> Web1
4<span class="token punctuation">.</span> Web2
h<span class="token punctuation">.</span> help
q<span class="token punctuation">.</span> <span class="token keyword">exit</span>
EOF
<span class="token punctuation">}</span>

<span class="token comment">#调用函数来打印菜单</span>
menu
<span class="token keyword">while</span> true
<span class="token keyword">do</span>
read <span class="token operator">-</span>p <span class="token string">&quot;请输入你要选择的主机[h for help]：&quot;</span> host

<span class="token comment">#通过case语句来匹配用户所输入的主机</span>
case <span class="token variable">$host</span> in
	1<span class="token punctuation">|</span>DB1<span class="token punctuation">)</span>
	ssh root@10<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1
	<span class="token punctuation">;</span><span class="token punctuation">;</span>
	2<span class="token punctuation">|</span>DB2<span class="token punctuation">)</span>
	ssh root@10<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1<span class="token punctuation">.</span>2
	<span class="token punctuation">;</span><span class="token punctuation">;</span>
	3<span class="token punctuation">|</span>web1<span class="token punctuation">)</span>
	ssh root@10<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1<span class="token punctuation">.</span>250
	<span class="token punctuation">;</span><span class="token punctuation">;</span>
	h<span class="token punctuation">|</span>help<span class="token punctuation">)</span>
	clear<span class="token punctuation">;</span>menu
	<span class="token punctuation">;</span><span class="token punctuation">;</span>
	q<span class="token punctuation">|</span>quit<span class="token punctuation">)</span>
	<span class="token keyword">exit</span>
	<span class="token punctuation">;</span><span class="token punctuation">;</span>
esac
done

自己完善功能：
1<span class="token punctuation">.</span> 用户选择主机后，需要事先推送公钥；如何判断公钥是否已推
2<span class="token punctuation">.</span> 比如选择web1时，再次提示需要做的操作，比如：
clean log
重启服务
<span class="token function">kill</span>某个进程
</code></pre></div><p><strong>回顾信号：</strong></p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>1<span class="token punctuation">)</span> SIGHUP 			重新加载配置    
2<span class="token punctuation">)</span> SIGINT			键盘中断^C
3<span class="token punctuation">)</span> SIGQUIT      	键盘退出
9<span class="token punctuation">)</span> SIGKILL		 	强制终止
15<span class="token punctuation">)</span> SIGTERM	    	终止（正常结束），缺省信号
18<span class="token punctuation">)</span> SIGCONT	   	继续
19<span class="token punctuation">)</span> SIGSTOP	   	停止
20<span class="token punctuation">)</span> SIGTSTP     	暂停^Z
</code></pre></div><h1 id="四、正则表达式"><a href="#四、正则表达式" class="header-anchor">#</a> 四、正则表达式</h1> <h2 id="_1-正则表达式是什么？"><a href="#_1-正则表达式是什么？" class="header-anchor">#</a> 1. 正则表达式是什么？</h2> <p><strong>正则表达式</strong>（Regular Expression、regex或regexp，缩写为RE），也译为正规表示法、常规表示法，是一种字符模式，用于在查找过程中==匹配指定的字符==。</p> <p>许多程序设计语言都支持利用正则表达式进行<strong>字符串操作</strong>。例如，在Perl中就内建了一个功能强大的正则表达式引擎。</p> <p>正则表达式这个概念最初是由Unix中的工具软件（例如sed和grep）普及开的。</p> <p>支持正则表达式的程序如：locate |find| vim| grep| sed |awk</p> <h2 id="_2-正则能干什么？"><a href="#_2-正则能干什么？" class="header-anchor">#</a> 2. 正则能干什么？</h2> <ol><li>匹配邮箱、匹配身份证号码、手机号、银行卡号等</li> <li>匹配某些特定字符串，做特定处理等等</li></ol> <h2 id="_3-正则当中名词解释"><a href="#_3-正则当中名词解释" class="header-anchor">#</a> 3. 正则当中名词解释</h2> <ul><li><p><strong>元字符</strong></p> <p>指那些在正则表达式中具有<strong>特殊意义的==专用字符==</strong>,如:点(.) 星(*) 问号(?)等</p></li> <li><p><strong>前导字符</strong></p> <p>位于<strong>元字符</strong>前面的字符.	ab**==c==***   aoo**==o==.**</p></li></ul> <h2 id="_4-第一类正则表达式"><a href="#_4-第一类正则表达式" class="header-anchor">#</a> 4. 第一类正则表达式</h2> <h3 id="㈠-正则中普通常用的元字符"><a href="#㈠-正则中普通常用的元字符" class="header-anchor">#</a> ㈠ 正则中普通常用的元字符</h3> <table><thead><tr><th>元字符</th> <th>功能</th> <th>备注</th></tr></thead> <tbody><tr><td>.</td> <td>匹配除了换行符以外的==任意单个==字符</td> <td></td></tr> <tr><td>*</td> <td>==前导字符==出现==0==次或==连续多次==</td> <td></td></tr> <tr><td>.*</td> <td>任意长度字符</td> <td>ab.*</td></tr> <tr><td>^</td> <td>行首(以...开头)</td> <td>^root</td></tr> <tr><td>$</td> <td>行尾(以...结尾)</td> <td>bash$</td></tr> <tr><td>^$</td> <td>空行</td> <td></td></tr> <tr><td>[]</td> <td>匹配括号里任意单个字符或一组单个字符</td> <td>[abc]</td></tr> <tr><td>[^]</td> <td>匹配不包含括号里任一单个字符或一组单个字符</td> <td>[^abc]</td></tr> <tr><td>^[]</td> <td>匹配以括号里任意单个字符或一组单个字符开头</td> <td>^[abc]</td></tr> <tr><td>^[^]</td> <td>匹配不以括号里任意单个字符或一组单个字符开头</td> <td>^[^abc]</td></tr></tbody></table> <ul><li>示例文本</li></ul> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token comment"># cat 1.txt</span>
ggle
gogle
google
gooogle
goooooogle
gooooooogle
taobao<span class="token punctuation">.</span>com
taotaobaobao<span class="token punctuation">.</span>com

jingdong<span class="token punctuation">.</span>com
dingdingdongdong<span class="token punctuation">.</span>com
10<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1
Adfjd8789JHfdsdf<span class="token operator">/</span>
a87fdjfkdLKJK
7kdjfd989KJK<span class="token punctuation">;</span>
bSKJjkksdjf878<span class="token punctuation">.</span>
cidufKJHJ6576<span class="token punctuation">,</span>

hello world
helloworld yourself
</code></pre></div><ul><li>举例说明</li></ul> <div class="language-powershell extra-class"><pre class="language-powershell"><code>
</code></pre></div><h3 id="㈡-正则中其他常用元字符"><a href="#㈡-正则中其他常用元字符" class="header-anchor">#</a> ㈡ 正则中其他常用元字符</h3> <table><thead><tr><th>元字符</th> <th>功能</th> <th>备注</th></tr></thead> <tbody><tr><td>\&lt;</td> <td>取单词的头</td> <td></td></tr> <tr><td>\&gt;</td> <td>取单词的尾</td> <td></td></tr> <tr><td>\&lt;  \&gt;</td> <td>精确匹配</td> <td></td></tr> <tr><td>\{n\}</td> <td>匹配前导字符==连续出现n次==</td> <td></td></tr> <tr><td>\{n,\}</td> <td>匹配前导字符==至少出现n次==</td> <td></td></tr> <tr><td>\{n,m\}</td> <td>匹配前导字符出现==n次与m次之间==</td> <td></td></tr> <tr><td>\(   \)</td> <td>保存被匹配的字符</td> <td></td></tr> <tr><td>\d</td> <td>匹配数字（<strong>grep -P</strong>）</td> <td>[0-9]</td></tr> <tr><td>\w</td> <td>匹配字母数字下划线（<strong>grep -P</strong>）</td> <td>[a-zA-Z0-9_]</td></tr> <tr><td>\s</td> <td>匹配空格、制表符、换页符（<strong>grep -P</strong>）</td> <td>[\t\r\n]</td></tr></tbody></table> <p><strong>举例说明：</strong></p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>需求：将10<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1替换成10<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1<span class="token punctuation">.</span>254

1）vim编辑器支持正则表达式
<span class="token comment"># vim 1.txt</span>
:<span class="token operator">%</span>s<span class="token comment">#\(10.1.1\).1#\1.254#g </span>
:<span class="token operator">%</span>s<span class="token operator">/</span>\<span class="token punctuation">(</span>10<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1\<span class="token punctuation">)</span><span class="token punctuation">.</span>1<span class="token operator">/</span>\1<span class="token punctuation">.</span>254<span class="token operator">/</span>g 

2）sed支持正则表达式【后面学】
<span class="token comment"># sed -n 's#\(10.1.1\).1#\1.254#p' 1.txt</span>
10<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1<span class="token punctuation">.</span>254

说明：
找出含有10<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1的行，同时保留10<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1并标记为标签1，之后可以使用\1来引用它。
最多可以定义9个标签，从左边开始编号，最左边的是第一个。


需求：将helloworld yourself 换成hellolilei myself

<span class="token comment"># vim 1.txt</span>
:<span class="token operator">%</span>s<span class="token comment">#\(hello\)world your\(self\)#\1lilei my\2#g</span>

<span class="token comment"># sed -n 's/\(hello\)world your\(self\)/\1lilei my\2/p' 1.txt </span>
hellolilei myself

<span class="token comment"># sed -n 's/helloworld yourself/hellolilei myself/p' 1.txt </span>
hellolilei myself
<span class="token comment"># sed -n 's/\(hello\)world your\(self\)/\1lilei my\2/p' 1.txt </span>
hellolilei myself

Perl内置正则：
\d      匹配数字  <span class="token punctuation">[</span>0<span class="token operator">-</span>9<span class="token punctuation">]</span>
\w      匹配字母数字下划线<span class="token namespace">[a-zA-Z0-9_]</span>
\s      匹配空格、制表符、换页符<span class="token punctuation">[</span>\t\r\n<span class="token punctuation">]</span>

<span class="token comment"># grep -P '\d' 1.txt</span>
<span class="token comment"># grep -P '\w' 2.txt</span>
<span class="token comment"># grep -P '\s' 3.txt</span>
</code></pre></div><h3 id="㈢-扩展类正则常用元字符"><a href="#㈢-扩展类正则常用元字符" class="header-anchor">#</a> ㈢ 扩展类正则常用元字符</h3> <p><strong>==丑话说在前面：==</strong></p> <p>我说我比较特殊，你要相信！否则我错给你看😏</p> <ul><li><p>grep你要用我，必须加 <strong>==-E==</strong>  或者  让你兄弟<code>egrep</code>来找我</p></li> <li><p>sed你要用我，必须加 <strong>==-r==</strong></p></li></ul> <table><thead><tr><th>扩展元字符</th> <th>功能</th> <th>备注</th></tr></thead> <tbody><tr><td>+</td> <td>匹配一个或多个前导字符</td> <td>bo+ 匹配boo、 bo</td></tr> <tr><td>?</td> <td>匹配零个或一个前导字符</td> <td>bo? 匹配b、 bo</td></tr> <tr><td>|</td> <td>或</td> <td>匹配a或b</td></tr> <tr><td>()</td> <td>组字符（看成整体）</td> <td>(my|your)self：表示匹配myself或匹配yourself</td></tr> <tr><td>{n}</td> <td>前导字符重复n次</td> <td></td></tr> <tr><td>{n,}</td> <td>前导字符重复至少n次</td> <td></td></tr> <tr><td>{n,m}</td> <td>前导字符重复n到m次</td> <td></td></tr></tbody></table> <p><strong>举例说明：</strong></p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token comment"># grep &quot;root|ftp|adm&quot; /etc/passwd</span>
<span class="token comment"># egrep &quot;root|ftp|adm&quot; /etc/passwd</span>
<span class="token comment"># grep -E &quot;root|ftp|adm&quot; /etc/passwd</span>

<span class="token comment"># grep -E 'o+gle' test.txt </span>
<span class="token comment"># grep -E 'o?gle' test.txt </span>

<span class="token comment"># egrep 'go{2,}' 1.txt</span>
<span class="token comment"># egrep '(my|your)self' 1.txt</span>


使用正则过滤出文件中的IP地址：
<span class="token comment"># grep '[0-9]\{2\}\.[0-9]\{1\}\.[0-9]\{1\}\.[0-9]\{1\}' 1.txt </span>
10<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1
<span class="token comment"># grep '[0-9]{2}\.[0-9]{1}\.[0-9]{1}\.[0-9]{1}' 1.txt </span>
<span class="token comment"># grep -E '[0-9]{2}\.[0-9]{1}\.[0-9]{1}\.[0-9]{1}' 1.txt </span>
10<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1
<span class="token comment"># grep -E '[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}' 1.txt </span>
10<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1
<span class="token comment"># grep -E '([0-9]{1,3}\.){3}[0-9]{1,3}' 1.txt </span>
10<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1

</code></pre></div><h2 id="_5-第二类正则"><a href="#_5-第二类正则" class="header-anchor">#</a> 5. 第二类正则</h2> <table><thead><tr><th>表达式</th> <th>功能</th> <th>示例</th></tr></thead> <tbody><tr><td>[:alnum:]</td> <td>字母与数字字符</td> <td>[[:alnum:]]+</td></tr> <tr><td>[:alpha:]</td> <td>字母字符(包括大小写字母)</td> <td>[[:alpha:]]{4}</td></tr> <tr><td>[:blank:]</td> <td>空格与制表符</td> <td>[[:blank:]]*</td></tr> <tr><td>[:digit:]</td> <td>数字</td> <td>[[:digit:]]?</td></tr> <tr><td>[:lower:]</td> <td>小写字母</td> <td>[[:lower:]]{4,}</td></tr> <tr><td>[:upper:]</td> <td>大写字母</td> <td>[[:upper:]]+</td></tr> <tr><td>[:punct:]</td> <td>标点符号</td> <td>[[:punct:]]</td></tr> <tr><td>[:space:]</td> <td>包括换行符，回车等在内的所有空白</td> <td>[[:space:]]+</td></tr></tbody></table> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@server shell05]</span><span class="token comment"># grep -E '^[[:digit:]]+' 1.txt</span>
<span class="token namespace">[root@server shell05]</span><span class="token comment"># grep -E '^[^[:digit:]]+' 1.txt</span>
<span class="token namespace">[root@server shell05]</span><span class="token comment"># grep -E '[[:lower:]]{4,}' 1.txt</span>
</code></pre></div><h2 id="_6-正则表达式总结"><a href="#_6-正则表达式总结" class="header-anchor">#</a> 6. 正则表达式总结</h2> <p><strong>把握一个原则，让你轻松搞定可恶的正则符号：</strong></p> <ol><li>我要找什么？
<ul><li>找数字  		                  [0-9]</li> <li>找字母                                    [a-zA-Z]</li> <li>找标点符号                            [[:punct:]]</li></ul></li> <li>我要如何找？看心情找
<ul><li>以什么为首                           ^key</li> <li>以什么结尾                           key$</li> <li>包含什么或不包含什么        [abc]  ^[abc]   [^abc]   ^[^abc]</li></ul></li> <li>我要找多少呀？
<ul><li>找前导字符出现0次或连续多次             ab==*==</li> <li>找任意单个(一次)字符                             ab==.==</li> <li>找任意字符                                               ab==.*==</li> <li>找前导字符连续出现几次                        {n}  {n,m}   {n,}</li> <li>找前导字符出现1次或多次                      go==+==</li> <li>找前到字符出现0次或1次                       go==?==</li></ul></li></ol> <h1 id="五、正则元字符一栏表"><a href="#五、正则元字符一栏表" class="header-anchor">#</a> 五、正则元字符一栏表</h1> <p><strong>元字符</strong>：在正则中，具有特殊意义的专用字符，如: 星号(*)、加号(+)等</p> <p><strong>前导字符</strong>：元字符前面的字符叫前导字符</p> <table><thead><tr><th>元字符</th> <th>功能</th> <th>示例</th></tr></thead> <tbody><tr><td>*</td> <td>前导字符出现0次或者连续多次</td> <td>ab*  abbbb</td></tr> <tr><td>.</td> <td>除了换行符以外，任意单个字符</td> <td>ab.   ab8 abu</td></tr> <tr><td>.*</td> <td>任意长度的字符</td> <td>ab.*  adfdfdf</td></tr> <tr><td>[]</td> <td>括号里的任意单个字符或一组单个字符</td> <td>[abc][0-9][a-z]</td></tr> <tr><td>[^]</td> <td>不匹配括号里的任意单个字符或一组单个字符</td> <td>[^abc]</td></tr> <tr><td>^[]</td> <td>匹配以括号里的任意单个字符开头</td> <td>^[abc]</td></tr> <tr><td>^[^]</td> <td>不匹配以括号里的任意单个字符开头</td> <td></td></tr> <tr><td>^</td> <td>行的开头</td> <td>^root</td></tr> <tr><td>$</td> <td>行的结尾</td> <td>bash$</td></tr> <tr><td>^$</td> <td>空行</td> <td></td></tr> <tr><td>\{n\}和{n}</td> <td>前导字符连续出现n次</td> <td>[0-9]\{3\}</td></tr> <tr><td>\{n,\}和{n,}</td> <td>前导字符至少出现n次</td> <td>[a-z]{4,}</td></tr> <tr><td>\{n,m\}和{n,m}</td> <td>前导字符连续出现n-m次</td> <td>go{2,4}</td></tr> <tr><td>\&lt;\&gt;</td> <td>精确匹配单词</td> <td>\&lt;hello\&gt;</td></tr> <tr><td>\(\)</td> <td>保留匹配到的字符</td> <td>\(hello\)</td></tr> <tr><td>+</td> <td>前导字符出现1次或者多次</td> <td>[0-9]+</td></tr> <tr><td>?</td> <td>前导字符出现0次或者1次</td> <td>go?</td></tr> <tr><td>|</td> <td>或</td> <td>^root|^ftp</td></tr> <tr><td>()</td> <td>组字符</td> <td>(hello|world)123</td></tr> <tr><td>\d</td> <td>perl内置正则</td> <td>grep -P  \d+</td></tr> <tr><td>\w</td> <td>匹配字母数字下划线</td> <td></td></tr></tbody></table> <h1 id="六、正则练习作业"><a href="#六、正则练习作业" class="header-anchor">#</a> 六、正则练习作业</h1> <h2 id="_1-文件准备"><a href="#_1-文件准备" class="header-anchor">#</a> 1. 文件准备</h2> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token comment"># vim test.txt </span>
Aieur45869Root0000
9h847RkjfkIIIhello
rootHllow88000dfjj
8ikuioerhfhupliooking
hello world
192<span class="token punctuation">.</span>168<span class="token punctuation">.</span>0<span class="token punctuation">.</span>254
welcome to uplooking<span class="token punctuation">.</span>
abcderfkdjfkdtest
rlllA899kdfkdfj
iiiA848890ldkfjdkfj
abc
12345678908374
123456@qq<span class="token punctuation">.</span>com
123456@163<span class="token punctuation">.</span>com
abcdefg@itcast<span class="token punctuation">.</span>com23ed
</code></pre></div><h2 id="_2-具体要求-2"><a href="#_2-具体要求-2" class="header-anchor">#</a> 2. 具体要求</h2> <div class="language-powershell extra-class"><pre class="language-powershell"><code>1、查找不以大写字母开头的行（三种写法）。
grep <span class="token string">'^[^A-Z]'</span> 2<span class="token punctuation">.</span>txt
grep <span class="token operator">-</span>v <span class="token string">'^[A-Z]'</span> 2<span class="token punctuation">.</span>txt
grep <span class="token string">'^[^[:upper:]]'</span> 2<span class="token punctuation">.</span>txt
2、查找有数字的行（两种写法）
grep <span class="token string">'[0-9]'</span> 2<span class="token punctuation">.</span>txt
grep <span class="token operator">-</span>P <span class="token string">'\d'</span> 2<span class="token punctuation">.</span>txt
3、查找一个数字和一个字母连起来的
grep <span class="token operator">-</span>E <span class="token string">'[0-9][a-zA-Z]|[a-zA-Z][0-9]'</span> 2<span class="token punctuation">.</span>txt
4、查找不以r开头的行
grep <span class="token operator">-</span>v <span class="token string">'^r'</span> 2<span class="token punctuation">.</span>txt
grep <span class="token string">'^[^r]'</span> 2<span class="token punctuation">.</span>txt
5、查找以数字开头的
grep <span class="token string">'^[0-9]'</span> 2<span class="token punctuation">.</span>txt
6、查找以大写字母开头的
grep <span class="token string">'^[A-Z]'</span> 2<span class="token punctuation">.</span>txt
7、查找以小写字母开头的
grep <span class="token string">'^[a-z]'</span> 2<span class="token punctuation">.</span>txt
8、查找以点结束的
grep <span class="token string">'\.$'</span> 2<span class="token punctuation">.</span>txt
9、去掉空行
grep <span class="token operator">-</span>v <span class="token string">'^$'</span> 2<span class="token punctuation">.</span>txt
10、查找完全匹配abc的行
grep <span class="token string">'\&lt;abc\&gt;'</span> 2<span class="token punctuation">.</span>txt
11、查找A后有三个数字的行
grep <span class="token operator">-</span>E <span class="token string">'A[0-9]{3}'</span> 2<span class="token punctuation">.</span>txt
grep  <span class="token string">'A[0-9]\{3\}'</span> 2<span class="token punctuation">.</span>txt
12、统计root在<span class="token operator">/</span>etc<span class="token operator">/</span>passwd里出现了几次
grep <span class="token operator">-</span>o <span class="token string">'root'</span> 1<span class="token punctuation">.</span>txt <span class="token punctuation">|</span>wc <span class="token operator">-</span>l

13、用正则表达式找出自己的IP地址、广播地址、子网掩码
ifconfig eth0<span class="token punctuation">|</span>grep Bcast<span class="token punctuation">|</span>grep <span class="token operator">-</span>o <span class="token string">'[0-9]\{1,3\}\.[0-9]\{1,3\}\.[0-9]\{1,3\}\.[0-9]\{1,3\}'</span>
ifconfig eth0<span class="token punctuation">|</span>grep Bcast<span class="token punctuation">|</span> grep <span class="token operator">-</span>E <span class="token operator">-</span>o <span class="token string">'([0-9]{1,3}.){3}[0-9]{1,3}'</span>
ifconfig eth0<span class="token punctuation">|</span>grep Bcast<span class="token punctuation">|</span> grep <span class="token operator">-</span>P <span class="token operator">-</span>o <span class="token string">'\d{1,3}.\d{1,3}.\d{1,3}.\d{1,3}'</span>
ifconfig eth0<span class="token punctuation">|</span>grep Bcast<span class="token punctuation">|</span> grep <span class="token operator">-</span>P <span class="token operator">-</span>o <span class="token string">'(\d{1,3}.){3}\d{1,3}'</span>
ifconfig eth0<span class="token punctuation">|</span>grep Bcast<span class="token punctuation">|</span> grep <span class="token operator">-</span>P <span class="token operator">-</span>o <span class="token string">'(\d+.){3}\d+'</span>

<span class="token comment"># egrep --color '[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}' /etc/sysconfig/network-scripts/ifcfg-eth0</span>
IPADDR=10<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1
NETMASK=255<span class="token punctuation">.</span>255<span class="token punctuation">.</span>255<span class="token punctuation">.</span>0
GATEWAY=10<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1<span class="token punctuation">.</span>254

<span class="token comment"># egrep --color '[[:digit:]]{1,3}\.[[:digit:]]{1,3}\.[[:digit:]]{1,3}\.[[:digit:]]{1,3}' /etc/sysconfig/network-scripts/ifcfg-eth0 </span>
IPADDR=10<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1
NETMASK=255<span class="token punctuation">.</span>255<span class="token punctuation">.</span>255<span class="token punctuation">.</span>0
GATEWAY=10<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1<span class="token punctuation">.</span>254


14、找出文件中的ip地址并且打印替换成172<span class="token punctuation">.</span>16<span class="token punctuation">.</span>2<span class="token punctuation">.</span>254
grep <span class="token operator">-</span>o <span class="token operator">-</span>E <span class="token string">'([0-9]{1,3}\.){3}[0-9]{1,3}'</span> 1<span class="token punctuation">.</span>txt <span class="token punctuation">|</span>sed <span class="token operator">-</span>n <span class="token string">'s/192.168.0.\(254\)/172.16.2.\1/p'</span>

15、找出文件中的ip地址
grep <span class="token operator">-</span>o <span class="token operator">-</span>E <span class="token string">'([0-9]{1,3}\.){3}[0-9]{1,3}'</span> 1<span class="token punctuation">.</span>txt

16、找出全部是数字的行
grep <span class="token operator">-</span>E <span class="token string">'^[0-9]+$'</span> test
17、找出邮箱地址
grep <span class="token operator">-</span>E <span class="token string">'^[0-9]+@[a-z0-9]+\.[a-z]+$'</span>


grep <span class="token operator">--</span>help:
匹配模式选择：
Regexp selection and interpretation:
  <span class="token operator">-</span>E<span class="token punctuation">,</span> <span class="token operator">--</span>extended<span class="token operator">-</span>regexp     扩展正则
  <span class="token operator">-</span>G<span class="token punctuation">,</span> <span class="token operator">--</span>basic<span class="token operator">-</span>regexp        基本正则
  <span class="token operator">-</span>P<span class="token punctuation">,</span> <span class="token operator">--</span>perl<span class="token operator">-</span>regexp         调用perl的正则
  <span class="token operator">-</span>e<span class="token punctuation">,</span> <span class="token operator">--</span>regexp=PATTERN      use PATTERN <span class="token keyword">for</span> matching
  <span class="token operator">-</span>f<span class="token punctuation">,</span> <span class="token operator">--</span>file=FILE           obtain PATTERN <span class="token keyword">from</span> FILE
  <span class="token operator">-</span>i<span class="token punctuation">,</span> <span class="token operator">--</span>ignore<span class="token operator">-</span>case         忽略大小写
  <span class="token operator">-</span>w<span class="token punctuation">,</span> <span class="token operator">--</span>word<span class="token operator">-</span>regexp         匹配整个单词
  
</code></pre></div><h1 id="七、课后作业"><a href="#七、课后作业" class="header-anchor">#</a> 七、课后作业</h1> <h2 id="脚本搭建web服务"><a href="#脚本搭建web服务" class="header-anchor">#</a> 脚本搭建web服务</h2> <p><strong>要求如下</strong>：</p> <ol><li>用户输入web服务器的IP、域名以及数据根目录</li> <li>如果用户不输入则一直提示输入，直到输入为止</li> <li>当访问www.test.cc时可以访问到数据根目录里的首页文件“this is test page”</li></ol> <p><strong>参考脚本：</strong></p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>参考：
<span class="token comment">#!/bin/bash</span>
conf=<span class="token operator">/</span>etc<span class="token operator">/</span>httpd<span class="token operator">/</span>conf<span class="token operator">/</span>httpd<span class="token punctuation">.</span>conf
input_fun<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  input_var=<span class="token string">&quot;&quot;</span>
  output_var=<span class="token variable">$1</span>
  <span class="token keyword">while</span> <span class="token punctuation">[</span> <span class="token operator">-</span>z <span class="token variable">$input_var</span> <span class="token punctuation">]</span>
	<span class="token keyword">do</span>
	read <span class="token operator">-</span>p <span class="token string">&quot;<span class="token variable">$output_var</span>&quot;</span> input_var
	done
	<span class="token function">echo</span> <span class="token variable">$input_var</span>
<span class="token punctuation">}</span>
ipaddr=$<span class="token punctuation">(</span>input_fun <span class="token string">&quot;Input Host ip[192.168.0.1]:&quot;</span><span class="token punctuation">)</span>
web_host_name=$<span class="token punctuation">(</span>input_fun <span class="token string">&quot;Input VirtualHostName [www.test.cc]:&quot;</span><span class="token punctuation">)</span>
root_dir=$<span class="token punctuation">(</span>input_fun <span class="token string">&quot;Input host Documentroot dir:[/var/www/html]:&quot;</span><span class="token punctuation">)</span>

<span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token operator">-</span>d <span class="token variable">$root_dir</span> <span class="token punctuation">]</span> &amp;&amp; mkdir <span class="token operator">-</span>p <span class="token variable">$root_dir</span>
chown apache<span class="token punctuation">.</span>apache <span class="token variable">$root_dir</span> &amp;&amp; chmod 755 <span class="token variable">$root_dir</span>
<span class="token function">echo</span> this is <span class="token variable">$web_host_name</span> &gt; <span class="token variable">$root_dir</span><span class="token operator">/</span>index<span class="token punctuation">.</span>html
<span class="token function">echo</span> <span class="token string">&quot;<span class="token variable">$ipaddr</span> <span class="token variable">$web_host_name</span>&quot;</span> &gt;&gt; <span class="token operator">/</span>etc<span class="token operator">/</span>hosts

<span class="token punctuation">[</span> <span class="token operator">-</span>f <span class="token variable">$conf</span> <span class="token punctuation">]</span> &amp;&amp; <span class="token function">cat</span> &gt;&gt; <span class="token variable">$conf</span> &lt;&lt;<span class="token keyword">end</span>
NameVirtualHost <span class="token variable">$ipaddr</span>:80
&lt;VirtualHost <span class="token variable">$ipaddr</span>:80&gt;
	ServerAdmin webmaster@<span class="token variable">$web_host_name</span>
	DocumentRoot <span class="token variable">$root_dir</span>
	ServerName <span class="token variable">$web_host_name</span>
	ErrorLog logs<span class="token operator">/</span><span class="token variable">$web_host_name</span><span class="token operator">-</span>error_log
	CustomLog logs<span class="token operator">/</span><span class="token variable">$web_host_name</span><span class="token operator">-</span>access_loh common
&lt;<span class="token operator">/</span>VirtualHost&gt;
<span class="token keyword">end</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog_publish/learn/linux/05_SHELL编程之嵌套循环+随机数及综合案例_2.html" class="prev">
        /learn/linux/05_SHELL编程之嵌套循环+随机数及综合案例_2.html
      </a></span> <span class="next"><a href="/blog_publish/learn/linux/07_SHELL编程之文本处理工具sed.html">
        /learn/linux/07_SHELL编程之文本处理工具sed.html
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog_publish/assets/js/app.241410a0.js" defer></script><script src="/blog_publish/assets/js/2.92f2819f.js" defer></script><script src="/blog_publish/assets/js/279.82c19819.js" defer></script>
  </body>
</html>
