(window.webpackJsonp=window.webpackJsonp||[]).push([[313],{721:function(a,t,s){"use strict";s.r(t);var e=s(42),n=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"mybatis出现的bug"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mybatis出现的bug"}},[a._v("#")]),a._v(" MyBatis出现的bug")]),a._v(" "),s("h2",{attrs:{id:"一、invalid-bound-statement-not-found"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、invalid-bound-statement-not-found"}},[a._v("#")]),a._v(" 一、Invalid bound statement (not found)")]),a._v(" "),s("h3",{attrs:{id:"问题描述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#问题描述"}},[a._v("#")]),a._v(" 问题描述")]),a._v(" "),s("p",[a._v("在SpringBoot项目中，把mapper.java与mapper.xml文件放在同一个包中，在application.properties配置文件中没有指定mapper.xml文件的位置，就出现了绑定异常。也就是mapper接口找不到对应的xml文件。")]),a._v(" "),s("p",[s("a",{attrs:{"data-fancybox":"",title:"image-20200322161659849",href:"https://blog-1301073803.cos.ap-chengdu.myqcloud.com/typora/a0e5fbff-92a8-4d10-8478-956b1715bd25.png"}},[s("img",{attrs:{src:"https://blog-1301073803.cos.ap-chengdu.myqcloud.com/typora/a0e5fbff-92a8-4d10-8478-956b1715bd25.png",alt:"image-20200322161659849"}})])]),a._v(" "),s("h3",{attrs:{id:"解决方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决方法"}},[a._v("#")]),a._v(" 解决方法")]),a._v(" "),s("p",[a._v("第一种：")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("将mapper.xml文件移动到resources目录下。")])]),a._v(" "),s("li",[s("p",[a._v("在resources文件夹下新建一个文件夹，命名为mapper。")])]),a._v(" "),s("li",[s("p",[a._v("将mapper.xml文件移动到该文件夹下。")])]),a._v(" "),s("li",[s("p",[a._v("在application.properties配置文件中添加以下配置")]),a._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("mybatis.mapper-locations")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("classpath:mapper/*.xml")]),a._v("\n")])])])])]),a._v(" "),s("p",[a._v("第二种：")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("对mapper.xml文件不做任何修改")])]),a._v(" "),s("li",[s("p",[a._v("在pom.xml文件中添加以下配置")]),a._v(" "),s("p",[a._v("在project -> build 节点中添加配置信息")]),a._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("resources")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("resource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("directory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("src/main/java"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("directory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("includes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n            "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("include")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("**/*.xml"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("include")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("includes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("resource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("resource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("directory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("src/main/resources"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("directory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("resource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("resources")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])])])]),a._v(" "),s("li",[s("p",[a._v("测试成功")])])]),a._v(" "),s("h2",{attrs:{id:"二、查询结果映射失败"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、查询结果映射失败"}},[a._v("#")]),a._v(" 二、查询结果映射失败")]),a._v(" "),s("p",[a._v("可能的原因：")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("在数据库中字段是以下划线方式命名，而在java中是以驼峰方式命令。这种情况，在application.properties中添加以下配置：")]),a._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("mybatis.configuration.map-underscore-to-camel-case")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("true")]),a._v("\n")])])])])]),a._v(" "),s("p",[a._v("三、配置别名时，没有指定包路径")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("出现的异常")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'attrMapper' defined in file [E:\\Document\\WorkSpace\\Idea\\study\\MyBatis\\mybatis-02\\target\\classes\\com\\it\\mybatis\\mapper\\AttrMapper.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is 'com/it/mybatis/mapper/AttrMapper.xml'. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'pmsAttr'.  Cause: java.lang.ClassNotFoundException: Cannot find class: pmsAttr\n")])])])]),a._v(" "),s("li",[s("p",[a._v("在application.properties文件中添加以下配置（任选一个）")]),a._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("mybatis.type-aliases-package")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("com.it.mybatis.bean")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("mybatis.type-aliases-package")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("com.**.bean")]),a._v("\n")])])])])])])}),[],!1,null,null,null);t.default=n.exports}}]);