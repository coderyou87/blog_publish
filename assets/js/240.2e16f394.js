(window.webpackJsonp=window.webpackJsonp||[]).push([[240],{380:function(t,s,a){"use strict";a.r(s);var n=a(42),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("[toc]\n#课程目标")]),t._v(" "),a("ul",[a("li",[t._v("==掌握for循环语句的基本语法结构==")]),t._v(" "),a("li",[t._v("==掌握while和until循环语句的基本语法结构==")]),t._v(" "),a("li",[t._v("能会使用RANDOM产生随机数")]),t._v(" "),a("li",[t._v("理解嵌套循环")])]),t._v(" "),a("h1",{attrs:{id:"一、随机数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、随机数"}},[t._v("#")]),t._v(" 一、随机数")]),t._v(" "),a("p",[a("strong",[t._v("关键词：一切都是未知数，永远不知道明天会抽什么风")]),t._v("🎐😅")]),t._v(" "),a("h2",{attrs:{id:"_1-如何生成随机数？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-如何生成随机数？"}},[t._v("#")]),t._v(" 1. 如何生成随机数？")]),t._v(" "),a("p",[a("strong",[t._v("系统变量")]),t._v("："),a("strong",[t._v("==RANDOM==")]),t._v("，默认会产生0~32767的随机整数")]),t._v(" "),a("p",[t._v("**前言：**要想调用变量，不管你是什么变量都要给钱，而且是美元💲")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("打印一个随机数\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),t._v("\n查看系统上一次生成的随机数\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# set|grep RANDOM")]),t._v("\nRANDOM=28325\n\n产生0~1之间的随机数\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n产生0~2之间的随机数\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n产生0~3之间的随机数\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n产生0~9内的随机数\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n产生0~100内的随机数\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("101"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n\n产生50"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("100之内的随机数\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("51"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("50"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n产生三位数的随机数\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("900"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("100"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("h2",{attrs:{id:"_2-实战案例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-实战案例"}},[t._v("#")]),t._v(" 2. 实战案例")]),t._v(" "),a("h3",{attrs:{id:"㈠-随机产生以139开头的电话号码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#㈠-随机产生以139开头的电话号码"}},[t._v("#")]),t._v(" ㈠ 随机产生以139开头的电话号码")]),t._v(" "),a("p",[a("strong",[t._v("具体需求1：")])]),t._v(" "),a("p",[t._v("写一个脚本，产生一个phonenum.txt文件，随机产生以139开头的手机号1000个，每个一行。")]),t._v(" "),a("h4",{attrs:{id:"①-思路"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#①-思路"}},[t._v("#")]),t._v(" ① 思路")]),t._v(" "),a("ol",[a("li",[t._v("产生1000个电话号码，脚本需要循环1000次 "),a("code",[t._v("FOR WHILE UNTIL")])]),t._v(" "),a("li",[t._v("139+8位,后8位随机产生，可以让每一位数字都随机产生  "),a("code",[t._v("echo $[$RANDOM%10]")])]),t._v(" "),a("li",[t._v("将随机产生的数字分别保存到变量里，然后加上139保存到文件里")])]),t._v(" "),a("h4",{attrs:{id:"②-落地实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#②-落地实现"}},[t._v("#")]),t._v(" ② 落地实现")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/env bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#产生1000个以139开头的电话号码并保存文件phonenum.txt")]),t._v("\nfile="),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("shell03"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("phonenum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i=1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i<=1000"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i+"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\tn1=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn2=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn3=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn4=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn5=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn6=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn7=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn8=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"139'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n1")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n2")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n3")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n4")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n5")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n6")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n7")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n8")]),t._v('"')]),t._v(" >> "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file")]),t._v("\ndone\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# random phonenum")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 循环1000次产生电话号码并保存到文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i in "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1000"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\tn1=$"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[RANDOM%10]")]),t._v("\n\tn2=$"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[RANDOM%10]")]),t._v("\n\tn3=$"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[RANDOM%10]")]),t._v("\n\tn4=$"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[RANDOM%10]")]),t._v("\n\tn5=$"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[RANDOM%10]")]),t._v("\n\tn6=$"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[RANDOM%10]")]),t._v("\n\tn7=$"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[RANDOM%10]")]),t._v("\n\tn8=$"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[RANDOM%10]")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"139'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n1")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n2")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n3")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n4")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n5")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n6")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n7")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n8")]),t._v('"')]),t._v(" >> phonenum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\ndone\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\ni=1\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$i")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-le")]),t._v(" 1000 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\tn1=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn2=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn3=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn4=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn5=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn6=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn7=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn8=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"139'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n1")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n2")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n3")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n4")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n5")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n6")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n7")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n8")]),t._v('"')]),t._v(" >> phonenum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n\tlet i+"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\ndone\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("continue")]),t._v(":继续，跳过本次循环，执行下一次循环\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),t._v(":打断，执行循环体外的代码"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("done外\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exit")]),t._v(":退出程序\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i in "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1000"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\tn1=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn2=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn3=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn4=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn5=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn6=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn7=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn8=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"139'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n1")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n2")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n3")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n4")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n5")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n6")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n7")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n8")]),t._v('"')]),t._v(" >> phonenum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\ndone\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#create phone num file")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i=1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i<=1000"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i+"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\tn1=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn2=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn3=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn4=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn5=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn6=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn7=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn8=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"139'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n1")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n2")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n3")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n4")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n5")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n6")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n7")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n8")]),t._v('"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tee")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("a phonenum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\ndone\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\ncount=0\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" true\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\tn1=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn2=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn3=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn4=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn5=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn6=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn7=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tn8=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"139'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n1")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n2")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n3")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n4")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n5")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n6")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n7")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$n8")]),t._v('"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tee")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("a phonenum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt && let count+"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$count")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-eq")]),t._v(" 1000 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("then\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),t._v("\n\tfi\ndone\n")])])]),a("h3",{attrs:{id:"㈡-随机抽出5位幸运观众"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#㈡-随机抽出5位幸运观众"}},[t._v("#")]),t._v(" ㈡ 随机抽出5位幸运观众")]),t._v(" "),a("p",[a("strong",[t._v("具体需求：")])]),t._v(" "),a("ol",[a("li",[t._v("在上面的1000个手机号里抽奖==5个==幸运观众，显示出这5个幸运观众。")]),t._v(" "),a("li",[t._v("但只显示头3个数和尾号的4个数，中间的都用*代替")])]),t._v(" "),a("h4",{attrs:{id:"①-思路-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#①-思路-2"}},[t._v("#")]),t._v(" ① 思路")]),t._v(" "),a("ol",[a("li",[t._v("确定幸运观众所在的行\t"),a("code",[t._v("0-1000 随机找出一个数字 $[$RANDOM%1000+1]")])]),t._v(" "),a("li",[t._v("将电话号码提取出来      "),a("code",[t._v("head -随机产生行号 phonenum.txt |tail -1")])]),t._v(" "),a("li",[t._v("==显示==前3个和后4个数到屏幕   "),a("code",[t._v("echo 139****")])])]),t._v(" "),a("h4",{attrs:{id:"②-落地实现-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#②-落地实现-2"}},[t._v("#")]),t._v(" ② 落地实现")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#定义变量")]),t._v("\nphone="),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("shell03"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("phonenum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#循环抽出5位幸运观众")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i=1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i<=5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i+"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#定位幸运观众所在行号")]),t._v("\n\tline=`wc "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("l "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$phone")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("cut "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("d"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' '")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f1`\n\tluck_line=$"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[RANDOM%$line+1]")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#取出幸运观众所在行的电话号码")]),t._v("\n\tluck_num=`head "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$luck_line")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$phone")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("tail "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("1`\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#显示到屏幕")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"139****${luck_num:7:4}"')]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$luck_num")]),t._v(" >> luck"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#删除已经被抽取的幸运观众号码")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#sed -i "/$luck_num/d" $phone')]),t._v("\ndone\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\nfile="),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("shell04"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("phonenum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i in "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\tfile_num=`wc "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("l "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("cut "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("d"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' '")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f1`\n\tline=`"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file_num")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("`\n\tluck=`head "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$line")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("tail "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("1`\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"139****${luck:7:4}"')]),t._v(" && "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$luck")]),t._v(" >> "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("shell04"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("luck_num"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\ndone\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i=1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i<=5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i+"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\nfile=phonenum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\nline=`"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" phonenum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("wc "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("l`\t1000\nluckline=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$line")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nphone=`"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("head "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$luckline")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("tail "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("1`\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"幸运观众为:139****${phone:7:4}"')]),t._v("\ndone\n\n\n或者\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# choujiang")]),t._v("\nphone=phonenum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i=1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i<=5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i+"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\tnum=`wc "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("l phonenum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("cut "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("d"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' '")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f1`\n\tline=`"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$num")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("`\n\tluck=`head "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$line")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$phone")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("tail "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("1`\n\tsed "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$luck")]),t._v('/d"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$phone")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"幸运观众是:139****${luck:7:4}"')]),t._v("\ndone\n\n")])])]),a("h3",{attrs:{id:"㈢-批量创建用户-密码随机产生"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#㈢-批量创建用户-密码随机产生"}},[t._v("#")]),t._v(" ㈢ 批量创建用户(密码随机产生)")]),t._v(" "),a("p",[t._v("**需求：**批量创建5个用户，每个用户的密码为一个随机数")]),t._v(" "),a("h4",{attrs:{id:"①-思路-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#①-思路-3"}},[t._v("#")]),t._v(" ① 思路")]),t._v(" "),a("ol",[a("li",[t._v("循环5次创建用户")]),t._v(" "),a("li",[t._v("产生一个密码文件来保存用户的随机密码")]),t._v(" "),a("li",[t._v("从密码文件中取出随机密码赋值给用户")])]),t._v(" "),a("h4",{attrs:{id:"②-落地实现-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#②-落地实现-3"}},[t._v("#")]),t._v(" ② 落地实现")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#crate user and set passwd")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#产生一个保存用户名和密码的文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" user0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(":itcast$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("9000"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("1000"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#@~|tr ' ' '\\n'>> user_pass.file")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#循环创建5个用户")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i=1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i<=5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i+"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\tuser=`head "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$i")]),t._v(" user_pass"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("tail "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("cut "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("d: "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f1`\n\tpass=`head "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$i")]),t._v(" user_pass"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("tail "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("cut "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("d: "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f2`\n\tuseradd "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$user")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$pass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("passwd "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("stdin "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$user")]),t._v("\ndone\n\n或者\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i in `"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" user_pass"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("file`\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\tuser=`"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$i")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("cut "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("d: "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f1`\n\tpass=`"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$i")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("cut "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("d: "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f2`\n\tuseradd "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$user")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$pass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("passwd "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("stdin "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$user")]),t._v("\ndone\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#crate user and set passwd")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#产生一个保存用户名和密码的文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" user0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(":itcast$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RANDOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("9000"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("1000"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#@~|tr ' ' '\\n'|tr ':' ' ' >> user_pass.file")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#循环创建5个用户")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" read user pass\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\nuseradd "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$user")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$pass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("passwd "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("stdin "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$user")]),t._v("\ndone < user_pass"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("file\n\n\npwgen工具产生随机密码：\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server shell04]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# pwgen -cn1 12")]),t._v("\nMeep5ob1aesa\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server shell04]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# echo user0{1..3}:$(pwgen -cn1 12)")]),t._v("\nuser01:Bahqu9haipho user02:Feiphoh7moo4 user03:eilahj5eth2R\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server shell04]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# echo user0{1..3}:$(pwgen -cn1 12)|tr ' ' '\\n'")]),t._v("\nuser01:eiwaShuZo5hi\nuser02:eiDeih7aim9k\nuser03:aeBahwien8co\n")])])]),a("h1",{attrs:{id:"二、嵌套循环"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、嵌套循环"}},[t._v("#")]),t._v(" 二、嵌套循环")]),t._v(" "),a("p",[a("strong",[t._v("关键字：大圈套小圈")])]),t._v(" "),a("p",[t._v("🕒"),a("strong",[t._v("时钟")]),t._v("：分针与秒针，秒针转⼀圈（60格），分针转1格。循环嵌套就是外层循环⼀次，内层循环⼀轮。")]),t._v(" "),a("ol",[a("li",[t._v("一个==循环体==内又包含另一个"),a("strong",[t._v("完整")]),t._v("的循环结构，称为循环的嵌套。")]),t._v(" "),a("li",[t._v("每次外部循环都会==触发==内部循环，直至内部循环完成，才接着执行下一次的外部循环。")]),t._v(" "),a("li",[t._v("for循环、while循环和until循环可以"),a("strong",[t._v("相互")]),t._v("嵌套。")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/env bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i=1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i<=5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i+"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\t\n\tdone\n\ndone\n")])])]),a("p",[t._v("##1. 应用案例")]),t._v(" "),a("h3",{attrs:{id:"㈠-打印指定图案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#㈠-打印指定图案"}},[t._v("#")]),t._v(" ㈠ 打印指定图案")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("1\n12\n123\n1234\n12345\n\n5\n54\n543\n5432\n54321\n\n外部循环：打印换行，并且换5行 ，循环5次\n\n内部循环：打印54321数字\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("y=5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("y>=1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("y-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x=5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("x>=1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("x-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\t\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$x")]),t._v("\n\tdone\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v("\ndone\n\n")])])]),a("h3",{attrs:{id:"㈡-落地实现1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#㈡-落地实现1"}},[t._v("#")]),t._v(" ㈡ 落地实现1")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("X轴：\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i=1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i<=5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i+"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$i")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("done\nY轴：\n负责打印换行\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("y=1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("y<=5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("y+"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x=1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("x<="),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$y")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("x+"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$x")]),t._v("\n\tdone\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v("\ndone\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("y=1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("y<=5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("y+"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\tx=1\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$x")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-le")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$x")]),t._v("\n\t\tlet x+"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n\t\tdone\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v("\ndone\n")])])]),a("h3",{attrs:{id:"㈢-落地实现2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#㈢-落地实现2"}},[t._v("#")]),t._v(" ㈢ 落地实现2")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("Y轴：打印换行\nX轴：打印数字 5"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("1\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\ny=5\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$y")]),t._v(" >= 1 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x=5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("x>="),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$y")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("x-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$x")]),t._v("\n\tdone\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v("\nlet y-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\ndone\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" y=5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("y>=1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("y-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" x=5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("x>="),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$y")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("x-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$x")]),t._v("\n\tdone\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v("\ndone\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\ny=5\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-ge")]),t._v(" 1 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x=5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("x>="),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$y")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("x-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$x")]),t._v("\n\tdone\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v("\nlet y-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\ndone\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\ny=1\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("until")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$y")]),t._v(" >5 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\tx=1\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$x")]),t._v(" <= "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("n $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("6"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$x")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tlet x+"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n\tdone\t\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v("\nlet y+"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\ndone\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/env bash")]),t._v("\ny=1\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$y")]),t._v("<= 5 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x=5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("x>=6"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$y")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("x-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$x")]),t._v("\n\n        done\n\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v("\nlet y+"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\ndone\n\n\n\n课后打印：\n54321\n5432\n543\n54\n5\n\n")])])]),a("p",[t._v("##2. 课堂练习")]),t._v(" "),a("p",[a("strong",[t._v("打印九九乘法表（三种方法）")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("1=1\n\n1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("2=2   2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("2=4\n\n1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("3=3   2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("3=6   3"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("3=9\n\n1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("4=4   2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("4=8   3"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("4=12  4"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("4=16\n\n1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("5=5   2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("5=10  3"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("5=15  4"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("5=20  5"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("5=25\n\n1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("6=6   2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("6=12  3"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("6=18  4"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("6=24  5"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("6=30  6"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("6=36\n\n1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("7=7   2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("7=14  3"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("7=21  4"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("7=28  5"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("7=35  6"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("7=42  7"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("7=49\n\n1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("8=8   2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("8=16  3"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("8=24  4"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("8=32  5"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("8=40  6"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("8=48  7"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("8=56  8"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("8=64\n\n1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("9=9   2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("9=18  3"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("9=27  4"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("9=36  5"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("9=45  6"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("9=54  7"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("9=63  8"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("9=72  9"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("9=81\n\n\nY轴：循环9次，打印9行空行\nX轴：循环次数和Y轴相关；打印的是X和Y轴乘积 $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("y=1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("y<=9"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("y+"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x=1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("x<="),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$y")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("x+"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-ne")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$x")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$y")]),t._v("=$["),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$x")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$y")]),t._v(']\\t"')]),t._v("\n\tdone\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v("\ndone\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\ny=1\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-le")]),t._v(" 9 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n        x=1\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$x")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-le")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-ne")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$x")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$y")]),t._v("=$["),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$x")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$y")]),t._v(']\\t"')]),t._v("\n                let x+"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n        done\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v("\nlet y+"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\ndone\n\n或者\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i in `seq 9`\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" j in `seq "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$i")]),t._v("`\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-ne")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$j")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$i")]),t._v("=$["),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$i")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$j")]),t._v(']\\t"')]),t._v("\n    done\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v("\ndone\n或者\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\ny=1\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("until")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-gt")]),t._v(" 9 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n        x=1\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("until")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$x")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-gt")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-ne")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$x")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$y")]),t._v("=$[ "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$x")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$y")]),t._v(' ]\\t"')]),t._v("\n                let x+"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n        done\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v("\nlet y+"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\ndone\n\n")])])]),a("h1",{attrs:{id:"三、阶段性补充总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、阶段性补充总结"}},[t._v("#")]),t._v(" 三、阶段性补充总结")]),t._v(" "),a("h2",{attrs:{id:"_1-变量定义"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-变量定义"}},[t._v("#")]),t._v(" 1. 变量定义")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('1）变量名=变量值\necho $变量名\necho ${变量名}\n\n2）read -p "提示用户信息:" 变量名\n\n3） declare -i/-x/-r  变量名=变量值\n\n')])])]),a("h2",{attrs:{id:"_2-流程控制语句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-流程控制语句"}},[t._v("#")]),t._v(" 2. 流程控制语句")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("1）"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" 条件判断 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("then\n\t\tcommand\n\tfi\n\t\n2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" 条件判断 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("then\n\t\tcommand\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n   \tcommand\n   fi\n   \n 3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" 条件判断1 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("then\n \t\tcommand1\n \t elif "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" 条件判断2 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("then\n \t \tcommand2\n \t "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n    \tcommand3\n   fi \t\n   \n")])])]),a("h2",{attrs:{id:"_3-循环语句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-循环语句"}},[t._v("#")]),t._v(" 3. 循环语句")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("目的：某个动作重复去做，用到循环\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("until")]),t._v("\n")])])]),a("h2",{attrs:{id:"_4-影响shell程序的内置命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-影响shell程序的内置命令"}},[t._v("#")]),t._v(" 4. 影响shell程序的内置命令")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exit")]),t._v("\t\t\t退出整个程序\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),t._v("\t\t   结束当前循环，或跳出本层循环\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("continue")]),t._v(" \t忽略本次循环剩余的代码，直接进行下一次循环\nshift\t\t\t使位置参数向左移动，默认移动1位，可以使用shift 2\n\n:\ntrue\nfalse\n\n")])])]),a("p",[a("strong",[t._v("举例说明：")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("以下脚本都能够实现用户自定义输入数字，然后脚本计算和：\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@MissHou shell04]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cat shift.sh ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\nsum=0\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -ne 0 ]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\nlet sum="),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sum")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v("\nshift\ndone\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" sum="),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sum")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@MissHou shell04]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cat for3.sh ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\nsum=0\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\nlet sum="),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sum")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$i")]),t._v("\ndone\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" sum="),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sum")]),t._v("\n")])])]),a("p",[t._v("##5. 补充扩展expect")]),t._v(" "),a("p",[t._v("expect 自动应答  tcl语言")]),t._v(" "),a("p",[t._v("**需求1：**A远程登录到server上什么都不做")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/usr/bin/expect")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 开启一个程序")]),t._v("\nspawn ssh root@10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 捕获相关内容")]),t._v("\nexpect "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"(yes/no)?"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" send "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yes\\r"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("exp_continue "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"password:"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" send "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"123456\\r"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\ninteract   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("交互\n\n脚本执行方式：\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ./expect1.sh")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# /shell04/expect1.sh")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# expect -f expect1.sh")]),t._v("\n\n1）定义变量\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/usr/bin/expect")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),t._v(" ip 10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),t._v(" pass 123456\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),t._v(" timeout 5\nspawn ssh root@"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ip")]),t._v("\nexpect "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yes/no"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" send "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yes\\r"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("exp_continue "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"password:"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" send "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$pass")]),t._v('\\r"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\ninteract\n\n\n2）使用位置参数\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/usr/bin/expect")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),t._v(" ip "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" lindex "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$argv")]),t._v(" 0 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),t._v(" pass "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" lindex "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$argv")]),t._v(" 1 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),t._v(" timeout 5\nspawn ssh root@"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ip")]),t._v("\nexpect "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yes/no"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" send "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yes\\r"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("exp_continue "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"password:"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" send "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$pass")]),t._v('\\r"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\ninteract\n\n")])])]),a("p",[t._v("**需求2：**A远程登录到server上操作")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/usr/bin/expect")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),t._v(" ip 10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),t._v(" pass 123456\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),t._v(" timeout 5\nspawn ssh root@"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ip")]),t._v("\nexpect "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yes/no"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" send "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yes\\r"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("exp_continue "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"password:"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" send "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$pass")]),t._v('\\r"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nexpect "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#"')]),t._v("\nsend "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rm -rf /tmp/*\\r"')]),t._v("\nsend "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"touch /tmp/file{1..3}\\r"')]),t._v("\nsend "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"date\\r"')]),t._v("\nsend "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"exit\\r"')]),t._v("\nexpect eof\n\n")])])]),a("p",[t._v("**需求3：**shell脚本和expect结合使用，在==多台服务器==上创建1个用户")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server shell04]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cat ip.txt ")]),t._v("\n10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1 123456\n10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("2 123456\n\n\n1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" 循环  useradd username\n2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" 登录远程主机——>ssh——>从ip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt文件里获取IP和密码分别赋值给两个变量\n3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" 使用expect程序来解决交互问题\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 循环在指定的服务器上创建用户和文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" read ip pass\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("expect <<"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("END")]),t._v(" &>"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("null\n\tspawn ssh root@"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ip")]),t._v("\n\texpect "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yes/no"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" send "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yes\\r"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("exp_continue "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"password:"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" send "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$pass")]),t._v('\\r"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\texpect "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" send "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"useradd yy1;rm -rf /tmp/*;exit\\r"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\texpect eof\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("END")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ip")]),t._v('服务器用户创建完毕"')]),t._v("\ndone < ip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" ip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" read ip pass\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("expect <<"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("HOU\n        spawn ssh root@"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ip")]),t._v("\n        expect "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yes/no"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" send "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yes\\r"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("exp_continue "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"password:"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" send "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$pass")]),t._v('\\r"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        expect "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#"')]),t._v("\n        send "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hostname\\r"')]),t._v("\n        send "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"exit\\r"')]),t._v("\n        expect eof\n        HOU\n\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("&\ndone\nwait\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user is ok...."')]),t._v("\n\n\n或者\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" read ip pass\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("expect <<"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("HOU\n        spawn ssh root@"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ip")]),t._v("\n        expect "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yes/no"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" send "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yes\\r"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("exp_continue "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"password:"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" send "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$pass")]),t._v('\\r"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        expect "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#"')]),t._v("\n        send "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hostname\\r"')]),t._v("\n        send "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"exit\\r"')]),t._v("\n        expect eof\n        HOU\n\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("&\ndone<ip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\nwait\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user is ok...."')]),t._v("\n")])])]),a("p",[t._v("#四、综合案例")]),t._v(" "),a("p",[t._v("##1. 实战案例1")]),t._v(" "),a("h3",{attrs:{id:"㈠-具体需求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#㈠-具体需求"}},[t._v("#")]),t._v(" ㈠ 具体需求")]),t._v(" "),a("p",[t._v("写一个脚本，将跳板机上yunwei用户的公钥推送到==局域网内==可以ping通的所有机器上")]),t._v(" "),a("p",[t._v("说明：主机和密码文件已经提供")]),t._v(" "),a("p",[t._v("10.1.1.1:123456")]),t._v(" "),a("p",[t._v("10.1.1.2:123456")]),t._v(" "),a("h3",{attrs:{id:"㈡-案例分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#㈡-案例分析"}},[t._v("#")]),t._v(" ㈡ 案例分析")]),t._v(" "),a("ol",[a("li",[t._v("跳板机上的yunwei用户生成秘钥对\n"),a("ul",[a("li",[t._v("判断账号是否存在  (id yunwei)")]),t._v(" "),a("li",[t._v("判断该用户是否有密钥对文件  [ -f xxx ]")])])]),t._v(" "),a("li",[t._v("判断expect程序是否安装")]),t._v(" "),a("li",[t._v("判断局域网内主机是否ping通（循环判断|for while until）\n"),a("ul",[a("li",[t._v("循环判断  for  while")]),t._v(" "),a("li",[t._v("循环体do......done    ping 主机  如果ping通 调用expect程序自动应答推送公钥")])])]),t._v(" "),a("li",[t._v("测试验证是否免密登录成功")])]),t._v(" "),a("ul",[a("li",[t._v("检查服务器上ssh服务端口号")]),t._v(" "),a("li",[t._v("把公钥推送成功的主机的信息保存到文件")]),t._v(" "),a("li",[t._v("关闭防火墙和selinux")]),t._v(" "),a("li",[t._v("日志记录")]),t._v(" "),a("li",[t._v("推送公钥需要自动应答expect")])]),t._v(" "),a("h3",{attrs:{id:"㈢-落地实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#㈢-落地实现"}},[t._v("#")]),t._v(" ㈢ 落地实现")]),t._v(" "),a("h4",{attrs:{id:"①-代码拆分"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#①-代码拆分"}},[t._v("#")]),t._v(" ① 代码拆分")]),t._v(" "),a("p",[t._v("功能1：管理员root创建yunwei用户和安装expect软件包")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/env bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 实现批量推送公钥")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 判断jumper上的yunwei账号是否存在")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\nid yunwei\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" $? "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-ne")]),t._v(" 0 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" && useradd yunwei && "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" 123"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("passwd "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("stdin yunwei\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" &>"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("null\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#判断expect程序是否安装")]),t._v("\nrpm "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("q expect\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" $? "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-ne")]),t._v(" 0 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" && yum "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("y install expect && "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"expect软件已经成功安装"')]),t._v("\n")])])]),a("p",[t._v("功能2：判断主机是否ping通并且==yunwei用户==推送公钥")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/env bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 判断yunwei用户密钥对是否存在")]),t._v("\nhome_dir="),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("home"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("yunwei\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$home_dir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ssh"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("id_rsa"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pub "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" && ssh"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("keygen "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("P "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f id_rsa &>"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("null\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#循环检查主机的网络并且进行公钥推送")]),t._v("\nip_txt="),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$home_dir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i in `"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ip_txt")]),t._v("`\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\tip=`"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$i")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("cut "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("d: "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f1`\n\tpass=`"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$i")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("cut "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("d: "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f2`\n\tping "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("c1 "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ip")]),t._v(" &>"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("null\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" $? "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-eq")]),t._v(" 0 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("then\n\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ip")]),t._v(" >> ~"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ip_up"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n\t\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("expect <<"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("END")]),t._v(" &>"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("null\n\t\tspawn ssh"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("copy")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("id root@"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ip")]),t._v("\n\t\texpect\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"(yes/no)"')]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" send "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yes\\n"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("exp_continue "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"password:"')]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" send "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$pass")]),t._v('\\n"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\texpect eof\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("END")]),t._v("\t\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ip")]),t._v(" >> "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$home_dir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ip_down"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n\tfi\ndone\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 测试验证")]),t._v("\nremote_ip=`head "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("1 ~"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ip_up"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt`\nssh root@"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$remote_ip")]),t._v(" hostname\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" $? "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-eq")]),t._v(" 0 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" && "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"公钥推送成功"')]),t._v("\n")])])]),a("h4",{attrs:{id:"②-最终实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#②-最终实现"}},[t._v("#")]),t._v(" ② 最终实现")]),t._v(" "),a("ol",[a("li",[a("strong",[t._v("环境准备")])])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("jumper"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("server\t有yunwei用户\n\nyunwei用户sudo授权：\nvisudo\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## Allow root to run any commands anywhere")]),t._v("\nroot    ALL="),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ALL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("       ALL\nyunwei  ALL="),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("      NOPASSWD:ALL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("shutdown"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("init"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("rf "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n\n解释说明：\n1）第一个字段yunwei指定的是用户：可以是用户名，也可以是别名。每个用户设置一行，多个用户设置多行，也可以将多个用户设置成一个别名后再进行设置。\n2）第二个字段ALL指定的是用户所在的主机：可以是ip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("也可以是主机名，表示该sudo设置只在该主机上生效，ALL表示在所有主机上都生效！限制的一般都是本机，也就是限制使用这个文件的主机"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("一般都指定为"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ALL"')]),t._v("表示所有的主机，不管文件拷到那里都可以用。比如：10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1="),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("则表示只在当前主机生效。\n3）第三个字段（root）括号里指定的也是用户：指定以什么用户身份执行sudo，即使用sudo后可以享有所有root账号下的权限。如果要排除个别用户，可以在括号内设置，比如ALL="),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ALL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("oracle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("pos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("。\n4）第四个字段ALL指定的是执行的命令：即使用sudo后可以执行所有的命令。除了关机和删除根内容以外；也可以设置别名。NOPASSWD: ALL表示使用sudo的不需要输入密码。\n5）也可以授权给一个用户组\n\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("admin ALL="),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ALL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" ALL\t表示admin组里的所有成员可以在任何主机上以任何用户身份执行任何命令\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[a("strong",[t._v("脚本实现")])])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#判断公钥是否存在")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("home"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("yunwei"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ssh"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("id_rsa "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" && ssh"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("keygen "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("P "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f ~"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ssh"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("id_rsa\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#循环判断主机是否ping通，如果ping通推送公钥")]),t._v("\ntr "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("':'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' '")]),t._v(" < "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("shell04"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" read ip pass\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        ping "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("c1 "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ip")]),t._v(" &>"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("null\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" $? "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-eq")]),t._v(" 0 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("then\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ip")]),t._v(" >> ~"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ip_up"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("expect <<"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("END")]),t._v(" &>"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("null\n         spawn ssh"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("copy")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("id root@"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ip")]),t._v("\n         expect "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yes/no"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" send "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yes\\r"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("exp_continue "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"password:"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" send "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$pass")]),t._v('\\r"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        expect eof\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("END")]),t._v("\n        fi\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("&\ndone\nwait\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"公钥已经推送完毕，正在测试...."')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#测试验证")]),t._v("\nremote_ip=`tail "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("1 ~"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ip_up"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt`\nssh root@"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$remote_ip")]),t._v(" hostname &>"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("null\ntest $? "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-eq")]),t._v(" 0 && "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"公钥成功推送完毕"')]),t._v("\n")])])]),a("p",[t._v("##2. 实战案例2")]),t._v(" "),a("p",[t._v("写一个脚本，统计web服务的不同==连接状态==个数")]),t._v(" "),a("ol",[a("li",[t._v("找出查看网站连接状态的命令  "),a("code",[t._v("ss -natp|grep :80")])]),t._v(" "),a("li",[t._v("如何统计==不同的==状态   循环去统计，需要计算")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#count_http_80_state")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#统计每个状态的个数")]),t._v("\n\ndeclare "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("A array1\nstates=`ss "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ant"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("grep 80"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("cut "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("d"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' '")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f1`\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i in "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$states")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n        let array1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$i")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("\ndone\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#通过遍历数组里的索引和元素打印出来")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" j in $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("array1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$j")]),t._v(":$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("array1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$j")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\ndone\n\n\n")])])]),a("p",[t._v("#五、课后实战")]),t._v(" "),a("p",[t._v("1、将/etc/passwd里的用户名分类，分为管理员用户，系统用户，普通用户。\n2、写一个倒计时脚本，要求显示离2019年1月1日（元旦）的凌晨0点，还有多少天，多少时，多少分，多少秒。\n3、写一个脚本把一个目录内的所有==空文件==都删除，最后输出删除的文件的个数。")])])}),[],!1,null,null,null);s.default=e.exports}}]);