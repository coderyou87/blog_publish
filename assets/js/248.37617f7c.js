(window.webpackJsonp=window.webpackJsonp||[]).push([[248],{656:function(e,t,s){"use strict";s.r(t);var r=s(42),a=Object(r.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"docker拉取镜像时出现错误-error-response-from-daemon-get-https-registry-1-docker-io-v2-x509-certificate-has-expired-or-is-not-yet-valid"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker拉取镜像时出现错误-error-response-from-daemon-get-https-registry-1-docker-io-v2-x509-certificate-has-expired-or-is-not-yet-valid"}},[e._v("#")]),e._v(" docker拉取镜像时出现错误  Error response from daemon: Get https://registry-1.docker.io/v2/: x509: certificate has expired or is not yet valid")]),e._v(" "),s("p",[e._v("现象：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://you-blog.oss-accelerate.aliyuncs.com/typora/2021-04-28/4274c9759e9b40f38942bd9a968aabae.png",alt:"image-20210428232238479"}})]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("Error response from daemon: Get https://registry-1.docker.io/v2/: x509: certificate has expired or is not yet valid\n")])])]),s("p",[e._v("原因："),s("code",[e._v("docker")]),e._v("没有设置安全策略（有时候不设置也可以，这就很困惑）")]),e._v(" "),s("p",[e._v("解决方法：")]),e._v(" "),s("p",[e._v("修改文件 "),s("code",[e._v("cat /etc/docker/daemon.json")])]),e._v(" "),s("p",[e._v("添加以下配置：")]),e._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" \n        "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"insecure-registries"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"0.0.0.0/0"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),s("p",[e._v("如果按照以上设置，则该 "),s("code",[e._v("docker")]),e._v(" 可以从任意源拉取镜像，也可以向任意仓库推送镜像")]),e._v(" "),s("p",[e._v("如果有需要，也可以设置成指定的 "),s("code",[e._v("ip")]),e._v(" 地址")]),e._v(" "),s("p",[e._v("修改完成后，重新加载文件，并重启docker")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("systemctl daemon-reload\nsystemctl restart docker\n")])])])])}),[],!1,null,null,null);t.default=a.exports}}]);