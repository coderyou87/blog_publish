(window.webpackJsonp=window.webpackJsonp||[]).push([[237],{587:function(a,e,t){"use strict";t.r(e);var s=t(42),r=Object(s.a)({},(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"docker-常用命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-常用命令"}},[a._v("#")]),a._v(" Docker 常用命令")]),a._v(" "),t("h2",{attrs:{id:"一、帮助命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、帮助命令"}},[a._v("#")]),a._v(" 一、帮助命令")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("查看 docker 版本")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker version\n")])])])]),a._v(" "),t("li",[t("p",[a._v("查看 docker 信息")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker info\n")])])])]),a._v(" "),t("li",[t("p",[a._v("查看 docker 帮助信息")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker --help\n")])])])])]),a._v(" "),t("h2",{attrs:{id:"二、镜像命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、镜像命令"}},[a._v("#")]),a._v(" 二、镜像命令")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("查看 docker 镜像信息")]),a._v(" "),t("p",[a._v("列出本地主机上的镜像信息")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker images\n")])])]),t("p",[a._v("列出本地主机上所有的镜像信息(含中间映像层)")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker images -a\n")])])]),t("p",[a._v("只显示镜像 Id")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker images -q\n")])])]),t("p",[a._v("显示镜像的摘要信息")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker images --digests\n")])])]),t("p",[a._v("显示完整的镜像信息")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker images --no-trunc\n")])])])])]),a._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[t("p",[a._v("搜索镜像信息")]),a._v(" "),t("p",[a._v("官网地址: "),t("code",[a._v("https://hub.docker.com")])]),a._v(" "),t("p",[a._v("检索镜像信息:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker search [options] redis\n")])])]),t("p",[a._v("显示完整的镜像信息")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker search --no-trunc redis\n")])])]),t("p",[a._v("使用 filter 添加查询条件")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('# stars大于100的redis镜像\ndocker search --filter stars=100 redis\n# 列出自动构建的镜像信息\ndocker search --filter "is-automated=true" redis\ndocker search --filter "is-automated=true" --filter "stars=100" redis\n')])])])]),a._v(" "),t("li",[t("p",[a._v("拉取镜像")]),a._v(" "),t("p",[a._v("如果不写 Tag,默认为 latest")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker pull redis[:TAG]\n")])])])]),a._v(" "),t("li",[t("p",[a._v("删除镜像")]),a._v(" "),t("p",[a._v("删除单个镜像")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker rmi -f imageId\n")])])]),t("p",[a._v("删除多个镜像")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker rmi -f imageNmae1:TAG1 imageName2:TAG2\n")])])]),t("p",[a._v("删除全部镜像")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker rmi -f ${docker images -qa}\n")])])])])]),a._v(" "),t("h2",{attrs:{id:"三、容器命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、容器命令"}},[a._v("#")]),a._v(" 三、容器命令")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("启动容器")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker run [Options] IMAGE [Command] [Args]\ndocker run --name=testdocker -d -p 8080:7878 docker/testdocker\n")])])]),t("p",[a._v("--name: 指定容器运行时的名称")]),a._v(" "),t("p",[a._v("-d: 后台运行,并返回容器 Id")]),a._v(" "),t("p",[a._v("-p: 指定端口映射")]),a._v(" "),t("p",[a._v("-P: 随机端口映射")]),a._v(" "),t("p",[a._v("-i: 以交互式运行容器")]),a._v(" "),t("p",[a._v("-t: 为容器分配一个伪终端")]),a._v(" "),t("p",[a._v("查看当前运行的容器")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker ps [Options]\n")])])]),t("p",[a._v("-a: 列出当前所在运行的容器以及历史上运行过的容器")]),a._v(" "),t("p",[a._v("-l: 显示最近创建的容器")]),a._v(" "),t("p",[a._v("-n: 显示最近创建的 N 个容器")]),a._v(" "),t("p",[a._v("-q: 只显示容器编号")]),a._v(" "),t("p",[a._v("--no-trunc: 不截断输出")])]),a._v(" "),t("li",[t("p",[a._v("退出容器")]),a._v(" "),t("p",[a._v("停止容器并退出")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("exit\n")])])]),t("p",[a._v("不停止容器退出")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ctrl + P + Q\n")])])])]),a._v(" "),t("li",[t("p",[a._v("启动容器")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker start 容器名字或Id\n")])])])]),a._v(" "),t("li",[t("p",[a._v("重启容器")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker restart 容器名字或ID\n")])])])]),a._v(" "),t("li",[t("p",[a._v("停止容器")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker stop 容器名字或Id\n")])])])]),a._v(" "),t("li",[t("p",[a._v("强制停止容器")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker kill 容器名字或ID\n")])])])]),a._v(" "),t("li",[t("p",[a._v("删除已停止的容器")]),a._v(" "),t("p",[a._v("删除一个容器")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker rm 容器Id\n")])])]),t("p",[a._v("删除多个容器")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker rm -f ${docker ps -a -q}\ndocker ps -a -q xargs docker rm\n")])])])])]),a._v(" "),t("h2",{attrs:{id:"四、其他重要命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#四、其他重要命令"}},[a._v("#")]),a._v(" 四、其他重要命令")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("启动守护式容器")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker run -d imageName\n")])])])]),a._v(" "),t("li",[t("p",[a._v("查看容器日志")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker logs -f -t -tail 容器Id\n")])])]),t("p",[a._v("-t：加入时间戳")]),a._v(" "),t("p",[a._v("-f：跟随最新的日志答打印")]),a._v(" "),t("p",[a._v("-tail n：显示最后 n 行")])]),a._v(" "),t("li",[t("p",[a._v("查看容器内运行的进程")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker top 容器Id\n")])])])]),a._v(" "),t("li",[t("p",[a._v("查看容器内运行的细节")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker inspect 容器Id\n")])])])]),a._v(" "),t("li",[t("p",[a._v("进入正在运行的容器并以命令行交互")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker exec -it 容器Id bashShell\ndocker attach 容器Id\n")])])]),t("p",[a._v("exec：在容器中打开新的终端，并且可以启动新的进程")]),a._v(" "),t("p",[a._v("attach：直接进入容器启动命令的终端，不会启动新的进程")])]),a._v(" "),t("li",[t("p",[a._v("从容器内拷贝文件到主机")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker cp 容器Id：容器内路径 目的主机路径\ndocker cp 9ecd69dead67:/etc/yum.repos.d/docker_repos ./\n")])])])])]),a._v(" "),t("h2",{attrs:{id:"五、常用命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#五、常用命令"}},[a._v("#")]),a._v(" 五、常用命令")]),a._v(" "),t("p",[t("a",{attrs:{"data-fancybox":"",title:"image-20200621235918642",href:"https://blog-1301073803.cos.ap-chengdu.myqcloud.com/typora/2020-06-21/23-59-20-78247234_image-20200621235918642.png"}},[t("img",{attrs:{src:"http://you-blog.oss-accelerate.aliyuncs.com/typora/2020-07-12/9b62ef973ecb471484cc178847600792.png",alt:"image-20200621235918642"}})])]),a._v(" "),t("p",[t("a",{attrs:{"data-fancybox":"",title:"image-20200622000003073",href:"https://blog-1301073803.cos.ap-chengdu.myqcloud.com/typora/2020-06-21/23-59-36-8270afc2_clip_image002.jpg"}},[t("img",{attrs:{src:"http://you-blog.oss-accelerate.aliyuncs.com/typora/2020-07-12/a4c9659249cf49b684a65b6c8206350f.jpg",alt:"image-20200622000003073"}})])]),a._v(" "),t("p",[t("a",{attrs:{"data-fancybox":"",title:"image-20200622000003072",href:"https://blog-1301073803.cos.ap-chengdu.myqcloud.com/typora/2020-06-22/00-00-04-dae40145_image-20200622000003072.png"}},[t("img",{attrs:{src:"http://you-blog.oss-accelerate.aliyuncs.com/typora/2020-07-12/9040d33b569e447182843a2d9ddd59b5.png",alt:"image-20200622000003072"}})])]),a._v(" "),t("p",[t("a",{attrs:{"data-fancybox":"",title:"image-20200622000009945",href:"https://blog-1301073803.cos.ap-chengdu.myqcloud.com/typora/2020-06-22/00-00-17-413f5ed5_image-20200622000009945.png"}},[t("img",{attrs:{src:"http://you-blog.oss-accelerate.aliyuncs.com/typora/2020-07-12/37b05b6d57d14c7285273ab58c2994bd.png",alt:"image-20200622000009945"}})])]),a._v(" "),t("p",[t("a",{attrs:{"data-fancybox":"",title:"image-20200622000013782",href:"https://blog-1301073803.cos.ap-chengdu.myqcloud.com/typora/2020-06-22/00-00-16-f2dceacb_image-20200622000013782.png"}},[t("img",{attrs:{src:"http://you-blog.oss-accelerate.aliyuncs.com/typora/2020-07-12/6b9e4581407243c38b7a3c99c60d65ac.png",alt:"image-20200622000013782"}})])])])}),[],!1,null,null,null);e.default=r.exports}}]);