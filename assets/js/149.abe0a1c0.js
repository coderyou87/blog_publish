(window.webpackJsonp=window.webpackJsonp||[]).push([[149],{373:function(t,s,a){"use strict";a.r(s);var n=a(42),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("[toc]")]),t._v(" "),a("h1",{attrs:{id:"课程目标"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#课程目标"}},[t._v("#")]),t._v(" 课程目标")]),t._v(" "),a("ul",[a("li",[t._v("掌握sed的基本语法结构")]),t._v(" "),a("li",[t._v("熟悉sed常用的命令，如打印p，删除d，插入i等")])]),t._v(" "),a("h1",{attrs:{id:"一、文件编辑器知多少"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、文件编辑器知多少"}},[t._v("#")]),t._v(" 一、文件编辑器知多少")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Windows系统​")])])]),t._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"edit",href:"http://you-blog.oss-accelerate.aliyuncs.com/typora/2020-07-18/35e834e0886e4a0985e67aee946b54fb.png"}},[a("img",{attrs:{src:"http://you-blog.oss-accelerate.aliyuncs.com/typora/2020-07-18/35e834e0886e4a0985e67aee946b54fb.png",alt:"edit"}})])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Linux系统")])])]),t._v(" "),a("p",[t._v("​\t==vim\t  vi==\t gedit  nano  emacs")]),t._v(" "),a("h1",{attrs:{id:"二、强悍的sed介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、强悍的sed介绍"}},[t._v("#")]),t._v(" 二、强悍的sed介绍")]),t._v(" "),a("h2",{attrs:{id:"_1-sed用来做啥？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-sed用来做啥？"}},[t._v("#")]),t._v(" 1. sed用来做啥？")]),t._v(" "),a("p",[t._v("sed是Stream Editor（流编辑器）的缩写，简称流编辑器；用来==处理文件==的。")]),t._v(" "),a("h2",{attrs:{id:"_2-sed如何处理文件？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-sed如何处理文件？"}},[t._v("#")]),t._v(" 2. sed如何处理文件？")]),t._v(" "),a("blockquote",[a("p",[t._v("sed是==一行一行读取==文件内容并==按照要求==进行==处理==，把处理后的结果==输出到屏幕==。")])]),t._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"sed",href:"http://you-blog.oss-accelerate.aliyuncs.com/typora/2020-07-18/04b379407993497086b30556a276b374.png"}},[a("img",{attrs:{src:"http://you-blog.oss-accelerate.aliyuncs.com/typora/2020-07-18/04b379407993497086b30556a276b374.png",alt:"sed"}})])]),t._v(" "),a("ol",[a("li",[t._v("首先sed读取文件中的一行内容，把其保存在一个==临时缓存区中==（也称为模式空间）")]),t._v(" "),a("li",[t._v("然后==根据需求==处理临时缓冲区中的行，完成后把该行==发送到屏幕上==")])]),t._v(" "),a("p",[a("strong",[t._v("总结：")])]),t._v(" "),a("ol",[a("li",[t._v("由于sed把每一行都存在临时缓冲区中，对这个"),a("strong",[t._v("副本")]),t._v("进行编辑，所以==不会直接修改原文件==")]),t._v(" "),a("li",[t._v("Sed主要用来自动编辑一个或多个文件；简化对文件的反复操作,对文件进行过滤和转换操作")])]),t._v(" "),a("h1",{attrs:{id:"三、sed使用方法介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、sed使用方法介绍"}},[t._v("#")]),t._v(" 三、sed使用方法介绍")]),t._v(" "),a("blockquote",[a("p",[t._v("sed常见的语法格式有两种，一种叫==命令行==模式，另一种叫==脚本==模式。")])]),t._v(" "),a("h2",{attrs:{id:"_1-命令行格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-命令行格式"}},[t._v("#")]),t._v(" 1. 命令行格式")]),t._v(" "),a("h3",{attrs:{id:"㈠-语法格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#㈠-语法格式"}},[t._v("#")]),t._v(" ㈠ 语法格式")]),t._v(" "),a("p",[t._v("sed  [options]    =="),a("strong",[t._v("'")]),t._v("==处理动作**=='==**   文件名")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("常用选项")])])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("选项")]),t._v(" "),a("th",[t._v("说明")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("-e")]),t._v(" "),a("td",[t._v("进行多项(多次)编辑")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("==-n==")]),t._v(" "),a("td",[t._v("取消默认输出")]),t._v(" "),a("td",[t._v("不自动打印模式空间")])]),t._v(" "),a("tr",[a("td",[t._v("==-r==")]),t._v(" "),a("td",[t._v("使用扩展==正则表达式==")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("==-i==")]),t._v(" "),a("td",[t._v("原地编辑（修改源文件）")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("-f")]),t._v(" "),a("td",[t._v("指定sed脚本的文件名")]),t._v(" "),a("td")])])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("==常见处理动作==")])])]),t._v(" "),a("p",[a("strong",[t._v("丑话说在前面")]),t._v("：以下所有的==动作==都要在"),a("strong",[t._v("单引号")]),t._v("里，你敢出轨，回家跪搓衣板")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("动作")]),t._v(" "),a("th",[t._v("说明")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("'p'")]),t._v(" "),a("td",[t._v("打印")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("'i'")]),t._v(" "),a("td",[t._v("在指定行==之前==插入内容")]),t._v(" "),a("td",[t._v("类似vim里的大写O")])]),t._v(" "),a("tr",[a("td",[t._v("'a'")]),t._v(" "),a("td",[t._v("在指定行==之后==插入内容")]),t._v(" "),a("td",[t._v("类似vim里的小写o")])]),t._v(" "),a("tr",[a("td",[t._v("'c'")]),t._v(" "),a("td",[t._v("替换指定行所有内容")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("'d'")]),t._v(" "),a("td",[t._v("删除指定行")]),t._v(" "),a("td")])])]),t._v(" "),a("h3",{attrs:{id:"㈡-举例说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#㈡-举例说明"}},[t._v("#")]),t._v(" ㈡ 举例说明")]),t._v(" "),a("ul",[a("li",[t._v("文件准备")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# vim a.txt ")]),t._v("\nroot:x:0:0:root:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("root:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bash\nbin:x:1:1:bin:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nologin\ndaemon:x:2:2:daemon:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("sbin:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nologin\nadm:x:3:4:adm:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("adm:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nologin\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lp")]),t._v(":x:4:7:"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lp")]),t._v(":"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("spool"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("lpd:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nologin\n298374837483\n172"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("16"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("254\n10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1\n")])])]),a("h4",{attrs:{id:"①-对文件进行-增、删、改、查-操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#①-对文件进行-增、删、改、查-操作"}},[t._v("#")]),t._v(" ① 对文件进行==增、删、改、查==操作")]),t._v(" "),a("blockquote",[a("p",[t._v("语法：sed  选项    "),a("strong",[t._v("=='=="),a("strong",[t._v("定位+命令")]),t._v("=='==")]),t._v("    需要处理的文件")])]),t._v(" "),a("h5",{attrs:{id:"_1）打印文件内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1）打印文件内容"}},[t._v("#")]),t._v(" 1）打印文件内容")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed ''  a.txt\t\t\t\t\t\t对文件什么都不做")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n 'p'  a.txt\t\t\t\t\t打印每一行，并取消默认输出")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n '1p'  a.txt\t\t\t\t\t打印第1行")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n '2p'  a.txt\t\t\t\t\t打印第2行")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n '1,5p'  a.txt\t\t\t\t打印1到5行")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n '$p' a.txt \t\t\t\t\t打印最后1行")]),t._v("\n")])])]),a("h5",{attrs:{id:"_2）增加文件内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2）增加文件内容"}},[t._v("#")]),t._v(" 2）增加文件内容")]),t._v(" "),a("p",[t._v("i    地址定位的上面插入")]),t._v(" "),a("p",[t._v("a   下面插入")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed '$a99999' a.txt \t\t\t\t文件最后一行下面增加内容")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed 'a99999' a.txt \t\t\t\t文件每行下面增加内容")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed '5a99999' a.txt \t\t\t\t文件第5行下面增加内容")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed '$i99999' a.txt \t\t\t\t文件最后一行上一行增加内容")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed 'i99999' a.txt \t\t\t\t文件每行上一行增加内容")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed '6i99999' a.txt \t\t\t\t文件第6行上一行增加内容")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed '/^uucp/ihello'\t\t\t\t以uucp开头行的上一行插入内容")]),t._v("\n")])])]),a("h5",{attrs:{id:"_3）修改文件内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3）修改文件内容"}},[t._v("#")]),t._v(" 3）修改文件内容")]),t._v(" "),a("p",[t._v("c   替换指定的==整行==内容")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed '5chello world' a.txt \t\t替换文件第5行内容")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed 'chello world' a.txt \t\t替换文件所有内容")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed '1,5chello world' a.txt \t替换文件1到5号内容为hello world")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed '/^user01/c888888' a.txt\t替换以user01开头的行")]),t._v("\n")])])]),a("h5",{attrs:{id:"_4）删除文件内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4）删除文件内容"}},[t._v("#")]),t._v(" 4）删除文件内容")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed '1d' a.txt \t\t\t\t\t\t删除文件第1行")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed '1,5d' a.txt \t\t\t\t\t删除文件1到5行")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed '$d' a.txt\t\t\t\t\t\t删除文件最后一行")]),t._v("\n")])])]),a("h4",{attrs:{id:"②-对文件进行搜索替换操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#②-对文件进行搜索替换操作"}},[t._v("#")]),t._v(" ② ==对文件进行搜索替换操作==")]),t._v(" "),a("blockquote",[a("p",[t._v("语法：sed   选项   "),a("strong",[t._v("'==s/搜索的内容/替换的内容/动作=='")]),t._v("  需要处理的文件")]),t._v(" "),a("p",[t._v("其中，=="),a("strong",[t._v("s")]),t._v("==表示search搜索；斜杠=="),a("strong",[t._v("/")]),t._v("==表示分隔符，可以自己定义;动作一般是打印=="),a("strong",[t._v("p")]),t._v("==和全局替换=="),a("strong",[t._v("g")]),t._v("==")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n 's/root/ROOT/p' 1.txt ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n 's/root/ROOT/gp' 1.txt ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n 's/^#//gp' 1.txt ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n 's@/sbin/nologin@itcast@gp' a.txt")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n 's/\\/sbin\\/nologin/itcast/gp' a.txt")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n '10s#/sbin/nologin#itcast#p' a.txt ")]),t._v("\nuucp:x:10:14:uucp:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("spool"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("uucp:itcast\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n 's@/sbin/nologin@itcastheima@p' 2.txt ")]),t._v("\n注意：搜索替换中的分隔符可以自己指定\n\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n '1,5s/^/#/p' a.txt \t\t注释掉文件的1-5行内容")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#root:x:0:0:root:/root:/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#bin:x:1:1:bin:/bin:/sbin/nologin")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#daemon:x:2:2:daemon:/sbin:/sbin/nologin")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#adm:x:3:4:adm:/var/adm:/sbin/nologin")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin")]),t._v("\n")])])]),a("h4",{attrs:{id:"③-其他命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#③-其他命令"}},[t._v("#")]),t._v(" ③ 其他命令")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("命令")]),t._v(" "),a("th",[t._v("解释")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("r")]),t._v(" "),a("td",[t._v("从另外文件中读取内容")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("w")]),t._v(" "),a("td",[t._v("内容另存为")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("&")]),t._v(" "),a("td",[t._v("保存查找串以便在替换串中引用")]),t._v(" "),a("td",[t._v("和\\(\\)相同")])]),t._v(" "),a("tr",[a("td",[t._v("=")]),t._v(" "),a("td",[t._v("打印行号")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("！")]),t._v(" "),a("td",[t._v("对所选行以外的所有行应用命令，放到行数之后")]),t._v(" "),a("td",[t._v("'1,5!'")])]),t._v(" "),a("tr",[a("td",[t._v("q")]),t._v(" "),a("td",[t._v("退出")]),t._v(" "),a("td")])])]),t._v(" "),a("p",[a("strong",[t._v("举例说明：")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("r\t从文件中读取输入行\nw\t将所选的行写入文件\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed '3r /etc/hosts' 2.txt ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed '$r /etc/hosts' 2.txt")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed '/root/w a.txt' 2.txt ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed '/[0-9]{4}/w a.txt' 2.txt")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed  -r '/([0-9]{1,3}\\.){3}[0-9]{1,3}/w b.txt' 2.txt")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\t对所选行以外的所有行应用命令，放到行数之后\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n '1!p' 1.txt ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n '4p' 1.txt ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n '4!p' 1.txt ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cat -n 1.txt ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n '1,17p' 1.txt ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n '1,17!p' 1.txt ")]),t._v("\n\n&   保存查找串以便在替换串中引用   \\"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\\"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n '/root/p' a.txt ")]),t._v("\nroot:x:0:0:root:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("root:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bash\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n 's/root/#&/p' a.txt ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#root:x:0:0:root:/root:/bin/bash")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n 's/^root/#&/p' passwd   注释掉以root开头的行")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n -r 's/^root|^stu/#&/p' /etc/passwd\t注释掉以root开头或者以stu开头的行")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n '1,5s/^[a-z].*/#&/p' passwd  注释掉1~5行中以任意小写字母开头的行")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n '1,5s/^/#/p' /etc/passwd  注释1~5行")]),t._v("\n或者\nsed "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1,5s/^/#/p'")]),t._v(" passwd 以空开头的加上"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\nsed "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1,5s/^#//p'")]),t._v(" passwd 以"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#开头的替换成空")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n '/^root/p' 1.txt ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n 's/^root/#&/p' 1.txt ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n 's/\\(^root\\)/#\\1/p' 1.txt ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -nr '/^root|^stu/p' 1.txt ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -nr 's/^root|^stu/#&/p' 1.txt ")]),t._v("\n\n\n= \t打印行号\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n '/bash$/=' passwd    打印以bash结尾的行的行号")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -ne '/root/=' -ne '/root/p' passwd ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n '/nologin$/=;/nologin$/p' 1.txt")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -ne '/nologin$/=' -ne '/nologin$/p' 1.txt")]),t._v("\n\nq\t退出\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed '5q' 1.txt")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed '/mail/q' 1.txt")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -r '/^yunwei|^mail/q' 1.txt")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n '/bash$/p;10q' 1.txt")]),t._v("\nROOT:x:0:0:root:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("root:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bash\n\n\n综合运用：\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n '1,5s/^/#&/p' 1.txt ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#root:x:0:0:root:/root:/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#bin:x:1:1:bin:/bin:/sbin/nologin")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#daemon:x:2:2:daemon:/sbin:/sbin/nologin")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#adm:x:3:4:adm:/var/adm:/sbin/nologin")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n '1,5s/\\(^\\)/#\\1/p' 1.txt ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#root:x:0:0:root:/root:/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#bin:x:1:1:bin:/bin:/sbin/nologin")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#daemon:x:2:2:daemon:/sbin:/sbin/nologin")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#adm:x:3:4:adm:/var/adm:/sbin/nologin")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin")]),t._v("\n")])])]),a("h4",{attrs:{id:"④-其他选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#④-其他选项"}},[t._v("#")]),t._v(" ④ 其他选项")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e 多项编辑\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r\t扩展正则\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("i 修改原文件\n\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -ne '/root/p' 1.txt -ne '/root/='")]),t._v("\nroot:x:0:0:root:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("root:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bash\n1\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -ne '/root/=' -ne '/root/p' 1.txt ")]),t._v("\n1\nroot:x:0:0:root:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("root:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bash\n\n在1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt文件中的第5行的前面插入“hello world”"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("在1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt文件的第8行下面插入“哈哈哈哈”\n\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -e '5ihello world' -e '8a哈哈哈哈哈' 1.txt  -e '5=;8='")]),t._v("\n\nsed "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1,5p'")]),t._v(" 1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\nsed "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-ne")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1p'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-ne")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'5p'")]),t._v(" 1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\nsed "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-ne")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1p;5p'")]),t._v(" 1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n \n过滤vsftpd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("conf文件中以"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#开头和空行：")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# grep -Ev '^#|^$' /etc/vsftpd/vsftpd.conf")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -e '/^#/d' -e '/^$/d' /etc/vsftpd/vsftpd.conf")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed '/^#/d;/^$/d' /etc/vsftpd/vsftpd.conf")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -r '/^#|^$/d' /etc/vsftpd/vsftpd.conf")]),t._v("\n\n过滤smb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("conf文件中生效的行：\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -e '/^#/d' -e '/^;/d' -e '/^$/d' -e '/^\\t$/d' -e '/^\\t#/d' smb.conf")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -r '/^(#|$|;|\\t#|\\t$)/d' smb.conf ")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -e '/^#/d' -e '/^;/d' -e '/^$/d' -e '/^\\t$/d' -e '/^\\t#/' smb.conf")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# grep '^[^a-z]' 1.txt")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n '/^[^a-z]/p' 1.txt")]),t._v("\n\n过滤出文件中的IP地址：\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# grep -E '([0-9]{1,3}\\.){3}[0-9]{1,3}' 1.txt ")]),t._v("\n192"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("168"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("254\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -nr '/([0-9]{1,3}\\.){3}[0-9]{1,3}/p' 1.txt ")]),t._v("\n192"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("168"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("254\n\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# grep -o -E '([0-9]{1,3}\\.){3}[0-9]{1,3}' 2.txt ")]),t._v("\n10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1\n10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("255\n255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("0\n\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -nr '/([0-9]{1,3}\\.){3}[0-9]{1,3}/p' 2.txt")]),t._v("\n10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1\n10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("255\n255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("0\n过滤出ifcfg"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("eth0文件中的IP、子网掩码、广播地址\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server shell06]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# grep -Eo '([0-9]{1,3}\\.){3}[0-9]{1,3}' ifcfg-eth0 ")]),t._v("\n10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1\n255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("0\n10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("254\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server shell06]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -nr '/([0-9]{1,3}\\.){3}[0-9]{1,3}/p' ifcfg-eth0|cut -d'=' -f2")]),t._v("\n10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1\n255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("0\n10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("254\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server shell06]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -nr '/([0-9]{1,3}\\.){3}[0-9]{1,3}/p' ifcfg-eth0|sed -n 's/[A-Z=]//gp'")]),t._v("\n10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1\n255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("0\n10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("254\n\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server shell06]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ifconfig eth0|sed -n '2p'|sed -n 's/[:a-Z]//gp'|sed -n 's/ /\\n/gp'|sed '/^$/d'")]),t._v("\n10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1\n10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("255\n255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("0\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server shell06]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ifconfig | sed -nr '/([0-9]{1,3}\\.)[0-9]{1,3}/p' | head -1|sed -r 's/([a-z:]|[A-Z/t])//g'|sed 's/ /\\n/g'|sed  '/^$/d'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server shell06]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ifconfig eth0|sed -n '2p'|sed -n 's/.*addr:\\(.*\\) Bcast:\\(.*\\) Mask:\\(.*\\)/\\1\\n\\2\\n\\3/p'")]),t._v("\n10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1 \n10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("255 \n255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("0\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("i 选项  直接修改原文件\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -i 's/root/ROOT/;s/stu/STU/' 11.txt")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -i '17{s/YUNWEI/yunwei/;s#/bin/bash#/sbin/nologin#}' 1.txt")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -i '1,5s/^/#&/' a.txt ")]),t._v("\n注意：\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ni")]),t._v("  不要一起使用\np命令 不要再使用"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("i时使用\n")])])]),a("h4",{attrs:{id:"⑤-sed结合正则使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#⑤-sed结合正则使用"}},[t._v("#")]),t._v(" ⑤ ==sed结合正则使用==")]),t._v(" "),a("blockquote",[a("p",[t._v("sed  选项  =='==sed==命令==或者==正则表达式==或者==地址定位===='==  文件名")])]),t._v(" "),a("ol",[a("li",[t._v("定址用于决定对哪些行进行编辑。地址的形式可以是数字、正则表达式、或二者的结合。")]),t._v(" "),a("li",[t._v("如果没有指定地址，sed将处理输入文件的所有行。")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("正则")]),t._v(" "),a("th",[t._v("说明")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("/key/")]),t._v(" "),a("td",[t._v("查询包含关键字的行")]),t._v(" "),a("td",[t._v("sed -n '/root/p' 1.txt")])]),t._v(" "),a("tr",[a("td",[t._v("/key1/,/key2/")]),t._v(" "),a("td",[t._v("匹配包含两个关键字之间的行")]),t._v(" "),a("td",[t._v("sed -n '/^adm/,/^mysql/p' 1.txt")])]),t._v(" "),a("tr",[a("td",[t._v("/key/,x")]),t._v(" "),a("td",[t._v("从匹配关键字的行开始到==文件第x行==之间的行（包含关键字所在行）")]),t._v(" "),a("td",[t._v("sed -n '/^ftp/,7p'")])]),t._v(" "),a("tr",[a("td",[t._v("x,/key/")]),t._v(" "),a("td",[t._v("从文件的第x行开始到与关键字的匹配行之间的行")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("x,y!")]),t._v(" "),a("td",[t._v("不包含x到y行")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("/key/!")]),t._v(" "),a("td",[t._v("不包括关键字的行")]),t._v(" "),a("td",[t._v("sed -n '/bash$/!p' 1.txt")])])])]),t._v(" "),a("h2",{attrs:{id:"_2-脚本格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-脚本格式"}},[t._v("#")]),t._v(" 2. 脚本格式")]),t._v(" "),a("h3",{attrs:{id:"㈠-用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#㈠-用法"}},[t._v("#")]),t._v(" ㈠ 用法")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -f scripts.sh  file\t\t//使用脚本处理文件")]),t._v("\n建议使用   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("sed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sh   file\n\n脚本的第一行写上\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/sed -f")]),t._v("\n1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("5d\ns"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("root"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("hello"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("g\n3i777\n5i888\na999\np\n")])])]),a("h3",{attrs:{id:"㈡-注意事项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#㈡-注意事项"}},[t._v("#")]),t._v(" ㈡ 注意事项")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("１）　脚本文件是一个sed的命令行清单。"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'commands'")]),t._v("\n２）　在每行的末尾不能有任何空格、制表符（tab）或其它文本。\n３）　如果在一行中有多个命令，应该用分号分隔。\n４）　不需要且不可用引号保护命令\n５）　"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#号开头的行为注释")]),t._v("\n\n")])])]),a("h3",{attrs:{id:"㈢举例说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#㈢举例说明"}},[t._v("#")]),t._v(" ㈢举例说明")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cat passwd")]),t._v("\nstu3:x:509:512::"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("home"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("user3:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bash\nstu4:x:510:513::"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("home"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("user4:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bash\nstu5:x:511:514::"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("home"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("user5:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bash\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cat sed.sh ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/sed -f")]),t._v("\n2a\\\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("\n2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$s")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("stu"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$a")]),t._v("\\\nwe inster new line\ns"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("^"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[a-z]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#&/")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cat 1.sed ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/sed -f")]),t._v("\n3a*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$chelloworld")]),t._v("\n1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("3s"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("^"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#&/")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -f 1.sed -i 11.txt ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cat 11.txt ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#root:x:0:0:root:/root:/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#bin:x:1:1:bin:/bin:/sbin/nologin")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#daemon:x:2:2:daemon:/sbin:/sbin/nologin")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("\nadm:x:3:4:adm:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("adm:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nologin\nhelloworld\n\n")])])]),a("p",[t._v("##3. 补充扩展总结")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("1、正则表达式必须以”"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("“前后规范间隔\n例如：sed "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/root/d'")]),t._v(" file\n例如：sed "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/^root/d'")]),t._v(" file\n\n2、如果匹配的是扩展正则表达式，需要使用"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r选来扩展sed\ngrep "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("E\nsed "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" ? "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("m"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v(" \\d\n\n注意：         \n在正则表达式中如果出现特殊字符"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("^$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("需要以前导 "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\"')]),t._v(" 号做转义\neg：sed "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/\\$foo/p'")]),t._v(" file\n\n3、逗号分隔符\n例如：sed "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'5,7d'")]),t._v(" file  \t\t\t\t删除5到7行\n例如：sed "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/root/,/ftp/d'")]),t._v(" file\t\n删除第一个匹配字符串"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"root"')]),t._v("到第一个匹配字符串"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ftp"')]),t._v("的所有行本行不找 循环执行\n       \n4、组合方式\n例如：sed "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1,/foo/d'")]),t._v(" file\t\t\t删除第一行到第一个匹配字符串"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"foo"')]),t._v("的所有行\n例如：sed "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/foo/,+4d'")]),t._v(" file\t\t\t删除从匹配字符串”foo“开始到其后四行为止的行\n例如：sed "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/foo/,~3d'")]),t._v(" file\t\t\t删除从匹配字符串”foo“开始删除到3的倍数行（文件中）\n例如：sed "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1~5d'")]),t._v(" file\t\t\t\t从第一行开始删每五行删除一行\n例如：sed "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("nr "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/foo|bar/p'")]),t._v(" file\t显示配置字符串"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"foo"')]),t._v("或"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bar"')]),t._v("的行\n例如：sed "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/foo/,/bar/p'")]),t._v(" file\t显示匹配从foo到bar的行\n例如：sed "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1~2d'")]),t._v("  file\t\t\t\t删除奇数行\n例如：sed "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0-2d'")]),t._v("   file\t\t\t\t删除偶数行 sed "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1~2!d'")]),t._v("  file\n\n5、特殊情况\n例如：sed "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$d'")]),t._v(" file\t\t\t\t\t删除最后一行\n例如：sed "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1d'")]),t._v(" file\t\t\t\t\t删除第一行\n\t\n6、其他：\nsed "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s/.//'")]),t._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\t\t\t\t\t\t删除每一行中的第一个字符\nsed "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s/.//2'")]),t._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\t\t\t\t\t删除每一行中的第二个字符\nsed "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s/.//N'")]),t._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\t\t\t\t\t从文件中第N行开始，删除每行中第N个字符（N>2）\nsed "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s/.$//'")]),t._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\t\t\t\t\t删除每一行中的最后一个字符\n\n\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cat 2.txt ")]),t._v("\n1 a\n2 b\n3 c\n4 d\n5 e\n6 f\n7 u\n8 k\n9 o\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server ~]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed '/c/,~2d' 2.txt ")]),t._v("\n1 a\n2 b\n5 e\n6 f\n7 u\n8 k\n9 o\n\n")])])]),a("h1",{attrs:{id:"四、课堂练习"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、课堂练习"}},[t._v("#")]),t._v(" 四、课堂练习")]),t._v(" "),a("ol",[a("li",[t._v("将任意数字替换成空或者制表符")]),t._v(" "),a("li",[t._v("去掉文件1-5行中的数字、冒号、斜杠")]),t._v(" "),a("li",[t._v("匹配root关键字替换成hello itcast，并保存到test.txt文件中")]),t._v(" "),a("li",[t._v("删除vsftpd.conf、smb.conf、main.cf配置文件里所有注释的行及空行（不要直接修改原文件）")]),t._v(" "),a("li",[t._v("使用sed命令截取自己的ip地址")]),t._v(" "),a("li",[t._v("使用sed命令一次性截取ip地址、广播地址、子网掩码")]),t._v(" "),a("li",[t._v("注释掉文件的2-3行和匹配到以root开头或者以ftp开头的行")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("\n1、将文件中任意数字替换成空或者制表符\n2、去掉文件1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("5行中的数字、冒号、斜杠\n3、匹配root关键字的行替换成hello itcast，并保存到test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt文件中\n4、删除vsftpd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("conf、smb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("conf、main"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cf配置文件里所有注释的行及空行（不要直接修改原文件）\n5、使用sed命令截取自己的ip地址\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ifconfig eth0|sed -n '2p'|sed -n 's/.*addr://pg'|sed -n 's/Bcast.*//gp'")]),t._v("\n10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1  \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ifconfig eth0|sed -n '2p'|sed 's/.*addr://g'|sed 's/ Bcast:.*//g'")]),t._v("\n6、使用sed命令一次性截取ip地址、广播地址、子网掩码\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ifconfig eth0|sed -n '2p'|sed -n 's#.*addr:\\(.*\\) Bcast:\\(.*\\) Mask:\\(.*\\)#\\1\\n\\2\\n\\3#p'")]),t._v("\n10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1 \n10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("255 \n255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("0\n\n7、注释掉文件的2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("3行和匹配到以root开头或者以ftp开头的行\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -nr '2,3s/^/#&/p;s/^ROOT|^ftp/#&/p' 1.txt")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ROOT:x:0:0:root:/root:/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#bin:x:1:1:bin:/bin:/sbin/nologin")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#3daemon:x:2:2:daemon:/sbin:/sbin/nologin")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -ne '1,2s/^/#&/gp' a.txt -nre 's/^lp|^mail/#&/gp'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -nr '1,2s/^/#&/gp;s/^lp|^mail/#&/gp' a.txt")]),t._v("\n")])])]),a("h1",{attrs:{id:"五、课后实战"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、课后实战"}},[t._v("#")]),t._v(" 五、课后实战")]),t._v(" "),a("p",[t._v("1、写一个初始化系统的脚本\n1）自动修改主机名（如：ip是192.168.0.88，则主机名改为server88.itcast.cc）")]),t._v(" "),a("p",[t._v("a. 更改文件非交互式 sed")]),t._v(" "),a("p",[t._v("/etc/sysconfig/network")]),t._v(" "),a("p",[t._v("b.将本主机的IP截取出来赋值给一个变量ip;再然后将ip变量里以.分割的最后一位赋值给另一个变量ip1")]),t._v(" "),a("p",[t._v("2）自动配置可用的yum源")]),t._v(" "),a("p",[t._v("3）自动关闭防火墙和selinux")]),t._v(" "),a("p",[t._v("2、写一个搭建ftp服务的脚本，要求如下：\n1）不支持本地用户登录\t\tlocal_enable=NO\n2） 匿名用户可以上传 新建 删除\t anon_upload_enable=YES  anon_mkdir_write_enable=YES\t\n3） 匿名用户限速500KBps  anon_max_rate=500000")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("仅供参考：\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\nipaddr=`ifconfig eth0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("sed "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2p'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("sed "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s/.*inet addr:\\(.*\\) Bcast.*/\\1/g'")]),t._v("`\niptail=`"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ipaddr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("cut "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("d"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f4`\nipremote=192"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("168"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("10\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#修改主机名")]),t._v("\nhostname server"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$iptail")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("itcast"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com\nsed "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/HOSTNAME/cHOSTNAME=server'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$iptail")]),t._v('.itcast.com"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("sysconfig"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("network\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ipaddr")]),t._v(" server"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$iptail")]),t._v('.itcast.cc"')]),t._v(" >>"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("hosts\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#关闭防火墙和selinux")]),t._v("\nservice iptables stop\nsetenforce 0 >"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("null 2>&1\nsed "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/^SELINUX=/cSELINUX=disabled'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("selinux"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("config\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#配置yum源(一般是内网源)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#test network")]),t._v("\nping "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("c 1 "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ipremote")]),t._v(" > "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("null 2>&1\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" $? "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-ne")]),t._v(" 0 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("then\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"你的网络不通，请先检查你的网络"')]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exit")]),t._v(" 1\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"网络ok."')]),t._v("\nfi\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" > "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("yum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("repos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("repo << "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[server]")]),t._v("\nname=server\nbaseurl=ftp:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ipremote")]),t._v("\nenabled=1\ngpgcheck=0\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#安装软件")]),t._v("\nread "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请输入需要安装的软件，多个用空格隔开："')]),t._v(" soft\nyum "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("y install "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$soft")]),t._v(" &>"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("null\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#备份配置文件")]),t._v("\nconf="),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("vsftpd"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("vsftpd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("conf\n\\"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$conf")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$conf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("default\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#根据需求修改配置文件")]),t._v("\nsed "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ir "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/^#|^$/d'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$conf")]),t._v("\nsed "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/local_enable/c\\local_enable=NO'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$conf")]),t._v("\nsed "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$a anon_upload_enable=YES'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$conf")]),t._v("\nsed "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$a anon_mkdir_write_enable=YES'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$conf")]),t._v("\nsed "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$a anon_other_write_enable=YES'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$conf")]),t._v("\nsed "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$a anon_max_rate=512000'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$conf")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#启动服务")]),t._v("\nservice vsftpd restart &>"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("null && "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vsftpd服务启动成功"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#测试验证")]),t._v("\nchmod 777 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ftp"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("pub\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("hosts "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ftp"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("pub\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#测试下载")]),t._v("\ncd "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("tmp\nlftp "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ipaddr")]),t._v(" <<"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\ncd pub\nget hosts\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exit")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("tmp"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("hosts "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("then\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"匿名用户下载成功"')]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("tmp"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("hosts\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"匿名用户下载失败"')]),t._v("\nfi\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#测试上传、创建目录、删除目录等")]),t._v("\ncd "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("tmp\nlftp "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ipaddr")]),t._v(" << "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\ncd pub\nmkdir test1\nmkdir test2\nput "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("group")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rmdir")]),t._v(" test2\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exit")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("d "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ftp"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("pub"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("test1 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("then\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"创建目录成功"')]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("d "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ftp"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("pub"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("test2 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("then\n    \t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"文件删除成功"')]),t._v("\n        fi\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ftp"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("pub"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("group")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("then\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"文件上传成功"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"上传、创建目录删除目录部ok"')]),t._v("\n        fi \nfi   \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ftp"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("pub"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("group")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" && "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"上传文件成功"')]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);