(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{470:function(_,t,v){"use strict";v.r(t);var a=v(42),s=Object(a.a)({},(function(){var _=this,t=_.$createElement,v=_._self._c||t;return v("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[v("h1",{attrs:{id:"mysql锁机制"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#mysql锁机制"}},[_._v("#")]),_._v(" MySQL锁机制")]),_._v(" "),v("h2",{attrs:{id:"一、概述"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#一、概述"}},[_._v("#")]),_._v(" 一、概述")]),_._v(" "),v("p",[_._v("定义：锁是计算机协调多个进程或线程并发访问某一资源的机制。")]),_._v(" "),v("p",[_._v("在数据库中，除传统的计算机资源的争用外，数据也是一种供许多用户共享的资源。如何保证数据并发访问的一致性、有效性是所有数据库必须解决的一个问题，锁冲突也是影响数据库并发访问性能的一个重要因素。从这个角度来说，锁对数据库而言尤其重要，也更加复杂。")]),_._v(" "),v("p",[_._v("锁的分类：")]),_._v(" "),v("p",[_._v("从对数据操作的类型可分为读锁与写锁：")]),_._v(" "),v("ol",[v("li",[_._v("读锁（共享锁）：针对同一份数据，多个读操作可以同时进行而不会互相影响")]),_._v(" "),v("li",[_._v("写锁（排它锁）：当前写操作没有完成前，它会阻断其他的写锁与读锁")])]),_._v(" "),v("p",[_._v("从对数据操作的粒度分：")]),_._v(" "),v("ol",[v("li",[_._v("表锁")]),_._v(" "),v("li",[_._v("行锁")])]),_._v(" "),v("h2",{attrs:{id:"二、常见的锁"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#二、常见的锁"}},[_._v("#")]),_._v(" 二、常见的锁")]),_._v(" "),v("h3",{attrs:{id:"_2-1-表锁（偏读）"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-表锁（偏读）"}},[_._v("#")]),_._v(" 2.1 表锁（偏读）")]),_._v(" "),v("p",[_._v("**特点：**偏向MyISAM存储引擎，开销小，加锁快；无死锁；锁定粒度大，发生锁冲突的概率最高，并发度最低。")]),_._v(" "),v("h3",{attrs:{id:"_2-2-行锁（偏写）"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-行锁（偏写）"}},[_._v("#")]),_._v(" 2.2 行锁（偏写）")]),_._v(" "),v("p",[_._v("**特点：**偏向InnoDB存储引擎，开销大，加锁慢；会出现死锁；锁定粒度最小，发生锁冲突的概率最低，并发度也最高。")]),_._v(" "),v("p",[_._v("InnoDB与MyISAM的区别：InnoDB支持事务，采用了行级锁")]),_._v(" "),v("p",[_._v("优化建议：")]),_._v(" "),v("ol",[v("li",[_._v("尽可能让所有数据检索都通过索引来完成，避免无索引行锁升级为表锁")]),_._v(" "),v("li",[_._v("合理设计索引，尽量缩小锁的范围")]),_._v(" "),v("li",[_._v("尽可能减少检索条件，避免间隙锁")]),_._v(" "),v("li",[_._v("尽可能低级别事务隔离")])]),_._v(" "),v("h3",{attrs:{id:"_2-3-页锁"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-页锁"}},[_._v("#")]),_._v(" 2.3 页锁")]),_._v(" "),v("p",[_._v("**特点：**开销和加锁时间界于表锁与行锁之间，会出现死锁，锁定粒度界于表锁与行锁之间")])])}),[],!1,null,null,null);t.default=s.exports}}]);