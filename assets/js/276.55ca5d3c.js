(window.webpackJsonp=window.webpackJsonp||[]).push([[276],{373:function(t,s,a){"use strict";a.r(s);var n=a(42),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("[toc]\n#课程目标")]),t._v(" "),a("ul",[a("li",[t._v("掌握case语句的基本语法结构")]),t._v(" "),a("li",[t._v("掌握函数的定义及调用")]),t._v(" "),a("li",[t._v("掌握常用的正则表达式元字符含义")])]),t._v(" "),a("h1",{attrs:{id:"一、case语句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、case语句"}},[t._v("#")]),t._v(" 一、case语句")]),t._v(" "),a("p",[a("strong",[t._v("关键词：确认过眼神，你是对的人")]),t._v("💑")]),t._v(" "),a("ol",[a("li",[t._v("case语句为多重匹配语句")]),t._v(" "),a("li",[t._v("如果匹配成功，执行相匹配的命令")])]),t._v(" "),a("h2",{attrs:{id:"_1-语法结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-语法结构"}},[t._v("#")]),t._v(" 1. 语法结构")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("说明：pattern表示需要匹配的模式\n\n\ncase "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" in             定义变量"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v("代表是变量名\npattern 1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("              模式1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("用 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v(" 分割多个模式，相当于or\n    command1            需要执行的语句\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("                  两个分号代表命令结束\npattern 2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    command2\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\npattern 3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    command3\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("              default，不满足以上模式，默认执行"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("下面的语句\n    command4\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nesac\t\t\t\t\t\t\tesac表示case语句结束\n")])])]),a("h2",{attrs:{id:"_2-应用案例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-应用案例"}},[t._v("#")]),t._v(" 2. 应用案例")]),t._v(" "),a("h3",{attrs:{id:"㈠-脚本传不同值做不同事"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#㈠-脚本传不同值做不同事"}},[t._v("#")]),t._v(" ㈠ 脚本传不同值做不同事")]),t._v(" "),a("p",[t._v("**具体需求：**当给程序传入start、stop、restart三个不同参数时分别执行相应命令")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/env bash")]),t._v("\ncase "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v(" in\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("S"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        service apache "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),t._v(" &>"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("null && "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"apache 启动成功"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        stop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("T"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        service apache stop &>"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("null && "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"apache 停止成功"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        restart"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        service apache restart &>"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("null && "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"apache 重启完毕"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请输入要做的事情..."')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nesac\n\n")])])]),a("h3",{attrs:{id:"㈡-根据用户需求选择做事"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#㈡-根据用户需求选择做事"}},[t._v("#")]),t._v(" ㈡ 根据用户需求选择做事")]),t._v(" "),a("p",[a("strong",[t._v("具体需求：")])]),t._v(" "),a("p",[t._v("脚本提示让用户输入需要管理的服务名，然后提示用户需要对服务做什么操作，如启动，关闭等操作")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/env bash")]),t._v("\nread "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请输入你要管理的服务名称(vsftpd):"')]),t._v(" service\ncase "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$service")]),t._v(" in\n        vsftpd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("ftp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        read "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请选择你需要做的事情(restart|stop):"')]),t._v(" action\n        case "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$action")]),t._v(" in\n                stop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("S"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                service vsftpd stop &>"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("null && "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"该'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$serivce")]),t._v('服务已经停止成功"')]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                service vsftpd "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),t._v(" &>"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("null && "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"该'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$serivce")]),t._v('服务已经成功启动"')]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        esac\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        httpd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("apache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"apache hello world"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请输入你要管理的服务名称(vsftpd)"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nesac\n\t\n")])])]),a("p",[t._v("###㈢ 菜单提示让用户选择需要做的事")]),t._v(" "),a("p",[a("strong",[t._v("具体需求：")])]),t._v(" "),a("p",[t._v("模拟一个多任务维护界面;当执行程序时先显示总菜单，然后进行选择后做相应维护监控操作")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("请选择"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("\nh\t显示命令帮助\nf\t显示磁盘分区\nd\t显示磁盘挂载\nm\t查看内存使用\nu\t查看系统负载\nq\t退出程序\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("\n")])])]),a("p",[a("strong",[t._v("思路：")])]),t._v(" "),a("ol",[a("li",[t._v("菜单打印出来")]),t._v(" "),a("li",[t._v("交互式让用户输入操作编号，然后做出相应处理")])]),t._v(" "),a("p",[a("strong",[t._v("落地实现：")])]),t._v(" "),a("ol",[a("li",[t._v("菜单打印(分解动作)")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/env bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" <<"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("EOF\n\th\t显示命令帮助\n\tf\t显示磁盘分区\n\td\t显示磁盘挂载\n\tm\t查看内存使用\n\tu\t查看系统负载\n\tq\t退出程序\n\tEOF\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("最终实现")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#打印菜单")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" <<"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("EOF\n\th\t显示命令帮助\n\tf\t显示磁盘分区\n\td\t显示磁盘挂载\n\tm\t查看内存使用\n\tu\t查看系统负载\n\tq\t退出程序\n\tEOF\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#让用户输入需要的操作")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" true\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\nread "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请输入需要操作的选项[f|d]:"')]),t._v(" var1\ncase "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$var1")]),t._v(" in\n\th"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" <<"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("EOF\n        h       显示命令帮助\n        f       显示磁盘分区\n        d       显示磁盘挂载\n        m       查看内存使用\n        u       查看系统负载\n        q       退出程序\n\tEOF\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tfdisk "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("l\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\td"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tdf "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("h\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tfree "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("m\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tuptime\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exit")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nesac\ndone\n\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#打印菜单")]),t._v("\nmenu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" <<"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("END")]),t._v("\n\th\t显示命令帮助\n\tf\t显示磁盘分区\n\td\t显示磁盘挂载\n\tm\t查看内存使用\n\tu\t查看系统负载\n\tq\t退出程序\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("END")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nmenu\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" true\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\nread "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请输入你的操作[h for help]:"')]),t._v(" var1\ncase "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$var1")]),t._v(" in\n\th"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tmenu\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tread "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请输入你要查看的设备名字[/dev/sdb]:"')]),t._v(" var2\n\tcase "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$var2")]),t._v(" in\n\t\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("sda"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\tfdisk "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("l "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("sda\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("sdb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\tfdisk "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("l "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("sdb\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tesac\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\td"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tlsblk\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tfree "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("m\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tuptime\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exit")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nesac\ndone\n\n")])])]),a("p",[a("strong",[t._v("课堂练习：")])]),t._v(" "),a("ol",[a("li",[t._v("输入一个等级（A-E），查看每个等级的成绩；如：输入A，则显示“90分~100分”，依次类推")]),t._v(" "),a("li",[t._v('判断用户输入的字符串，如果是"hello",则显示"world"；如果是"world",则显示"hello",否则提示"请输入hello或者world，谢谢！"')])]),t._v(" "),a("h1",{attrs:{id:"二、-函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、-函数"}},[t._v("#")]),t._v(" 二、==函数==")]),t._v(" "),a("h2",{attrs:{id:"_1-什么是函数？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是函数？"}},[t._v("#")]),t._v(" 1. 什么是函数？")]),t._v(" "),a("ul",[a("li",[t._v("shell中允许将"),a("strong",[t._v("一组命令集合")]),t._v("或"),a("strong",[t._v("语句")]),t._v("形成一段"),a("strong",[t._v("可用代码")]),t._v("，这些代码块称为shell函数")]),t._v(" "),a("li",[t._v("给这段代码起个名字称为函数名，后续可以直接调用该段代码的功能")])]),t._v(" "),a("h2",{attrs:{id:"_2-如何定义函数？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-如何定义函数？"}},[t._v("#")]),t._v(" 2. 如何定义函数？")]),t._v(" "),a("p",[a("strong",[t._v("方法1：")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("函数名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  函数体（一堆命令的集合，来实现某个功能）   \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("方法2：")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" 函数名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   函数体（一堆命令的集合，来实现某个功能）\n   "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" hello\n   "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" world\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("p",[a("strong",[t._v("函数中==return==说明:")])]),t._v(" "),a("ol",[a("li",[t._v("return可以==结束一个函数==。类似于循环控制语句break(结束当前循环，执行循环体后面的代码)。")]),t._v(" "),a("li",[t._v("return默认返回函数中最后一个命令状态值，也可以给定参数值，范围是0-256之间。")]),t._v(" "),a("li",[t._v("如果没有return命令，函数将返回最后一个指令的退出状态值。")])]),t._v(" "),a("h2",{attrs:{id:"_3-函数如何调用？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-函数如何调用？"}},[t._v("#")]),t._v(" 3. 函数如何调用？")]),t._v(" "),a("h3",{attrs:{id:"㈠-当前命令行调用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#㈠-当前命令行调用"}},[t._v("#")]),t._v(" ㈠ 当前命令行调用")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@MissHou shell04]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cat fun1.sh ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\nhello"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello lilei '),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v('"')]),t._v("\nhostname\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nmenu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" <<"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("EOF\n1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" mysql\n2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" web\n3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" app\n4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exit")]),t._v("\nEOF\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@MissHou shell04]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# source fun1.sh ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@MissHou shell04]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# . fun1.sh ")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@MissHou shell04]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# hello 888")]),t._v("\nhello lilei 888\nMissHou"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("itcast"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cc\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@MissHou shell04]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# menu")]),t._v("\n1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" mysql\n2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" web\n3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" app\n4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exit")]),t._v("\n\n")])])]),a("h3",{attrs:{id:"㈡-定义到用户的环境变量中"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#㈡-定义到用户的环境变量中"}},[t._v("#")]),t._v(" ㈡ 定义到用户的环境变量中")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@MissHou shell05]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# vim ~/.bashrc ")]),t._v("\n文件中增加如下内容：\nhello"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello lilei '),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v('"')]),t._v("\nhostname\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nmenu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" <<"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("EOF\n1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" mysql\n2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" web\n3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" app\n4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exit")]),t._v("\nEOF\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n注意：\n当用户打开bash的时候会读取该文件\n")])])]),a("h3",{attrs:{id:"㈢-脚本中调用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#㈢-脚本中调用"}},[t._v("#")]),t._v(" ㈢ 脚本中调用")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#打印菜单")]),t._v("\nsource "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("fun1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sh\nmenu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" <<"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("END")]),t._v("\n\th\t显示命令帮助\n\tf\t显示磁盘分区\n\td\t显示磁盘挂载\n\tm\t查看内存使用\n\tu\t查看系统负载\n\tq\t退出程序\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("END")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nmenu\t\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("调用函数\n\n")])])]),a("h2",{attrs:{id:"_4-应用案例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-应用案例"}},[t._v("#")]),t._v(" 4. 应用案例")]),t._v(" "),a("p",[a("strong",[t._v("具体需求：")])]),t._v(" "),a("ol",[a("li",[t._v("写一个脚本==收集用户输入==的基本信息(姓名，性别，年龄)，如不输入==一直提示输入==")]),t._v(" "),a("li",[t._v("最后根据用户的信息输出相对应的内容")])]),t._v(" "),a("p",[a("strong",[t._v("思路：")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("==交互式==定义多个变量来保存用户信息  姓名、性别、年龄")])]),t._v(" "),a("li",[a("p",[t._v("如果不输一直提示输入")]),t._v(" "),a("ul",[a("li",[t._v("==循环==直到输入字符串不为空  while  判断输入字符串是否为空\n"),a("ul",[a("li",[t._v("每个信息都必须不能为空，该功能可以定义为一个函数，方便下面脚本调用")])])])])]),t._v(" "),a("li",[a("p",[t._v("根据用户输入信息做出匹配判断")])])]),t._v(" "),a("p",[a("strong",[t._v("代码实现：")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#该函数实现用户如果不输入内容则一直循环直到用户输入为止，并且将用户输入的内容打印出来")]),t._v("\ninput_fun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  input_var="),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n  output_var="),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("z "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$input_var")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\tread "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$output_var")]),t._v('"')]),t._v(" input_var\n\tdone\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$input_var")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\ninput_fun 请输入你的姓名:\n\n或者\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\nfun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tread "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v('"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("z "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$var")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("then\n\t\tfun "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$var")]),t._v("\n\tfi\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#调用函数并且获取用户的姓名、性别、年龄分别赋值给name、sex、age变量")]),t._v("\nname=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input_fun 请输入你的姓名:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nsex=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input_fun 请输入你的性别:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nage=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input_fun 请输入你的年龄:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#根据用户输入的性别进行匹配判断")]),t._v("\ncase "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sex")]),t._v(" in\n\t\t\tman"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$age")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-gt")]),t._v(" 18 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("a "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$age")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-le")]),t._v(" 35 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("then\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"中年大叔你油腻了吗？加油"')]),t._v("\n\t\t\telif "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$age")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-gt")]),t._v(" 35 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("then\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"保温杯里泡枸杞"')]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"年轻有为。。。"')]),t._v("\n\t\t\tfi\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\twoman"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t\txxx\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t\txxx\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nesac\n\n")])])]),a("p",[a("strong",[t._v("扩展延伸：")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("描述以下代码含义：\t\n:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   :"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v(":&\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n:\n")])])]),a("h1",{attrs:{id:"三、综合案例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、综合案例"}},[t._v("#")]),t._v(" 三、综合案例")]),t._v(" "),a("h2",{attrs:{id:"_1-任务背景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-任务背景"}},[t._v("#")]),t._v(" 1. 任务背景")]),t._v(" "),a("p",[t._v("现有的跳板机虽然实现了统一入口来访问生产服务器，yunwei用户权限太大可以操作跳板机上的所有目录文件，存在数据被误删的安全隐患，所以希望你做一些安全策略来保证跳板机的正常使用。")]),t._v(" "),a("h2",{attrs:{id:"_2-具体要求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-具体要求"}},[t._v("#")]),t._v(" 2. 具体要求")]),t._v(" "),a("ol",[a("li",[t._v("只允许yunwei用户通过跳板机远程连接后台的应用服务器做一些维护操作")]),t._v(" "),a("li",[t._v("公司运维人员远程通过yunwei用户连接跳板机时，跳出以下菜单供选择：")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("欢迎使用Jumper"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("server，请选择你要操作的主机：\n1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" DB1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Master\n2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" DB2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Slave\n3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" Web1\n4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" Web2\nh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" help\nq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exit")]),t._v("\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("当用户选择相应主机后，直接"),a("strong",[t._v("免密码登录")]),t._v("成功")]),t._v(" "),a("li",[t._v("如果用户不输入一直提示用户输入，直到用户选择退出")])]),t._v(" "),a("h2",{attrs:{id:"_3-综合分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-综合分析"}},[t._v("#")]),t._v(" 3. 综合分析")]),t._v(" "),a("ol",[a("li",[t._v("将脚本放到yunwei用户家目录里的.bashrc文件里（/shell05/jumper-server.sh）")]),t._v(" "),a("li",[t._v("将菜单定义为一个函数[打印菜单]，方便后面调用")]),t._v(" "),a("li",[t._v("用case语句来实现用户的选择【交互式定义变量】")]),t._v(" "),a("li",[t._v("当用户选择了某一台服务器后，进一步询问用户需要做的事情  case...esac  交互式定义变量")]),t._v(" "),a("li",[t._v("使用循环来实现用户不选择一直让其选择")]),t._v(" "),a("li",[t._v("限制用户退出后直接关闭终端  exit")])]),t._v(" "),a("h2",{attrs:{id:"_4-落地实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-落地实现"}},[t._v("#")]),t._v(" 4. 落地实现")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# jumper-server")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 定义菜单打印功能的函数")]),t._v("\nmenu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" <<"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("EOF\n欢迎使用Jumper"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("server，请选择你要操作的主机：\n1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" DB1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Master\n2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" DB2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Slave\n3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" Web1\n4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" Web2\nh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" help\nq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exit")]),t._v("\n\tEOF\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 屏蔽以下信号")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("trap")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(" 1 2 3 19\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 调用函数来打印菜单")]),t._v("\nmenu\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#循环等待用户选择")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" true\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 菜单选择，case...esac语句")]),t._v("\nread "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请选择你要访问的主机:"')]),t._v(" host\ncase "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$host")]),t._v(" in\n\t1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tssh root@10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tssh root@10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("2\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tssh root@10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("3\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\th"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tclear"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("menu\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exit")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nesac\ndone\n\n\n将脚本放到yunwei用户家目录里的"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bashrc里执行：\nbash ~"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("jumper"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sh\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exit")]),t._v("\n\n")])])]),a("p",[a("strong",[t._v("进一步完善需求")])]),t._v(" "),a("p",[t._v("为了进一步增强跳板机的安全性，工作人员通过跳板机访问生产环境，但是不能在跳板机上停留。")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#公钥推送成功")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("trap")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(" 1 2 3 19\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#打印菜单用户选择")]),t._v("\nmenu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" <<"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("EOF\n欢迎使用Jumper"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("server，请选择你要操作的主机：\n1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" DB1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Master\n2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" DB2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Slave\n3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" Web1\n4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" Web2\nh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" help\nq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exit")]),t._v("\nEOF\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#调用函数来打印菜单")]),t._v("\nmenu\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" true\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\nread "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请输入你要选择的主机[h for help]："')]),t._v(" host\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#通过case语句来匹配用户所输入的主机")]),t._v("\ncase "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$host")]),t._v(" in\n\t1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("DB1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tssh root@10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("DB2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tssh root@10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("2\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("web1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tssh root@10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("250\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\th"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("help"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tclear"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("menu\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("quit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exit")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nesac\ndone\n\n自己完善功能：\n1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" 用户选择主机后，需要事先推送公钥；如何判断公钥是否已推\n2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" 比如选择web1时，再次提示需要做的操作，比如：\nclean log\n重启服务\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("kill")]),t._v("某个进程\n")])])]),a("p",[a("strong",[t._v("回顾信号：")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGHUP \t\t\t重新加载配置    \n2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGINT\t\t\t键盘中断^C\n3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGQUIT      \t键盘退出\n9"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGKILL\t\t \t强制终止\n15"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGTERM\t    \t终止（正常结束），缺省信号\n18"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGCONT\t   \t继续\n19"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGSTOP\t   \t停止\n20"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGTSTP     \t暂停^Z\n")])])]),a("h1",{attrs:{id:"四、正则表达式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、正则表达式"}},[t._v("#")]),t._v(" 四、正则表达式")]),t._v(" "),a("h2",{attrs:{id:"_1-正则表达式是什么？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-正则表达式是什么？"}},[t._v("#")]),t._v(" 1. 正则表达式是什么？")]),t._v(" "),a("p",[a("strong",[t._v("正则表达式")]),t._v("（Regular Expression、regex或regexp，缩写为RE），也译为正规表示法、常规表示法，是一种字符模式，用于在查找过程中==匹配指定的字符==。")]),t._v(" "),a("p",[t._v("许多程序设计语言都支持利用正则表达式进行"),a("strong",[t._v("字符串操作")]),t._v("。例如，在Perl中就内建了一个功能强大的正则表达式引擎。")]),t._v(" "),a("p",[t._v("正则表达式这个概念最初是由Unix中的工具软件（例如sed和grep）普及开的。")]),t._v(" "),a("p",[t._v("支持正则表达式的程序如：locate |find| vim| grep| sed |awk")]),t._v(" "),a("h2",{attrs:{id:"_2-正则能干什么？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-正则能干什么？"}},[t._v("#")]),t._v(" 2. 正则能干什么？")]),t._v(" "),a("ol",[a("li",[t._v("匹配邮箱、匹配身份证号码、手机号、银行卡号等")]),t._v(" "),a("li",[t._v("匹配某些特定字符串，做特定处理等等")])]),t._v(" "),a("h2",{attrs:{id:"_3-正则当中名词解释"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-正则当中名词解释"}},[t._v("#")]),t._v(" 3. 正则当中名词解释")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("元字符")])]),t._v(" "),a("p",[t._v("指那些在正则表达式中具有"),a("strong",[t._v("特殊意义的==专用字符==")]),t._v(",如:点(.) 星(*) 问号(?)等")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("前导字符")])]),t._v(" "),a("p",[t._v("位于"),a("strong",[t._v("元字符")]),t._v("前面的字符.\tab**==c==***   aoo**==o==.**")])])]),t._v(" "),a("h2",{attrs:{id:"_4-第一类正则表达式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-第一类正则表达式"}},[t._v("#")]),t._v(" 4. 第一类正则表达式")]),t._v(" "),a("h3",{attrs:{id:"㈠-正则中普通常用的元字符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#㈠-正则中普通常用的元字符"}},[t._v("#")]),t._v(" ㈠ 正则中普通常用的元字符")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("元字符")]),t._v(" "),a("th",[t._v("功能")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v(".")]),t._v(" "),a("td",[t._v("匹配除了换行符以外的==任意单个==字符")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("*")]),t._v(" "),a("td",[t._v("==前导字符==出现==0==次或==连续多次==")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v(".*")]),t._v(" "),a("td",[t._v("任意长度字符")]),t._v(" "),a("td",[t._v("ab.*")])]),t._v(" "),a("tr",[a("td",[t._v("^")]),t._v(" "),a("td",[t._v("行首(以...开头)")]),t._v(" "),a("td",[t._v("^root")])]),t._v(" "),a("tr",[a("td",[t._v("$")]),t._v(" "),a("td",[t._v("行尾(以...结尾)")]),t._v(" "),a("td",[t._v("bash$")])]),t._v(" "),a("tr",[a("td",[t._v("^$")]),t._v(" "),a("td",[t._v("空行")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("[]")]),t._v(" "),a("td",[t._v("匹配括号里任意单个字符或一组单个字符")]),t._v(" "),a("td",[t._v("[abc]")])]),t._v(" "),a("tr",[a("td",[t._v("[^]")]),t._v(" "),a("td",[t._v("匹配不包含括号里任一单个字符或一组单个字符")]),t._v(" "),a("td",[t._v("[^abc]")])]),t._v(" "),a("tr",[a("td",[t._v("^[]")]),t._v(" "),a("td",[t._v("匹配以括号里任意单个字符或一组单个字符开头")]),t._v(" "),a("td",[t._v("^[abc]")])]),t._v(" "),a("tr",[a("td",[t._v("^[^]")]),t._v(" "),a("td",[t._v("匹配不以括号里任意单个字符或一组单个字符开头")]),t._v(" "),a("td",[t._v("^[^abc]")])])])]),t._v(" "),a("ul",[a("li",[t._v("示例文本")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cat 1.txt")]),t._v("\nggle\ngogle\ngoogle\ngooogle\ngoooooogle\ngooooooogle\ntaobao"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com\ntaotaobaobao"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com\n\njingdong"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com\ndingdingdongdong"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com\n10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1\nAdfjd8789JHfdsdf"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\na87fdjfkdLKJK\n7kdjfd989KJK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbSKJjkksdjf878"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\ncidufKJHJ6576"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\nhello world\nhelloworld yourself\n")])])]),a("ul",[a("li",[t._v("举例说明")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("\n")])])]),a("h3",{attrs:{id:"㈡-正则中其他常用元字符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#㈡-正则中其他常用元字符"}},[t._v("#")]),t._v(" ㈡ 正则中其他常用元字符")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("元字符")]),t._v(" "),a("th",[t._v("功能")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("\\<")]),t._v(" "),a("td",[t._v("取单词的头")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("\\>")]),t._v(" "),a("td",[t._v("取单词的尾")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("\\<  \\>")]),t._v(" "),a("td",[t._v("精确匹配")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("\\{n\\}")]),t._v(" "),a("td",[t._v("匹配前导字符==连续出现n次==")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("\\{n,\\}")]),t._v(" "),a("td",[t._v("匹配前导字符==至少出现n次==")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("\\{n,m\\}")]),t._v(" "),a("td",[t._v("匹配前导字符出现==n次与m次之间==")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("\\(   \\)")]),t._v(" "),a("td",[t._v("保存被匹配的字符")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("\\d")]),t._v(" "),a("td",[t._v("匹配数字（"),a("strong",[t._v("grep -P")]),t._v("）")]),t._v(" "),a("td",[t._v("[0-9]")])]),t._v(" "),a("tr",[a("td",[t._v("\\w")]),t._v(" "),a("td",[t._v("匹配字母数字下划线（"),a("strong",[t._v("grep -P")]),t._v("）")]),t._v(" "),a("td",[t._v("[a-zA-Z0-9_]")])]),t._v(" "),a("tr",[a("td",[t._v("\\s")]),t._v(" "),a("td",[t._v("匹配空格、制表符、换页符（"),a("strong",[t._v("grep -P")]),t._v("）")]),t._v(" "),a("td",[t._v("[\\t\\r\\n]")])])])]),t._v(" "),a("p",[a("strong",[t._v("举例说明：")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("需求：将10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1替换成10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("254\n\n1）vim编辑器支持正则表达式\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# vim 1.txt")]),t._v("\n:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("s"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#\\(10.1.1\\).1#\\1.254#g ")]),t._v("\n:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("s"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\\"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1\\"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\\1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("254"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("g \n\n2）sed支持正则表达式【后面学】\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n 's#\\(10.1.1\\).1#\\1.254#p' 1.txt")]),t._v("\n10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("254\n\n说明：\n找出含有10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1的行，同时保留10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1并标记为标签1，之后可以使用\\1来引用它。\n最多可以定义9个标签，从左边开始编号，最左边的是第一个。\n\n\n需求：将helloworld yourself 换成hellolilei myself\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# vim 1.txt")]),t._v("\n:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("s"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#\\(hello\\)world your\\(self\\)#\\1lilei my\\2#g")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n 's/\\(hello\\)world your\\(self\\)/\\1lilei my\\2/p' 1.txt ")]),t._v("\nhellolilei myself\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n 's/helloworld yourself/hellolilei myself/p' 1.txt ")]),t._v("\nhellolilei myself\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sed -n 's/\\(hello\\)world your\\(self\\)/\\1lilei my\\2/p' 1.txt ")]),t._v("\nhellolilei myself\n\nPerl内置正则：\n\\d      匹配数字  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("0"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("9"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\\w      匹配字母数字下划线"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[a-zA-Z0-9_]")]),t._v("\n\\s      匹配空格、制表符、换页符"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\\t\\r\\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# grep -P '\\d' 1.txt")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# grep -P '\\w' 2.txt")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# grep -P '\\s' 3.txt")]),t._v("\n")])])]),a("h3",{attrs:{id:"㈢-扩展类正则常用元字符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#㈢-扩展类正则常用元字符"}},[t._v("#")]),t._v(" ㈢ 扩展类正则常用元字符")]),t._v(" "),a("p",[a("strong",[t._v("==丑话说在前面：==")])]),t._v(" "),a("p",[t._v("我说我比较特殊，你要相信！否则我错给你看😏")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("grep你要用我，必须加 "),a("strong",[t._v("==-E==")]),t._v("  或者  让你兄弟"),a("code",[t._v("egrep")]),t._v("来找我")])]),t._v(" "),a("li",[a("p",[t._v("sed你要用我，必须加 "),a("strong",[t._v("==-r==")])])])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("扩展元字符")]),t._v(" "),a("th",[t._v("功能")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("+")]),t._v(" "),a("td",[t._v("匹配一个或多个前导字符")]),t._v(" "),a("td",[t._v("bo+ 匹配boo、 bo")])]),t._v(" "),a("tr",[a("td",[t._v("?")]),t._v(" "),a("td",[t._v("匹配零个或一个前导字符")]),t._v(" "),a("td",[t._v("bo? 匹配b、 bo")])]),t._v(" "),a("tr",[a("td",[t._v("|")]),t._v(" "),a("td",[t._v("或")]),t._v(" "),a("td",[t._v("匹配a或b")])]),t._v(" "),a("tr",[a("td",[t._v("()")]),t._v(" "),a("td",[t._v("组字符（看成整体）")]),t._v(" "),a("td",[t._v("(my|your)self：表示匹配myself或匹配yourself")])]),t._v(" "),a("tr",[a("td",[t._v("{n}")]),t._v(" "),a("td",[t._v("前导字符重复n次")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("{n,}")]),t._v(" "),a("td",[t._v("前导字符重复至少n次")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("{n,m}")]),t._v(" "),a("td",[t._v("前导字符重复n到m次")]),t._v(" "),a("td")])])]),t._v(" "),a("p",[a("strong",[t._v("举例说明：")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# grep "root|ftp|adm" /etc/passwd')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# egrep "root|ftp|adm" /etc/passwd')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# grep -E "root|ftp|adm" /etc/passwd')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# grep -E 'o+gle' test.txt ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# grep -E 'o?gle' test.txt ")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# egrep 'go{2,}' 1.txt")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# egrep '(my|your)self' 1.txt")]),t._v("\n\n\n使用正则过滤出文件中的IP地址：\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# grep '[0-9]\\{2\\}\\.[0-9]\\{1\\}\\.[0-9]\\{1\\}\\.[0-9]\\{1\\}' 1.txt ")]),t._v("\n10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# grep '[0-9]{2}\\.[0-9]{1}\\.[0-9]{1}\\.[0-9]{1}' 1.txt ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# grep -E '[0-9]{2}\\.[0-9]{1}\\.[0-9]{1}\\.[0-9]{1}' 1.txt ")]),t._v("\n10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# grep -E '[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}' 1.txt ")]),t._v("\n10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# grep -E '([0-9]{1,3}\\.){3}[0-9]{1,3}' 1.txt ")]),t._v("\n10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1\n\n")])])]),a("h2",{attrs:{id:"_5-第二类正则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-第二类正则"}},[t._v("#")]),t._v(" 5. 第二类正则")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("表达式")]),t._v(" "),a("th",[t._v("功能")]),t._v(" "),a("th",[t._v("示例")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("[:alnum:]")]),t._v(" "),a("td",[t._v("字母与数字字符")]),t._v(" "),a("td",[t._v("[[:alnum:]]+")])]),t._v(" "),a("tr",[a("td",[t._v("[:alpha:]")]),t._v(" "),a("td",[t._v("字母字符(包括大小写字母)")]),t._v(" "),a("td",[t._v("[[:alpha:]]{4}")])]),t._v(" "),a("tr",[a("td",[t._v("[:blank:]")]),t._v(" "),a("td",[t._v("空格与制表符")]),t._v(" "),a("td",[t._v("[[:blank:]]*")])]),t._v(" "),a("tr",[a("td",[t._v("[:digit:]")]),t._v(" "),a("td",[t._v("数字")]),t._v(" "),a("td",[t._v("[[:digit:]]?")])]),t._v(" "),a("tr",[a("td",[t._v("[:lower:]")]),t._v(" "),a("td",[t._v("小写字母")]),t._v(" "),a("td",[t._v("[[:lower:]]{4,}")])]),t._v(" "),a("tr",[a("td",[t._v("[:upper:]")]),t._v(" "),a("td",[t._v("大写字母")]),t._v(" "),a("td",[t._v("[[:upper:]]+")])]),t._v(" "),a("tr",[a("td",[t._v("[:punct:]")]),t._v(" "),a("td",[t._v("标点符号")]),t._v(" "),a("td",[t._v("[[:punct:]]")])]),t._v(" "),a("tr",[a("td",[t._v("[:space:]")]),t._v(" "),a("td",[t._v("包括换行符，回车等在内的所有空白")]),t._v(" "),a("td",[t._v("[[:space:]]+")])])])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server shell05]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# grep -E '^[[:digit:]]+' 1.txt")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server shell05]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# grep -E '^[^[:digit:]]+' 1.txt")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@server shell05]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# grep -E '[[:lower:]]{4,}' 1.txt")]),t._v("\n")])])]),a("h2",{attrs:{id:"_6-正则表达式总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-正则表达式总结"}},[t._v("#")]),t._v(" 6. 正则表达式总结")]),t._v(" "),a("p",[a("strong",[t._v("把握一个原则，让你轻松搞定可恶的正则符号：")])]),t._v(" "),a("ol",[a("li",[t._v("我要找什么？\n"),a("ul",[a("li",[t._v("找数字  \t\t                  [0-9]")]),t._v(" "),a("li",[t._v("找字母                                    [a-zA-Z]")]),t._v(" "),a("li",[t._v("找标点符号                            [[:punct:]]")])])]),t._v(" "),a("li",[t._v("我要如何找？看心情找\n"),a("ul",[a("li",[t._v("以什么为首                           ^key")]),t._v(" "),a("li",[t._v("以什么结尾                           key$")]),t._v(" "),a("li",[t._v("包含什么或不包含什么        [abc]  ^[abc]   [^abc]   ^[^abc]")])])]),t._v(" "),a("li",[t._v("我要找多少呀？\n"),a("ul",[a("li",[t._v("找前导字符出现0次或连续多次             ab==*==")]),t._v(" "),a("li",[t._v("找任意单个(一次)字符                             ab==.==")]),t._v(" "),a("li",[t._v("找任意字符                                               ab==.*==")]),t._v(" "),a("li",[t._v("找前导字符连续出现几次                        {n}  {n,m}   {n,}")]),t._v(" "),a("li",[t._v("找前导字符出现1次或多次                      go==+==")]),t._v(" "),a("li",[t._v("找前到字符出现0次或1次                       go==?==")])])])]),t._v(" "),a("h1",{attrs:{id:"五、正则元字符一栏表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、正则元字符一栏表"}},[t._v("#")]),t._v(" 五、正则元字符一栏表")]),t._v(" "),a("p",[a("strong",[t._v("元字符")]),t._v("：在正则中，具有特殊意义的专用字符，如: 星号(*)、加号(+)等")]),t._v(" "),a("p",[a("strong",[t._v("前导字符")]),t._v("：元字符前面的字符叫前导字符")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("元字符")]),t._v(" "),a("th",[t._v("功能")]),t._v(" "),a("th",[t._v("示例")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("*")]),t._v(" "),a("td",[t._v("前导字符出现0次或者连续多次")]),t._v(" "),a("td",[t._v("ab*  abbbb")])]),t._v(" "),a("tr",[a("td",[t._v(".")]),t._v(" "),a("td",[t._v("除了换行符以外，任意单个字符")]),t._v(" "),a("td",[t._v("ab.   ab8 abu")])]),t._v(" "),a("tr",[a("td",[t._v(".*")]),t._v(" "),a("td",[t._v("任意长度的字符")]),t._v(" "),a("td",[t._v("ab.*  adfdfdf")])]),t._v(" "),a("tr",[a("td",[t._v("[]")]),t._v(" "),a("td",[t._v("括号里的任意单个字符或一组单个字符")]),t._v(" "),a("td",[t._v("[abc][0-9][a-z]")])]),t._v(" "),a("tr",[a("td",[t._v("[^]")]),t._v(" "),a("td",[t._v("不匹配括号里的任意单个字符或一组单个字符")]),t._v(" "),a("td",[t._v("[^abc]")])]),t._v(" "),a("tr",[a("td",[t._v("^[]")]),t._v(" "),a("td",[t._v("匹配以括号里的任意单个字符开头")]),t._v(" "),a("td",[t._v("^[abc]")])]),t._v(" "),a("tr",[a("td",[t._v("^[^]")]),t._v(" "),a("td",[t._v("不匹配以括号里的任意单个字符开头")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("^")]),t._v(" "),a("td",[t._v("行的开头")]),t._v(" "),a("td",[t._v("^root")])]),t._v(" "),a("tr",[a("td",[t._v("$")]),t._v(" "),a("td",[t._v("行的结尾")]),t._v(" "),a("td",[t._v("bash$")])]),t._v(" "),a("tr",[a("td",[t._v("^$")]),t._v(" "),a("td",[t._v("空行")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("\\{n\\}和{n}")]),t._v(" "),a("td",[t._v("前导字符连续出现n次")]),t._v(" "),a("td",[t._v("[0-9]\\{3\\}")])]),t._v(" "),a("tr",[a("td",[t._v("\\{n,\\}和{n,}")]),t._v(" "),a("td",[t._v("前导字符至少出现n次")]),t._v(" "),a("td",[t._v("[a-z]{4,}")])]),t._v(" "),a("tr",[a("td",[t._v("\\{n,m\\}和{n,m}")]),t._v(" "),a("td",[t._v("前导字符连续出现n-m次")]),t._v(" "),a("td",[t._v("go{2,4}")])]),t._v(" "),a("tr",[a("td",[t._v("\\<\\>")]),t._v(" "),a("td",[t._v("精确匹配单词")]),t._v(" "),a("td",[t._v("\\<hello\\>")])]),t._v(" "),a("tr",[a("td",[t._v("\\(\\)")]),t._v(" "),a("td",[t._v("保留匹配到的字符")]),t._v(" "),a("td",[t._v("\\(hello\\)")])]),t._v(" "),a("tr",[a("td",[t._v("+")]),t._v(" "),a("td",[t._v("前导字符出现1次或者多次")]),t._v(" "),a("td",[t._v("[0-9]+")])]),t._v(" "),a("tr",[a("td",[t._v("?")]),t._v(" "),a("td",[t._v("前导字符出现0次或者1次")]),t._v(" "),a("td",[t._v("go?")])]),t._v(" "),a("tr",[a("td",[t._v("|")]),t._v(" "),a("td",[t._v("或")]),t._v(" "),a("td",[t._v("^root|^ftp")])]),t._v(" "),a("tr",[a("td",[t._v("()")]),t._v(" "),a("td",[t._v("组字符")]),t._v(" "),a("td",[t._v("(hello|world)123")])]),t._v(" "),a("tr",[a("td",[t._v("\\d")]),t._v(" "),a("td",[t._v("perl内置正则")]),t._v(" "),a("td",[t._v("grep -P  \\d+")])]),t._v(" "),a("tr",[a("td",[t._v("\\w")]),t._v(" "),a("td",[t._v("匹配字母数字下划线")]),t._v(" "),a("td")])])]),t._v(" "),a("h1",{attrs:{id:"六、正则练习作业"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六、正则练习作业"}},[t._v("#")]),t._v(" 六、正则练习作业")]),t._v(" "),a("h2",{attrs:{id:"_1-文件准备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-文件准备"}},[t._v("#")]),t._v(" 1. 文件准备")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# vim test.txt ")]),t._v("\nAieur45869Root0000\n9h847RkjfkIIIhello\nrootHllow88000dfjj\n8ikuioerhfhupliooking\nhello world\n192"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("168"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("254\nwelcome to uplooking"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nabcderfkdjfkdtest\nrlllA899kdfkdfj\niiiA848890ldkfjdkfj\nabc\n12345678908374\n123456@qq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com\n123456@163"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com\nabcdefg@itcast"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com23ed\n")])])]),a("h2",{attrs:{id:"_2-具体要求-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-具体要求-2"}},[t._v("#")]),t._v(" 2. 具体要求")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("1、查找不以大写字母开头的行（三种写法）。\ngrep "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'^[^A-Z]'")]),t._v(" 2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\ngrep "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("v "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'^[A-Z]'")]),t._v(" 2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\ngrep "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'^[^[:upper:]]'")]),t._v(" 2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n2、查找有数字的行（两种写法）\ngrep "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'[0-9]'")]),t._v(" 2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\ngrep "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("P "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\d'")]),t._v(" 2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n3、查找一个数字和一个字母连起来的\ngrep "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("E "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'[0-9][a-zA-Z]|[a-zA-Z][0-9]'")]),t._v(" 2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n4、查找不以r开头的行\ngrep "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("v "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'^r'")]),t._v(" 2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\ngrep "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'^[^r]'")]),t._v(" 2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n5、查找以数字开头的\ngrep "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'^[0-9]'")]),t._v(" 2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n6、查找以大写字母开头的\ngrep "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'^[A-Z]'")]),t._v(" 2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n7、查找以小写字母开头的\ngrep "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'^[a-z]'")]),t._v(" 2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n8、查找以点结束的\ngrep "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\.$'")]),t._v(" 2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n9、去掉空行\ngrep "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("v "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'^$'")]),t._v(" 2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n10、查找完全匹配abc的行\ngrep "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\<abc\\>'")]),t._v(" 2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n11、查找A后有三个数字的行\ngrep "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("E "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A[0-9]{3}'")]),t._v(" 2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\ngrep  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A[0-9]\\{3\\}'")]),t._v(" 2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n12、统计root在"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("passwd里出现了几次\ngrep "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("o "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),t._v(" 1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("wc "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("l\n\n13、用正则表达式找出自己的IP地址、广播地址、子网掩码\nifconfig eth0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("grep Bcast"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("grep "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("o "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'[0-9]\\{1,3\\}\\.[0-9]\\{1,3\\}\\.[0-9]\\{1,3\\}\\.[0-9]\\{1,3\\}'")]),t._v("\nifconfig eth0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("grep Bcast"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v(" grep "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("E "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("o "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'([0-9]{1,3}.){3}[0-9]{1,3}'")]),t._v("\nifconfig eth0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("grep Bcast"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v(" grep "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("P "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("o "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\d{1,3}.\\d{1,3}.\\d{1,3}.\\d{1,3}'")]),t._v("\nifconfig eth0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("grep Bcast"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v(" grep "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("P "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("o "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'(\\d{1,3}.){3}\\d{1,3}'")]),t._v("\nifconfig eth0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("grep Bcast"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v(" grep "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("P "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("o "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'(\\d+.){3}\\d+'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# egrep --color '[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}' /etc/sysconfig/network-scripts/ifcfg-eth0")]),t._v("\nIPADDR=10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1\nNETMASK=255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("0\nGATEWAY=10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("254\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# egrep --color '[[:digit:]]{1,3}\\.[[:digit:]]{1,3}\\.[[:digit:]]{1,3}\\.[[:digit:]]{1,3}' /etc/sysconfig/network-scripts/ifcfg-eth0 ")]),t._v("\nIPADDR=10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1\nNETMASK=255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("255"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("0\nGATEWAY=10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("254\n\n\n14、找出文件中的ip地址并且打印替换成172"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("16"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("254\ngrep "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("o "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("E "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'([0-9]{1,3}\\.){3}[0-9]{1,3}'")]),t._v(" 1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("sed "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s/192.168.0.\\(254\\)/172.16.2.\\1/p'")]),t._v("\n\n15、找出文件中的ip地址\ngrep "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("o "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("E "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'([0-9]{1,3}\\.){3}[0-9]{1,3}'")]),t._v(" 1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n\n16、找出全部是数字的行\ngrep "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("E "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'^[0-9]+$'")]),t._v(" test\n17、找出邮箱地址\ngrep "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("E "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'^[0-9]+@[a-z0-9]+\\.[a-z]+$'")]),t._v("\n\n\ngrep "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("help:\n匹配模式选择：\nRegexp selection and interpretation:\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("E"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("extended"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("regexp     扩展正则\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("G"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("basic"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("regexp        基本正则\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("P"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("perl"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("regexp         调用perl的正则\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("regexp=PATTERN      use PATTERN "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" matching\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("file=FILE           obtain PATTERN "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" FILE\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("ignore"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("case         忽略大小写\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("w"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("word"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("regexp         匹配整个单词\n  \n")])])]),a("h1",{attrs:{id:"七、课后作业"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#七、课后作业"}},[t._v("#")]),t._v(" 七、课后作业")]),t._v(" "),a("h2",{attrs:{id:"脚本搭建web服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#脚本搭建web服务"}},[t._v("#")]),t._v(" 脚本搭建web服务")]),t._v(" "),a("p",[a("strong",[t._v("要求如下")]),t._v("：")]),t._v(" "),a("ol",[a("li",[t._v("用户输入web服务器的IP、域名以及数据根目录")]),t._v(" "),a("li",[t._v("如果用户不输入则一直提示输入，直到输入为止")]),t._v(" "),a("li",[t._v("当访问www.test.cc时可以访问到数据根目录里的首页文件“this is test page”")])]),t._v(" "),a("p",[a("strong",[t._v("参考脚本：")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("参考：\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\nconf="),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("httpd"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("conf"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("httpd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("conf\ninput_fun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  input_var="),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n  output_var="),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("z "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$input_var")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\tread "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$output_var")]),t._v('"')]),t._v(" input_var\n\tdone\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$input_var")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nipaddr=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input_fun "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Input Host ip[192.168.0.1]:"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nweb_host_name=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input_fun "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Input VirtualHostName [www.test.cc]:"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nroot_dir=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input_fun "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Input host Documentroot dir:[/var/www/html]:"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("d "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$root_dir")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" && mkdir "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$root_dir")]),t._v("\nchown apache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("apache "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$root_dir")]),t._v(" && chmod 755 "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$root_dir")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" this is "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$web_host_name")]),t._v(" > "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$root_dir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ipaddr")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$web_host_name")]),t._v('"')]),t._v(" >> "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("hosts\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$conf")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" && "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" >> "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$conf")]),t._v(" <<"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\nNameVirtualHost "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ipaddr")]),t._v(":80\n<VirtualHost "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ipaddr")]),t._v(":80>\n\tServerAdmin webmaster@"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$web_host_name")]),t._v("\n\tDocumentRoot "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$root_dir")]),t._v("\n\tServerName "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$web_host_name")]),t._v("\n\tErrorLog logs"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$web_host_name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("error_log\n\tCustomLog logs"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$web_host_name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("access_loh common\n<"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("VirtualHost>\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);