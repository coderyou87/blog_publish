(window.webpackJsonp=window.webpackJsonp||[]).push([[322],{577:function(a,t,s){"use strict";s.r(t);var e=s(42),v=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"数据填报安装部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据填报安装部署"}},[a._v("#")]),a._v(" 数据填报安装部署")]),a._v(" "),s("h2",{attrs:{id:"一、部署的内容"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、部署的内容"}},[a._v("#")]),a._v(" 一、部署的内容")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("注册中心 "),s("code",[a._v("nacos")])]),a._v(" "),s("p",[a._v("nacos管理所有服务地址、中转以及服务的配置信息")])]),a._v(" "),s("li",[s("p",[a._v("网关 "),s("code",[a._v("gateway")])]),a._v(" "),s("p",[a._v("安全拦截与请求转发")])]),a._v(" "),s("li",[s("p",[a._v("各个微服务")]),a._v(" "),s("p",[a._v("例如：数据填报、"),s("code",[a._v("ue")]),a._v("、"),s("code",[a._v("dac")])])]),a._v(" "),s("li",[s("p",[a._v("前端服务器"),s("code",[a._v("nginx")])])])]),a._v(" "),s("h2",{attrs:{id:"二、部署详细步骤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、部署详细步骤"}},[a._v("#")]),a._v(" 二、部署详细步骤")]),a._v(" "),s("h3",{attrs:{id:"_2-1-安装注册中心"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-安装注册中心"}},[a._v("#")]),a._v(" 2.1 安装注册中心")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("解压"),s("code",[a._v("nacos")])])]),a._v(" "),s("li",[s("p",[a._v("配置数据库")]),a._v(" "),s("blockquote",[s("ul",[s("li",[a._v("安装数据库，版本要求："),s("code",[a._v("5.6.5+")])])]),a._v(" "),s("ul",[s("li",[a._v("初始化mysql数据库，数据库初始化文件："),s("code",[a._v("nacos-mysql.sql")])]),a._v(" "),s("li",[a._v("修改"),s("code",[a._v("conf/application.properties")]),a._v("文件，增加支持mysql数据源配置（目前只支持mysql），添加mysql数据源的url、用户名和密码。")])])]),a._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("spring.datasource.platform")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("mysql")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("db.num")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("1")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("db.url.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("jdbc:mysql://11.162.196.16:3306/nacos_devtest?characterEncoding=utf8&connectTimeout=1000&socketTimeout=3000&autoReconnect=true")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("db.user")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("nacos_devtest")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("db.password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("youdontknow")]),a._v("\n")])])])]),a._v(" "),s("li",[s("p",[a._v("启动nacos")]),a._v(" "),s("p",[a._v("单机启动模式")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${nacos-home}")]),a._v("/bin/startup.sh -m standalone\n")])])])]),a._v(" "),s("li",[s("p",[a._v("查看管理界面")]),a._v(" "),s("blockquote",[s("p",[a._v("访问：http://ip:8848/nacos/index.html")]),a._v(" "),s("p",[a._v("初始用户名与密码都是"),s("code",[a._v("nacos")])])])])]),a._v(" "),s("h3",{attrs:{id:"_2-2-启动微服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-启动微服务"}},[a._v("#")]),a._v(" 2.2 启动微服务")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("每一个配置文件中，使用域名，不实用"),s("code",[a._v("ip")]),a._v("地址")])]),a._v(" "),s("li",[s("p",[a._v("在"),s("code",[a._v("/etc/hosts")]),a._v("中，添加域名配置")])]),a._v(" "),s("li",[s("p",[a._v("提供默认配置文件，在注册中心导入配置文件，并在注册中心修改修改配置文件，发布，即可。")])]),a._v(" "),s("li",[s("p",[a._v("启动微服务")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${server-home}")]),a._v("/bin/"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${server-name}")]),a._v(" start\n")])])]),s("p",[a._v("当前启动的服务主要有："),s("code",[a._v("df-editor")]),a._v("、"),s("code",[a._v("df-datasource")]),a._v("、"),s("code",[a._v("gateway")])])])]),a._v(" "),s("h3",{attrs:{id:"_2-3-启动前端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-启动前端"}},[a._v("#")]),a._v(" 2.3 启动前端")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("安装Nginx")]),a._v(" "),s("blockquote",[s("ul",[s("li",[a._v("解压"),s("code",[a._v("nginx tar -zxvf nginx.tar.gz")])]),a._v(" "),s("li",[a._v("编译"),s("code",[a._v("nginx ./configure --prefix=/xx/xx")])]),a._v(" "),s("li",[a._v("安装 "),s("code",[a._v("make && make install")])]),a._v(" "),s("li",[a._v("修改nginx配置，更改前端页面路径"),s("code",[a._v("(root)")]),a._v("，修改网关地址")])])])]),a._v(" "),s("li",[s("p",[a._v("将前端项目解压在指定目录下")])]),a._v(" "),s("li",[s("p",[a._v("启动"),s("code",[a._v("nginx")])])]),a._v(" "),s("li",[s("p",[a._v("访问"),s("code",[a._v("nginx")])])])])])}),[],!1,null,null,null);t.default=v.exports}}]);